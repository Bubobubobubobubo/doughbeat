# doughbeat

doughbeat is a very minimal livecoding editor. Principles:

- Minimal API
- Bring your own abstractions
- Just a single HTML file

You can use it here: <https://felixroos.github.io/doughbeat/>

## Usage

The application is very simple, you just have to write a `dsp` function that uses its only argument `t` (time in seconds) to calculate a number between -1 and 1.
The returned number represents the speaker position for that moment in time: 0 is the resting position while -1 and 1 are maximum in / out.
The `dsp` function will be called 44100 times per second! Example:

Example:

```js
function dsp(t) {
  return ((110 * t) % 1) - 0.5;
}
```

This is a simple sawtooth wave... The returned numbers will rise from -0.5 to 0.5 at a frequency of 110Hz.
This is just a very basic example.
You can actually write full music pieces with this abstraction.

## Examples

The following examples are all shamelessly copied from [wavepot](http://wavepot.com/), all rights / credits go to the respective authors! I will first have to learn how to use this tool myself to add some of my own tunes -\_- This is just to give some inspiration of what's possible

- [stagas - early morning](https://felixroos.github.io/doughbeat/#Ci8qIQogKgogKiBzdGFnYXMgLSBlYXJseSBtb3JuaW5nCiAqCiAqLwoKdmFyIGJwbSA9IDEyMDsKdmFyIHR1bmluZyA9IDQ0MDsKdmFyIHRyYW5zcG9zZSA9IDEyOwoKLy8gY29uc3RhbnRzCnZhciB0YXUgPSAyICogTWF0aC5QSTsKCi8vIHRpbWUgY29lZmZpY2llbnRzCnZhciB0LCB0dDsKCi8vIGFkanVzdCB0dW5pbmcgdG8gYnBtCnR1bmluZyAqPSAxMjAgLyBicG07CgovLyBwYXR0ZXJucwp2YXIgY2hvcmRzID0gWwogIFs3LCA5LCAxMiwgMTZdLAogIFsyLCA1LCA5LCAxMl0sCiAgWzQsIDcsIDExLCAxNF0sCiAgWzIsIDUsIDksIDEyXSwKXS5tYXAoZnVuY3Rpb24oY2hvcmQpewogIHJldHVybiBjaG9yZC5tYXAoZnVuY3Rpb24obil7CiAgICByZXR1cm4gbm90ZShuKTsKICB9KTsKfSkucmV2ZXJzZSgpOwoKdmFyIGhhdF9wYXR0ZXJuID0gWwogIDAuMCwgMC4wLCAwLjUsIDAuMCwgIDAuMCwgMC4wLCAwLjUsIDAuMCwKICAwLjAsIDAuMCwgMC41LCAwLjAsICAwLjAsIDAuMCwgMC41LCAwLjAsCl07Cgp2YXIgcGx1Y2tlZCA9IFBsdWNrKDYwLCAwLjksIDAuOTMsIDEuMCwgMC45KTsKCnZhciBraWNrX25vdGUgPSBub3RlKDIsIC0xKTsKCnZhciBiYXNzX2xwID0gTFAyKDYyMDApOwoKZnVuY3Rpb24gZHNwKHQpewogIGNsb2NrKHQpOwoKICB2YXIgaGF0X25vdGUgPSBub3RlKDksIDEgKyB0cmkoMS82KSAqIDIgfCAwKTsKCiAgdmFyIGMgPSBzZXF1ZW5jZSgxLzgsIGNob3Jkcyk7CgogIHZhciBub2lzZSA9IE5vaXNlKCk7CgogIHZhciBhID0gMC45ICogdHJpKDAuMDEsIHQgLyAyICUgKDEpKTsKICB2YXIgYiA9IDAuOCAqIE1hdGguc2luKGEgKiB0YXUgKiB0KTsKCiAgdmFyIGJhc3Nfb3NjID0KICAgIDAuMSAqIHNpbihjWzIgKyAoTWF0aC5mbG9vcihzaW4oKDEvOCkgKiAyLCB0KSkpXSAqICgyICsgKE1hdGguZmxvb3IodHJpKDEvMiwgdCkgKiAxKSkpIC8gNSkKICArIDAuMSAqIHRyaShjWzIgKyAoTWF0aC5mbG9vcihzaW4oKDEvNCkgKiAyLCB0KSkpXSAqICgyICsgKE1hdGguZmxvb3IodHJpKDEvNCwgdCkgKiAxKSkpICogMikKICA7CgogIGJhc3Nfb3NjID0gYmFzc19scChiYXNzX29zYywgODAgKyB0cmkoNCkgKiAzKTsKCiAgdmFyIGJhc3MgPSBhcnAoMS82LCBiYXNzX29zYywgMiwgMjAgKyAodHJpKDEvNCkgKiAxMCkpOwoKICAvLyBzeW50aAogIHZhciBzeW50aF9vc2MgPQogICAgdHJpKGNbMV0vMSkKICArIHRyaShjWzJdLzEpCiAgOwoKICB2YXIgc3ludGggPSBwbHVja2VkKGFycCgxLzIsIHN5bnRoX29zYywgc2VxdWVuY2UoMS8yLCBbMSwgMSwgMSwgMF0pICogODUgKyAoc2luKDAuNSkgKiAxMCksIDAuMykpOwoKICAvLyBkcnVtcwogIHZhciBoYXRfb3NjID0KICAgIDAuNiAqIHRyaShoYXRfbm90ZSkKICArIDAuMSAqIG5vaXNlCiAgOwoKICB2YXIgaGF0ID0KICAgIHNlcXVlbmNlKDEvMTYsIGhhdF9wYXR0ZXJuKQogICogYXJwKDEvOCwgaGF0X29zYywgNDAgKyB0cmkoMS80KSAqIDIwLCAzMSkKICA7CgogIHZhciBraWNrX29zYyA9CiAgICAxLjAgKiBzaW4oa2lja19ub3RlKQogIDsKCiAgdmFyIGtpY2sgPSBhcnAoMS80LCA1MSwgNDUsIDMpOwoKICAvLyBtaXhlcgogIHJldHVybiAxICogKAogICAgMC4wMjggKiBzeW50aAogICsgMC40ICogaGF0CiAgKyAwLjUgKiBraWNrCiAgKyAwLjYgKiBiYXNzCiAgKTsKfQoKZnVuY3Rpb24gY2xvY2soX3QpewogIHQgPSBfdDsKICB0ICo9IGJwbSAvIDEyMDsKICB0dCA9IHRhdSAqIHQ7Cn0KCmZ1bmN0aW9uIFBsdWNrKGxlbmd0aCwgZHJ5LCB3ZXQsIHRhaWwsIGN1dG9mZil7CiAgbGVuZ3RoID0gbGVuZ3RoIHx8IDQwOwogIHZhciBscCA9IExQKCk7CiAgdmFyIHJiID0gbmV3IFJpbmdCdWZmZXIobGVuZ3RoKTsKICB2YXIgc3VtOwogIHJldHVybiBmdW5jdGlvbihzYW1wbGUpewogICAgc3VtID0gcmIucmVkdWNlKGF2ZXJhZ2UsIHNhbXBsZSk7CiAgICBzYW1wbGUgPQogICAgICBkcnkgKiBzYW1wbGUKICAgICsgd2V0ICogbHAoc3VtLCBjdXRvZmYpCiAgICA7CiAgICByYi5wdXNoKHNhbXBsZSAqIHRhaWwpOwogICAgcmV0dXJuIHNhbXBsZTsKICB9Owp9CgpmdW5jdGlvbiBhdmVyYWdlKHAsIG4pewogIHJldHVybiAocCArIG4pIC8gMjsKfQoKZnVuY3Rpb24gc2VxdWVuY2UobWVhc3VyZSwgc2VxKXsKICByZXR1cm4gc2VxWyh0IC8gbWVhc3VyZSAvIDIgfCAwKSAlIHNlcS5sZW5ndGhdOwp9CgpmdW5jdGlvbiBhcnAobWVhc3VyZSwgeCwgeSwgeil7CiAgdmFyIHRzID0gdCAvIDIgJSBtZWFzdXJlOwogIHJldHVybiBNYXRoLnNpbih4ICogKE1hdGguZXhwKC10cyAqIHkpKSkgKiBNYXRoLmV4cCgtdHMgKiB6KTsKfQoKZnVuY3Rpb24gc2luKGZyZXEsIHBoYXNlKXsKICByZXR1cm4gTWF0aC5zaW4oKHQgKiBmcmVxICsgKDIgLSAocGhhc2UgfHwgMCkgLyAyKSkgKiB0YXUpOwp9CgpmdW5jdGlvbiBzYXcoZnJlcSl7CiAgcmV0dXJuIDEtMiAqICh0ICUgKDEgLyBmcmVxKSkgKiBmcmVxOwp9CgpmdW5jdGlvbiB0cmkoZnJlcSl7CiAgcmV0dXJuIE1hdGguYWJzKDEgLSAoMiAqIHQgKiBmcmVxKSAlIDIpICogMiAtIDE7Cn0KCmZ1bmN0aW9uIHNxcihmcmVxKXsKICByZXR1cm4gc2luKGZyZXEsIHQpID4gMCA/IDEgOiAtMTsKfQoKZnVuY3Rpb24gTm9pc2UoKXsKICByZXR1cm4gTWF0aC5yYW5kb20oKSAqIDIgLSAxOwp9CgpmdW5jdGlvbiBMUCgpewogIHZhciB2YWx1ZSA9IDA7CiAgcmV0dXJuIGZ1bmN0aW9uKHgsIG4pewogICAgcmV0dXJuIHZhbHVlICs9ICh4IC0gdmFsdWUpIC8gbjsKICB9Owp9CgpmdW5jdGlvbiBub3RlKG4sIG9jdGF2ZSl7CiAgcmV0dXJuIE1hdGgucG93KDIsICgKICAgIG4gKyB0cmFuc3Bvc2UgLSAzMyArICgxMiAqIChvY3RhdmUgfHwgMCkpCiAgKSAvIDEyKSAqIHR1bmluZzsgLy8gQTQgdHVuaW5nCn0KCmZ1bmN0aW9uIFJpbmdCdWZmZXIobGVuZ3RoKXsKICB0aGlzLmFycmF5ID0gbmV3IEZsb2F0MzJBcnJheShsZW5ndGgpOwogIHRoaXMubGVuZ3RoID0gbGVuZ3RoOwogIHRoaXMucG9zID0gMDsKfQoKUmluZ0J1ZmZlci5wcm90b3R5cGUucHVzaCA9IGZ1bmN0aW9uKGVsKXsKICB0aGlzLmFycmF5W3RoaXMucG9zKytdID0gZWw7CiAgaWYgKHRoaXMucG9zID09PSB0aGlzLmxlbmd0aCkgewogICAgdGhpcy5wb3MgPSAwOwogIH0KfTsKClJpbmdCdWZmZXIucHJvdG90eXBlLmZvckVhY2ggPSBmdW5jdGlvbihmbil7CiAgdmFyIGkgPSB0aGlzLnBvczsKICBmb3IgKDsgaSA8IHRoaXMubGVuZ3RoOyBpKyspIHsKICAgIGZuKHRoaXMuYXJyYXlbaV0pOwogIH0KICBpZiAodGhpcy5wb3MgPiAwKSB7CiAgICBmb3IgKGkgPSAwOyBpIDwgdGhpcy5wb3M7IGkrKykgewogICAgICBmbih0aGlzLmFycmF5W2ldKTsKICAgIH0KICB9Cn07CgpSaW5nQnVmZmVyLnByb3RvdHlwZS5yZWR1Y2UgPSBmdW5jdGlvbihmbiwgdmFsKXsKICB2YWwgPSB2YWwgfHwgMDsKICB0aGlzLmZvckVhY2goZnVuY3Rpb24oZWwpewogICAgdmFsID0gZm4odmFsLCBlbCk7CiAgfSk7CiAgcmV0dXJuIHZhbDsKfTsKCmZ1bmN0aW9uIExQMihjdXRvZmYpewogIHZhciBSQyA9IDEgLyAoY3V0b2ZmICogMiAqIE1hdGguUEkpOwogIHZhciBkdCA9IDEgLyAyMDQ4OwogIHZhciBhbHBoYSA9IGR0IC8gKFJDICsgZHQpOwogIHZhciBwcmV2ID0gMDsKICB2YXIgY3VyciA9IDA7CiAgcmV0dXJuIGZ1bmN0aW9uKGZyZXEsIHgpewogICAgY3VyciA9IHByZXYgKyAoIChkdCAvICggKDEvIChmcmVxICogMiAqIE1hdGguUEkpKSArIGR0KSApICogKHggLSBwcmV2KSk7CiAgICBwcmV2ID0gY3VycjsKICAgIHJldHVybiBjdXJyOwogIH07Cn0K)
- [potasmic - go to sleep](https://felixroos.github.io/doughbeat/#Ci8qIQogKgogKiBwb3Rhc21pYyAtIGdvIHRvIHNsZWVwCiAqCiAqLwoKZnVuY3Rpb24gZHNwKHQpIHsKICB2YXIgcyA9IDA7CiAgdmFyIGZlZWRiYWNrID0gMC40OwogIHZhciBwID0gWzAuNzM3LDAuNDE1LDAuMzIyLDAuMTddOwogIGZvcihsZXQgaT0wOyBpPE1hdGguUEk7aSs9TWF0aC5QSS83KSAKICB7CiAgIGxldCBfdCA9IHQgPCBNYXRoLlBJPyB0IDogdC1pOwogICAgcys9IDAuMyAqIE1hdGguc2luKDIgKiBNYXRoLlBJICogX3QgKiAoNDQwICsgNDQwKigoaS8wLjc1KSU0KSkqcFtNYXRoLnJvdW5kKF90L01hdGguUEkvMiklcC5sZW5ndGhdICkgKiBNYXRoLmV4cCgwLjAxLV90JU1hdGguUEkvNCo0KSAqIChmZWVkYmFjay0oaS80KSpmZWVkYmFjayk7CiAgfQogIHJldHVybiBzOwp9Cgo=)
- [stagas - got some 303](https://felixroos.github.io/doughbeat/#Ci8qIQogKgogKiBzdGFnYXMgLSBnb3Qgc29tZSAzMDMKICoKICovCgp2YXIgYnBtID0gMTI1Owp2YXIgdHVuaW5nID0gNDQwOwp2YXIgdHJhbnNwb3NlID0gLTE7CgovLyBjb25zdGFudHMKdmFyIHRhdSA9IDIgKiBNYXRoLlBJOwoKLy8gdGltZSBjb2VmZmljaWVudHMKdmFyIHQsIHR0OwoKZnVuY3Rpb24gT3NjaWxsYXRvcih0eXBlLCBzaXplKXsKICBpZiAoISh0aGlzIGluc3RhbmNlb2YgT3NjaWxsYXRvcikpIHJldHVybiBuZXcgT3NjaWxsYXRvcih0eXBlLCBzaXplKTsKICB0aGlzLnBvcyA9IDA7CiAgdGhpcy5zaXplID0gc2l6ZSB8fCBzYW1wbGVSYXRlOwogIHRoaXMuY29lZmYgPSB0aGlzLnNpemUgLyBzYW1wbGVSYXRlOwogIHRoaXMudGFibGUgPSBuZXcgRmxvYXQzMkFycmF5KHRoaXMuc2l6ZSk7CiAgdGhpcy5idWlsZCh0eXBlKTsKfQoKT3NjaWxsYXRvci5wcm90b3R5cGUuYnVpbGQgPSBmdW5jdGlvbih0eXBlKXsKICBzd2l0Y2ggKHR5cGUpIHsKICAgIGNhc2UgJ3Npbic6CiAgICAgIHZhciBzY2FsZSA9IDIgKiBNYXRoLlBJIC8gdGhpcy5zaXplOwogICAgICBmb3IgKHZhciBpID0gMDsgaSA8IHRoaXMuc2l6ZTsgaSsrKSB7CiAgICAgICAgdGhpcy50YWJsZVtpXSA9IE1hdGguc2luKGkgKiBzY2FsZSk7CiAgICAgIH0KICAgICAgYnJlYWs7CgogICAgY2FzZSAnc2F3JzoKICAgICAgZm9yICh2YXIgaSA9IDA7IGkgPCB0aGlzLnNpemU7IGkrKykgewogICAgICAgIHZhciB4ID0gKGkgLyB0aGlzLnNpemUpOwogICAgICAgIHRoaXMudGFibGVbaV0gPSArMi4wICogKHggLSBNYXRoLnJvdW5kKHgpKTsKICAgICAgfQogICAgICBicmVhazsKCiAgICBjYXNlICdyYW1wJzoKICAgICAgZm9yICh2YXIgaSA9IDA7IGkgPCB0aGlzLnNpemU7IGkrKykgewogICAgICAgIHZhciB4ID0gKGkgLyB0aGlzLnNpemUpOwogICAgICAgIHRoaXMudGFibGVbaV0gPSAtMi4wICogKHggLSBNYXRoLnJvdW5kKHgpKTsKICAgICAgfQogICAgICBicmVhazsKCiAgICBjYXNlICd0cmknOgogICAgICBmb3IgKHZhciBpID0gMDsgaSA8IHRoaXMuc2l6ZTsgaSsrKSB7CiAgICAgICAgdmFyIHggPSAoaSAvIHRoaXMuc2l6ZSkgLSAwLjI1OwogICAgICAgIHRoaXMudGFibGVbaV0gPSAxLjAgLSA0LjAgKiBNYXRoLmFicyhNYXRoLnJvdW5kKHgpIC0geCk7CiAgICAgIH0KICAgICAgYnJlYWs7CgogICAgY2FzZSAnc3FyJzoKICAgICAgdmFyIGhhbGYgPSB0aGlzLnNpemUgLyAyOwogICAgICBmb3IgKHZhciBpID0gMDsgaSA8IHRoaXMuc2l6ZTsgaSsrKSB7CiAgICAgICAgdGhpcy50YWJsZVtpXSA9IGkgPCBoYWxmID8gKzEgOiAtMTsKICAgICAgfQogICAgICBicmVhazsKICB9Cn07CgpPc2NpbGxhdG9yLnByb3RvdHlwZS5wbGF5ID0gZnVuY3Rpb24oZnJlcSl7CiAgdGhpcy5wb3MgKz0gZnJlcSAqIHRoaXMuY29lZmY7CiAgaWYgKHRoaXMucG9zID49IHRoaXMuc2l6ZSkgdGhpcy5wb3MgLT0gdGhpcy5zaXplOwogIHRoaXMuaW5kZXggPSB0aGlzLnBvcyB8IDA7CiAgdGhpcy5hbHBoYSA9IHRoaXMucG9zIC0gdGhpcy5pbmRleDsKICB0aGlzLm5leHQgPSB0aGlzLnRhYmxlW3RoaXMuaW5kZXggPT0gdGhpcy5zaXplIC0gMSA/IDAgOiB0aGlzLmluZGV4ICsgMV07CiAgdGhpcy5jdXJyID0gdGhpcy50YWJsZVt0aGlzLmluZGV4XTsKICByZXR1cm4gdGhpcy5jdXJyICsgKHRoaXMubmV4dCAtIHRoaXMuY3VycikgKiB0aGlzLmFscGhhOwp9OwoKZnVuY3Rpb24gY2xvY2soX3QpewogIHQgPSBfdDsKICB0ICo9IGJwbSAvIDEyMDsKICB0dCA9IHRhdSAqIHQ7Cn0KCmZ1bmN0aW9uIGNsaXAoeCl7CiAgcmV0dXJuIHggLyAoMSArIE1hdGguYWJzKHgpKTsKfQoKZnVuY3Rpb24gc2VxdWVuY2UobWVhc3VyZSwgc2VxKXsKICByZXR1cm4gc2VxWyh0IC8gbWVhc3VyZSAvIDIgfCAwKSAlIHNlcS5sZW5ndGhdOwp9CgpmdW5jdGlvbiBzbGlkZShtZWFzdXJlLCBzZXEsIHNwZWVkKXsKICB2YXIgcG9zID0gKHQgLyBtZWFzdXJlIC8gMikgJSBzZXEubGVuZ3RoOwogIHZhciBub3cgPSBwb3MgfCAwOwogIHZhciBuZXh0ID0gbm93ICsgMTsKICB2YXIgYWxwaGEgPSBwb3MgLSBub3c7CiAgaWYgKG5leHQgPT0gc2VxLmxlbmd0aCkgbmV4dCA9IDA7CiAgcmV0dXJuIHNlcVtub3ddICsgKChzZXFbbmV4dF0gLSBzZXFbbm93XSkgKiBNYXRoLnBvdyhhbHBoYSwgc3BlZWQpKTsKfQoKZnVuY3Rpb24gYXJwKG1lYXN1cmUsIHgsIHksIHopewogIHZhciB0cyA9IHQgLyAyICUgbWVhc3VyZTsKICByZXR1cm4gTWF0aC5zaW4oeCAqIChNYXRoLmV4cCgtdHMgKiB5KSkpICogTWF0aC5leHAoLXRzICogeik7Cn0KCmZ1bmN0aW9uIE5vaXNlKCl7CiAgcmV0dXJuIE1hdGgucmFuZG9tKCkgKiAyIC0gMTsKfQoKZnVuY3Rpb24gbm90ZShuLCBvY3RhdmUpewogIHJldHVybiBNYXRoLnBvdygyLCAoCiAgICBuICsgdHJhbnNwb3NlIC0gMzMgKyAoMTIgKiAob2N0YXZlIHx8IDApKQogICkgLyAxMikgKiB0dW5pbmc7IC8vIEE0IHR1bmluZwp9CgpmdW5jdGlvbiBvY3RhdmUobyl7CiAgcmV0dXJuIGZ1bmN0aW9uKG4pewogICAgcmV0dXJuIG4gKiBvOwogIH07Cn0KCmZ1bmN0aW9uIERpb2RlRmlsdGVyKCl7CiAgdGhpcy5rID0gMDsKICB0aGlzLkEgPSAwOwogIHRoaXMueiA9IFswLDAsMCwwLDBdOwogIHRoaXMuYWg7CiAgdGhpcy5iaDsKICB0aGlzLmZjOwogIHRoaXMuc2V0X3EoMCk7CiAgdGhpcy5zZXRfaHBmKDAuNSk7CiAgdGhpcy5zZXRfZmMoLjUpOwp9CgpEaW9kZUZpbHRlci5wcm90b3R5cGUuc2V0X2hwZiA9IGZ1bmN0aW9uKGZjKXsKICB2YXIgSyA9IGZjICogTWF0aC5QSTsKICB0aGlzLmFoID0gKEsgLSAyKSAvIChLICsgMik7CiAgdGhpcy5iaCA9IDIgLyAoSyArIDIpOwp9OwoKRGlvZGVGaWx0ZXIucHJvdG90eXBlLnJlc2V0ID0gZnVuY3Rpb24oKXsKICBpZiAodGhpcy5rIDwgMTcpIHRoaXMueiA9IFswLDAsMCwwLDBdOwp9OwoKRGlvZGVGaWx0ZXIucHJvdG90eXBlLnNldF9xID0gZnVuY3Rpb24ocSl7CiAgdGhpcy5rID0gMjAgKiBxOwogIHRoaXMuQSA9IDEgKyAwLjUgKiB0aGlzLms7Cn07CgpEaW9kZUZpbHRlci5wcm90b3R5cGUuc2V0X2ZjID0gZnVuY3Rpb24oY3V0b2ZmKXsKICBjdXRvZmYgPSAoY3V0b2ZmICogY3V0b2ZmKTsKICB0aGlzLmZjID0gY3V0b2ZmIDw9IDAKICAgID8gLjAyCiAgICA6IChjdXRvZmYgPj0gMS4wID8gLjk5OSA6IGN1dG9mZik7Cn07CgpEaW9kZUZpbHRlci5wcm90b3R5cGUucnVuID0gZnVuY3Rpb24oeCl7CiAgdmFyIGEgPSBNYXRoLlBJICogdGhpcy5mYzsKICBhID0gMiAqIE1hdGgudGFuKDAuNSphKTsgLy8gZGV3YXJwaW5nLCBub3QgcmVxdWlyZWQgd2l0aCAyeCBvdmVyc2FtcGxpbmcKICB2YXIgYWludiA9IDEgLyBhOwogIHZhciBhMiA9IGEqYTsKICB2YXIgYiA9IDIqYSArIDE7CiAgdmFyIGIyID0gYipiOwogIHZhciBjID0gMSAvICgyKmEyKmEyIC0gNCphMipiMiArIGIyKmIyKTsKICB2YXIgZzAgPSAyKmEyKmEyKmM7CiAgdmFyIGcgPSBnMCAqIHRoaXMuYmg7CgogIC8vIGN1cnJlbnQgc3RhdGUKICB2YXIgczAgPSAoYTIqYSp0aGlzLnpbMF0gKyBhMipiKnRoaXMuelsxXSArIHRoaXMuelsyXSooYjIgLSAyKmEyKSphICsgdGhpcy56WzNdKihiMiAtIDMqYTIpKmIpICogYzsKICB2YXIgcyA9IHRoaXMuYmgqczAgLSB0aGlzLnpbNF07CgogIC8vIHNvbHZlIGZlZWRiYWNrIGxvb3AgKGxpbmVhcikKICB2YXIgeTUgPSAoZyp4ICsgcykgLyAoMSArIGcqdGhpcy5rKTsKCiAgLy8gaW5wdXQgY2xpcHBpbmcKICB2YXIgeTAgPSBjbGlwKHggLSB0aGlzLmsqeTUpOwogIHk1ID0gZyp5MCArIHM7CgogIC8vIGNvbXB1dGUgaW50ZWdyYXRvciBvdXRwdXRzCiAgdmFyIHk0ID0gZzAqeTAgKyBzMDsKICB2YXIgeTMgPSAoYip5NCAtIHRoaXMuelszXSkgKiBhaW52OwogIHZhciB5MiA9IChiKnkzIC0gYSp5NCAtIHRoaXMuelsyXSkgKiBhaW52OwogIHZhciB5MSA9IChiKnkyIC0gYSp5MyAtIHRoaXMuelsxXSkgKiBhaW52OwoKICAvLyB1cGRhdGUgZmlsdGVyIHN0YXRlCiAgdGhpcy56WzBdICs9IDQqYSooeTAgLSB5MSArIHkyKTsKICB0aGlzLnpbMV0gKz0gMiphKih5MSAtIDIqeTIgKyB5Myk7CiAgdGhpcy56WzJdICs9IDIqYSooeTIgLSAyKnkzICsgeTQpOwogIHRoaXMuelszXSArPSAyKmEqKHkzIC0gMip5NCk7CiAgdGhpcy56WzRdID0gdGhpcy5iaCp5NCArIHRoaXMuYWgqeTU7CgogIHJldHVybiB0aGlzLkEqeTQ7Cn07Cgp2YXIgb3NjID0gT3NjaWxsYXRvcignc2F3JywgMTAyNCk7CnZhciBsZm8gPSBPc2NpbGxhdG9yKCdzaW4nLCA1MTIpOwp2YXIgbGZvMiA9IE9zY2lsbGF0b3IoJ3NpbicsIDUxMik7Cgp2YXIgbWVsb2R5ID0gWzUsIDI1LCA1LCAyNSwgNCwgMTYsIDEzLCA0IF0ubWFwKGZ1bmN0aW9uKG4pewogIHJldHVybiBub3RlKG4sIDApOwp9KTsKCnZhciBmaWx0ZXIgPSBuZXcgRGlvZGVGaWx0ZXIoKTsKCmZpbHRlci5zZXRfcSgwLjY2KTsKZmlsdGVyLnNldF9ocGYoLjAwMDcpOwoKZnVuY3Rpb24gZHNwKHQpewogIGNsb2NrKHQpOwoKICBmaWx0ZXIuc2V0X2ZjKDAuMDAxICsgKChsZm8ucGxheSgyLjY2KSAqIDAuMTYgKyAxKSAvIDIpICogKDAuMjU4ICsgbGZvMi5wbGF5KC4wMikgKiAwLjEyKSkgOwoKICB2YXIgbiA9IHNsaWRlKDEvMTYsIG1lbG9keSwgMTIpOwoKICB2YXIgc3ludGhfb3NjID0gb3NjLnBsYXkobik7CiAgdmFyIHN5bnRoID0gYXJwKDEvMTYsIHN5bnRoX29zYywgMTIsIDcpOwoKICBzeW50aCA9IGZpbHRlci5ydW4oc3ludGggKiAwLjUpOwogIHN5bnRoID0gY2xpcChzeW50aCAqIDEyKTsKCiAgdmFyIGtpY2sgPSBhcnAoMS80LCA0OCwgNTAsIDgpOwoKICAvLyBtaXhlcgogIHJldHVybiAwLjcgKiAoCiAgICAwLjYgKiBzeW50aAogICsga2ljawogICk7Cn0K)
- [stagas - icecream](https://felixroos.github.io/doughbeat/#Ci8qIQogKgogKiBzdGFnYXMgLSBpY2VjcmVhbQogKgogKi8KCnZhciBicG0gPSAxMjU7CnZhciB0dW5pbmcgPSA0NDA7CnZhciB0cmFuc3Bvc2UgPSAxMTsKCi8vIGNvbnN0YW50cwp2YXIgdGF1ID0gMiAqIE1hdGguUEk7CgovLyB0aW1lIGNvZWZmaWNpZW50cwp2YXIgdCwgdHQ7CgpmdW5jdGlvbiBPc2NpbGxhdG9yKHR5cGUsIHNpemUsIGFsaWFzKXsKICBpZiAoISh0aGlzIGluc3RhbmNlb2YgT3NjaWxsYXRvcikpIHJldHVybiBuZXcgT3NjaWxsYXRvcih0eXBlLCBzaXplLCBhbGlhcyk7CiAgdGhpcy5wb3MgPSAwOwogIHRoaXMuc2l6ZSA9IHNpemUgfHwgc2FtcGxlUmF0ZTsKICB0aGlzLmNvZWZmID0gdGhpcy5zaXplIC8gc2FtcGxlUmF0ZTsKICB0aGlzLnRhYmxlID0gbmV3IEZsb2F0MzJBcnJheSh0aGlzLnNpemUpOwogIHRoaXMuYWxpYXMgPSBhbGlhcyA9PT0gZmFsc2UgPyBmYWxzZSA6IHRydWU7CiAgdGhpcy5idWlsZCh0eXBlKTsKfQoKT3NjaWxsYXRvci5wcm90b3R5cGUuYnVpbGQgPSBmdW5jdGlvbih0eXBlKXsKICBzd2l0Y2ggKHR5cGUpIHsKICAgIGNhc2UgJ3Npbic6CiAgICAgIHZhciBzY2FsZSA9IDIgKiBNYXRoLlBJIC8gdGhpcy5zaXplOwogICAgICBmb3IgKHZhciBpID0gMDsgaSA8IHRoaXMuc2l6ZTsgaSsrKSB7CiAgICAgICAgdGhpcy50YWJsZVtpXSA9IE1hdGguc2luKGkgKiBzY2FsZSk7CiAgICAgIH0KICAgICAgYnJlYWs7CgogICAgY2FzZSAnc2F3JzoKICAgICAgZm9yICh2YXIgaSA9IDA7IGkgPCB0aGlzLnNpemU7IGkrKykgewogICAgICAgIHZhciB4ID0gKGkgLyB0aGlzLnNpemUpOwogICAgICAgIHRoaXMudGFibGVbaV0gPSArMi4wICogKHggLSBNYXRoLnJvdW5kKHgpKTsKICAgICAgfQogICAgICBicmVhazsKCiAgICBjYXNlICdyYW1wJzoKICAgICAgZm9yICh2YXIgaSA9IDA7IGkgPCB0aGlzLnNpemU7IGkrKykgewogICAgICAgIHZhciB4ID0gKGkgLyB0aGlzLnNpemUpOwogICAgICAgIHRoaXMudGFibGVbaV0gPSAtMi4wICogKHggLSBNYXRoLnJvdW5kKHgpKTsKICAgICAgfQogICAgICBicmVhazsKCiAgICBjYXNlICd0cmknOgogICAgICBmb3IgKHZhciBpID0gMDsgaSA8IHRoaXMuc2l6ZTsgaSsrKSB7CiAgICAgICAgdmFyIHggPSAoaSAvIHRoaXMuc2l6ZSkgLSAwLjI1OwogICAgICAgIHRoaXMudGFibGVbaV0gPSAxLjAgLSA0LjAgKiBNYXRoLmFicyhNYXRoLnJvdW5kKHgpIC0geCk7CiAgICAgIH0KICAgICAgYnJlYWs7CgogICAgY2FzZSAnc3FyJzoKICAgICAgdmFyIGhhbGYgPSB0aGlzLnNpemUgLyAyOwogICAgICBmb3IgKHZhciBpID0gMDsgaSA8IHRoaXMuc2l6ZTsgaSsrKSB7CiAgICAgICAgdGhpcy50YWJsZVtpXSA9IGkgPCBoYWxmID8gKzEgOiAtMTsKICAgICAgfQogICAgICBicmVhazsKICB9Cn07CgpPc2NpbGxhdG9yLnByb3RvdHlwZS5wbGF5ID0gZnVuY3Rpb24oZnJlcSl7CiAgdGhpcy5wb3MgKz0gZnJlcSAqIHRoaXMuY29lZmY7CiAgaWYgKHRoaXMucG9zID49IHRoaXMuc2l6ZSkgdGhpcy5wb3MgLT0gdGhpcy5zaXplOwogIHRoaXMuaW5kZXggPSB0aGlzLnBvcyB8IDA7CiAgaWYgKCF0aGlzLmFsaWFzKSByZXR1cm4gdGhpcy50YWJsZVt0aGlzLmluZGV4XTsKICB0aGlzLmFscGhhID0gdGhpcy5wb3MgLSB0aGlzLmluZGV4OwogIHRoaXMubmV4dCA9IHRoaXMudGFibGVbdGhpcy5pbmRleCA9PSB0aGlzLnNpemUgLSAxID8gMCA6IHRoaXMuaW5kZXggKyAxXTsKICB0aGlzLmN1cnIgPSB0aGlzLnRhYmxlW3RoaXMuaW5kZXhdOwogIHJldHVybiB0aGlzLmN1cnIgKyAodGhpcy5uZXh0IC0gdGhpcy5jdXJyKSAqIHRoaXMuYWxwaGE7Cn07CgpmdW5jdGlvbiBjbG9jayhfdCl7CiAgdCA9IF90OwogIHQgKj0gYnBtIC8gMTIwOwogIHR0ID0gdGF1ICogdDsKfQoKZnVuY3Rpb24gb2N0YXZlKG8pewogIHJldHVybiBmdW5jdGlvbihuKXsKICAgIHJldHVybiBuICogbzsKICB9Owp9CgpmdW5jdGlvbiBzbGlkZShtZWFzdXJlLCBzZXEpewogIHZhciBwb3MgPSAodCAvIG1lYXN1cmUgLyAyKSAlIHNlcS5sZW5ndGg7CiAgdmFyIG5vdyA9IHBvcyB8IDA7CiAgdmFyIG5leHQgPSBub3cgKyAxOwogIHZhciBhbHBoYSA9IHBvcyAtIG5vdzsKICBpZiAobmV4dCA9PSBzZXEubGVuZ3RoKSBuZXh0ID0gMDsKICByZXR1cm4gc2VxW25vd10gKyAoKHNlcVtuZXh0XSAtIHNlcVtub3ddKSAqIE1hdGgucG93KGFscGhhLCA3KSk7Cn0KCmZ1bmN0aW9uIHNlcXVlbmNlKG1lYXN1cmUsIHNlcSl7CiAgcmV0dXJuIHNlcVsodCAvIG1lYXN1cmUgLyAyIHwgMCkgJSBzZXEubGVuZ3RoXTsKfQoKZnVuY3Rpb24gYXJwKG1lYXN1cmUsIHgsIHksIHopewogIHZhciB0cyA9IHQgLyAyICUgbWVhc3VyZTsKICByZXR1cm4gTWF0aC5zaW4oeCAqIChNYXRoLmV4cCgtdHMgKiB5KSkpICogTWF0aC5leHAoLXRzICogeik7Cn0KCmZ1bmN0aW9uIHNpbihmcmVxLCBwaGFzZSl7CiAgcmV0dXJuIE1hdGguc2luKCh0ICogZnJlcSArICgyIC0gKHBoYXNlIHx8IDApIC8gMikpICogdGF1KTsKfQoKZnVuY3Rpb24gc2F3KGZyZXEpewogIHJldHVybiAxLTIgKiAodCAlICgxIC8gZnJlcSkpICogZnJlcTsKfQoKZnVuY3Rpb24gdHJpKGZyZXEpewogIHJldHVybiBNYXRoLmFicygxIC0gKDIgKiB0ICogZnJlcSkgJSAyKSAqIDIgLSAxOwp9CgpmdW5jdGlvbiBzcXIoZnJlcSl7CiAgcmV0dXJuIHNpbihmcmVxLCB0KSA+IDAgPyAxIDogLTE7Cn0KCmZ1bmN0aW9uIE5vaXNlKCl7CiAgcmV0dXJuIE1hdGgucmFuZG9tKCkgKiAyIC0gMTsKfQoKZnVuY3Rpb24gbm90ZShuLCBvY3RhdmUpewogIHJldHVybiBNYXRoLnBvdygyLCAoCiAgICBuICsgdHJhbnNwb3NlIC0gMzMgKyAoMTIgKiAob2N0YXZlIHx8IDApKQogICkgLyAxMikgKiB0dW5pbmc7IC8vIEE0IHR1bmluZwp9CgovLyBwYXR0ZXJucwp2YXIgaGF0X3BhdHRlcm4gPSBbCiAgMC42LCAwLjMsIDAuMiwgMC4xLCAgMC4zLCAwLjEsIDEuMSwgMC40LAogIDAuNiwgMC40LCAwLjEsIDAuMSwgIDAuMywgMC4yLCAxLjIsIDAuNCwKXTsKCnZhciBtZWxvZHkgPSBbMywgNSwgOSwgMTJdLm1hcChmdW5jdGlvbihuKXsKICByZXR1cm4gbm90ZShuLCAwKTsKfSk7CgptZWxvZHkgPSBtZWxvZHkuY29uY2F0KG1lbG9keS5tYXAob2N0YXZlKDIpKSk7Cm1lbG9keSA9IG1lbG9keS5jb25jYXQobWVsb2R5LnNsaWNlKCkucmV2ZXJzZSgpKTsKCnZhciBwcm9ncmVzc2lvbiA9IFsxLCAxLjA1LCAwLjgwNSwgMC43NDZdOwoKdmFyIG1wcm9ncmVzc2lvbiA9IFsxMjgsIDY0LCAzMl07Cgp2YXIgaGF0X25vdGUgPSBub3RlKDMsIDUpOwoKdmFyIG9zYyA9IE9zY2lsbGF0b3IoJ3RyaScsIDUxMik7CnZhciBoYXRfb3NjID0gT3NjaWxsYXRvcigncmFtcCcsIDUxMik7CgpmdW5jdGlvbiBkc3AodCl7CiAgY2xvY2sodCk7CgogIHZhciBub2lzZSA9IE5vaXNlKCk7CgogIHZhciBwID0gc2VxdWVuY2UoMi8xLCBwcm9ncmVzc2lvbik7CiAgdmFyIG0gPSBzZXF1ZW5jZSg4LzEsIG1wcm9ncmVzc2lvbik7CiAgdmFyIG4gPSBzbGlkZSgxL20sIG1lbG9keSkgKiBwOwoKICB2YXIgc3ludGhfb3NjID0gb3NjLnBsYXkobik7CiAgdmFyIHN5bnRoID0gYXJwKDEvNiwgc3ludGhfb3NjLCAzMiwgMTApOwoKICB2YXIga2ljayA9IGFycCgxLzQsIDYwLCA4MCwgMyk7CgogIHZhciBoYXQgPSBzZXF1ZW5jZSgxLzEyLCBoYXRfcGF0dGVybikKICAgICogYXJwKDEvMTIsIGhhdF9vc2MucGxheShoYXRfbm90ZSkgKyBub2lzZSAqIDEuNCwgMTgwLCA3MCk7CgogIHJldHVybiAwLjcgKiAoCiAgICAwLjkgKiBzeW50aAogICsga2ljawogICsgMC4xMiAqIGhhdAogICk7Cn0K)
- [stagas - late morning](https://felixroos.github.io/doughbeat/#Ci8qIQogKgogKiBzdGFnYXMgLSBsYXRlIG1vcm5pbmcKICoKICovCgp2YXIgYnBtID0gMTIwOwp2YXIgdHVuaW5nID0gNDQwOwp2YXIgdHJhbnNwb3NlID0gMTI7CgovLyBjb25zdGFudHMKdmFyIHRhdSA9IDIgKiBNYXRoLlBJOwoKLy8gdGltZSBjb2VmZmljaWVudHMKdmFyIHQsIHR0OwoKLy8gYWRqdXN0IHR1bmluZyB0byBicG0KdHVuaW5nICo9IDEyMCAvIGJwbTsKCi8vIHBhdHRlcm5zCnZhciBjaG9yZHMgPSBbCiAgWzcsIDksIDEyLCAxNl0sCiAgWzIsIDUsIDksIDEyXSwKICBbNCwgNywgMTEsIDE0XSwKICBbMiwgNSwgOSwgMTJdLApdLm1hcChmdW5jdGlvbihjaG9yZCl7CiAgcmV0dXJuIGNob3JkLm1hcChmdW5jdGlvbihuKXsKICAgIHJldHVybiBub3RlKG4pOwogIH0pOwp9KS5yZXZlcnNlKCk7Cgp2YXIgaGF0X3BhdHRlcm4gPSBbCiAgMC4wLCAwLjAsIDAuNSwgMC4wLCAgMC4wLCAwLjAsIDAuNSwgMC4wLAogIDAuMCwgMC4wLCAwLjUsIDAuMCwgIDAuMCwgMC4wLCAwLjUsIDAuMCwKXTsKCnZhciBwbHVja2VkID0gUGx1Y2soNjAsIDAuOSwgMC45MywgMS4wLCAwLjkpOwoKdmFyIGJhc3NfbHAgPSBMUDIoNjUwMCk7CgpmdW5jdGlvbiBkc3AodCl7CiAgY2xvY2sodCk7CgogIC8vIGNob3JkCiAgdmFyIGMgPSBzZXF1ZW5jZSgxLzgsIGNob3Jkcyk7CgogIC8vIG5vaXNlCiAgdmFyIG5vaXNlID0gTm9pc2UoKTsKCiAgLy8gYmFzcwogIHZhciBiYXNzX29zYyA9CiAgICAwLjA1ICogc2luKGNbMiArIChNYXRoLmZsb29yKHNpbigoMS84KSAqIDIsIHQpKSldICogKDIgKyAoTWF0aC5mbG9vcih0cmkoMS8yLCB0KSAqIDEpKSkgLyA1KQogICsgMC4wNyAqIHRyaShjWzIgKyAoTWF0aC5mbG9vcihzaW4oKDEvNCkgKiAyLCB0KSkpXSAqICgyICsgKE1hdGguZmxvb3IodHJpKDEvNCwgdCkgKiAxKSkpICogMykKICA7CgogIGJhc3Nfb3NjID0gYmFzc19scChiYXNzX29zYywgMzAgKyB0cmkoNCkgKiAzKTsKCiAgdmFyIGJhc3MgPSBhcnAoMS82LCBiYXNzX29zYywgMiwgMTAgKyAodHJpKDEvNCkgKiAyMCkpOwoKICAvLyBzeW50aAogIHZhciBzeW50aF9vc2MgPQogICAgdHJpKGNbMV0vMSkKICArIHRyaShjWzJdLzEpCiAgOwoKICB2YXIgc3ludGggPSBwbHVja2VkKGFycCgxLzMsIHN5bnRoX29zYywgc2VxdWVuY2UoMSwgWzEsIDEsIDEsIDBdKSAqIDQ1ICsgKHNpbigwLjUpICogMTApLCAwLjMpKTsKCiAgLy8gZHJ1bXMKICB2YXIgaGF0X25vdGUgPSBub3RlKDksIDEgKyB0cmkoMS82KSAqIDIgfCAwKTsKCiAgdmFyIGhhdF9vc2MgPQogICAgMC42ICogdHJpKGhhdF9ub3RlKQogICsgMC4xICogbm9pc2UKICA7CgogIHZhciBoYXQgPQogICAgc2VxdWVuY2UoMS8xNiwgaGF0X3BhdHRlcm4pCiAgKiBhcnAoMS84LCBoYXRfb3NjLCA0MCArIHRyaSgxLzQpICogMjAsIDMxKQogIDsKCiAgdmFyIGtpY2sgPSBhcnAoMS80LCA1MSwgNDUsIDMpOwoKICAvLyBtaXhlcgogIHJldHVybiAxICogKAogICAgMC4wMzQgKiBzeW50aAogICsgMC41ICogaGF0CiAgKyAwLjUgKiBraWNrCiAgKyAwLjEzICogYmFzcwogICk7Cn0KCmZ1bmN0aW9uIGNsb2NrKF90KXsKICB0ID0gX3Q7CiAgdCAqPSBicG0gLyAxMjA7CiAgdHQgPSB0YXUgKiB0Owp9CgpmdW5jdGlvbiBQbHVjayhsZW5ndGgsIGRyeSwgd2V0LCB0YWlsLCBjdXRvZmYpewogIGxlbmd0aCA9IGxlbmd0aCB8fCA0MDsKICB2YXIgbHAgPSBMUCgpOwogIHZhciByYiA9IG5ldyBSaW5nQnVmZmVyKGxlbmd0aCk7CiAgdmFyIHN1bTsKICByZXR1cm4gZnVuY3Rpb24oc2FtcGxlKXsKICAgIHN1bSA9IHJiLnJlZHVjZShhdmVyYWdlLCBzYW1wbGUpOwogICAgc2FtcGxlID0KICAgICAgZHJ5ICogc2FtcGxlCiAgICArIHdldCAqIGxwKHN1bSwgY3V0b2ZmKQogICAgOwogICAgcmIucHVzaChzYW1wbGUgKiB0YWlsKTsKICAgIHJldHVybiBzYW1wbGU7CiAgfTsKfQoKZnVuY3Rpb24gYXZlcmFnZShwLCBuKXsKICByZXR1cm4gKHAgKyBuKSAvIDI7Cn0KCmZ1bmN0aW9uIHNlcXVlbmNlKG1lYXN1cmUsIHNlcSl7CiAgcmV0dXJuIHNlcVsodCAvIG1lYXN1cmUgLyAyIHwgMCkgJSBzZXEubGVuZ3RoXTsKfQoKZnVuY3Rpb24gYXJwKG1lYXN1cmUsIHgsIHksIHopewogIHZhciB0cyA9IHQgLyAyICUgbWVhc3VyZTsKICByZXR1cm4gTWF0aC5zaW4oeCAqIChNYXRoLmV4cCgtdHMgKiB5KSkpICogTWF0aC5leHAoLXRzICogeik7Cn0KCmZ1bmN0aW9uIHNpbihmcmVxLCBwaGFzZSl7CiAgcmV0dXJuIE1hdGguc2luKCh0ICogZnJlcSArICgyIC0gKHBoYXNlIHx8IDApIC8gMikpICogdGF1KTsKfQoKZnVuY3Rpb24gc2F3KGZyZXEpewogIHJldHVybiAxLTIgKiAodCAlICgxIC8gZnJlcSkpICogZnJlcTsKfQoKZnVuY3Rpb24gdHJpKGZyZXEpewogIHJldHVybiBNYXRoLmFicygxIC0gKDIgKiB0ICogZnJlcSkgJSAyKSAqIDIgLSAxOwp9CgpmdW5jdGlvbiBzcXIoZnJlcSl7CiAgcmV0dXJuIHNpbihmcmVxLCB0KSA+IDAgPyAxIDogLTE7Cn0KCmZ1bmN0aW9uIE5vaXNlKCl7CiAgcmV0dXJuIE1hdGgucmFuZG9tKCkgKiAyIC0gMTsKfQoKZnVuY3Rpb24gTFAoKXsKICB2YXIgdmFsdWUgPSAwOwogIHJldHVybiBmdW5jdGlvbih4LCBuKXsKICAgIHJldHVybiB2YWx1ZSArPSAoeCAtIHZhbHVlKSAvIG47CiAgfTsKfQoKZnVuY3Rpb24gbm90ZShuLCBvY3RhdmUpewogIHJldHVybiBNYXRoLnBvdygyLCAoCiAgICBuICsgdHJhbnNwb3NlIC0gMzMgKyAoMTIgKiAob2N0YXZlIHx8IDApKQogICkgLyAxMikgKiB0dW5pbmc7IC8vIEE0IHR1bmluZwp9CgpmdW5jdGlvbiBSaW5nQnVmZmVyKGxlbmd0aCl7CiAgdGhpcy5hcnJheSA9IG5ldyBGbG9hdDMyQXJyYXkobGVuZ3RoKTsKICB0aGlzLmxlbmd0aCA9IGxlbmd0aDsKICB0aGlzLnBvcyA9IDA7Cn0KClJpbmdCdWZmZXIucHJvdG90eXBlLnB1c2ggPSBmdW5jdGlvbihlbCl7CiAgdGhpcy5hcnJheVt0aGlzLnBvcysrXSA9IGVsOwogIGlmICh0aGlzLnBvcyA9PT0gdGhpcy5sZW5ndGgpIHsKICAgIHRoaXMucG9zID0gMDsKICB9Cn07CgpSaW5nQnVmZmVyLnByb3RvdHlwZS5mb3JFYWNoID0gZnVuY3Rpb24oZm4pewogIHZhciBpID0gdGhpcy5wb3M7CiAgZm9yICg7IGkgPCB0aGlzLmxlbmd0aDsgaSsrKSB7CiAgICBmbih0aGlzLmFycmF5W2ldKTsKICB9CiAgaWYgKHRoaXMucG9zID4gMCkgewogICAgZm9yIChpID0gMDsgaSA8IHRoaXMucG9zOyBpKyspIHsKICAgICAgZm4odGhpcy5hcnJheVtpXSk7CiAgICB9CiAgfQp9OwoKUmluZ0J1ZmZlci5wcm90b3R5cGUucmVkdWNlID0gZnVuY3Rpb24oZm4sIHZhbCl7CiAgdmFsID0gdmFsIHx8IDA7CiAgdGhpcy5mb3JFYWNoKGZ1bmN0aW9uKGVsKXsKICAgIHZhbCA9IGZuKHZhbCwgZWwpOwogIH0pOwogIHJldHVybiB2YWw7Cn07CgpmdW5jdGlvbiBMUDIoY3V0b2ZmKXsKICB2YXIgUkMgPSAxIC8gKGN1dG9mZiAqIDIgKiBNYXRoLlBJKTsKICB2YXIgZHQgPSAxIC8gMjA0ODsKICB2YXIgYWxwaGEgPSBkdCAvIChSQyArIGR0KTsKICB2YXIgcHJldiA9IDA7CiAgdmFyIGN1cnIgPSAwOwogIHJldHVybiBmdW5jdGlvbihmcmVxLCB4KXsKICAgIGN1cnIgPSBwcmV2ICsgKCAoZHQgLyAoICgxLyAoZnJlcSAqIDIgKiBNYXRoLlBJKSkgKyBkdCkgKSAqICh4IC0gcHJldikpOwogICAgcHJldiA9IGN1cnI7CiAgICByZXR1cm4gY3VycjsKICB9Owp9Cg==)
- [stagas - mind swift](https://felixroos.github.io/doughbeat/#Ci8qIQogKgogKiBzdGFnYXMgLSBtaW5kIHN3aWZ0CiAqCiAqLwoKdmFyIGJwbSA9IDEyNTsKdmFyIHR1bmluZyA9IDQ0MDsKdmFyIHRyYW5zcG9zZSA9IDExOwoKLy8gY29uc3RhbnRzCnZhciB0YXUgPSAyICogTWF0aC5QSTsKCi8vIHRpbWUgY29lZmZpY2llbnRzCnZhciB0LCB0dDsKCmZ1bmN0aW9uIE9zY2lsbGF0b3IodHlwZSwgc2l6ZSwgYWxpYXMpewogIGlmICghKHRoaXMgaW5zdGFuY2VvZiBPc2NpbGxhdG9yKSkgcmV0dXJuIG5ldyBPc2NpbGxhdG9yKHR5cGUsIHNpemUsIGFsaWFzKTsKICB0aGlzLnBvcyA9IDA7CiAgdGhpcy5zaXplID0gc2l6ZSB8fCBzYW1wbGVSYXRlOwogIHRoaXMuY29lZmYgPSB0aGlzLnNpemUgLyBzYW1wbGVSYXRlOwogIHRoaXMudGFibGUgPSBuZXcgRmxvYXQzMkFycmF5KHRoaXMuc2l6ZSk7CiAgdGhpcy5hbGlhcyA9IGFsaWFzID09PSBmYWxzZSA/IGZhbHNlIDogdHJ1ZTsKICB0aGlzLmJ1aWxkKHR5cGUpOwp9CgpPc2NpbGxhdG9yLnByb3RvdHlwZS5idWlsZCA9IGZ1bmN0aW9uKHR5cGUpewogIHN3aXRjaCAodHlwZSkgewogICAgY2FzZSAnc2luJzoKICAgICAgdmFyIHNjYWxlID0gMiAqIE1hdGguUEkgLyB0aGlzLnNpemU7CiAgICAgIGZvciAodmFyIGkgPSAwOyBpIDwgdGhpcy5zaXplOyBpKyspIHsKICAgICAgICB0aGlzLnRhYmxlW2ldID0gTWF0aC5zaW4oaSAqIHNjYWxlKTsKICAgICAgfQogICAgICBicmVhazsKCiAgICBjYXNlICdzYXcnOgogICAgICBmb3IgKHZhciBpID0gMDsgaSA8IHRoaXMuc2l6ZTsgaSsrKSB7CiAgICAgICAgdmFyIHggPSAoaSAvIHRoaXMuc2l6ZSk7CiAgICAgICAgdGhpcy50YWJsZVtpXSA9ICsyLjAgKiAoeCAtIE1hdGgucm91bmQoeCkpOwogICAgICB9CiAgICAgIGJyZWFrOwoKICAgIGNhc2UgJ3JhbXAnOgogICAgICBmb3IgKHZhciBpID0gMDsgaSA8IHRoaXMuc2l6ZTsgaSsrKSB7CiAgICAgICAgdmFyIHggPSAoaSAvIHRoaXMuc2l6ZSk7CiAgICAgICAgdGhpcy50YWJsZVtpXSA9IC0yLjAgKiAoeCAtIE1hdGgucm91bmQoeCkpOwogICAgICB9CiAgICAgIGJyZWFrOwoKICAgIGNhc2UgJ3RyaSc6CiAgICAgIGZvciAodmFyIGkgPSAwOyBpIDwgdGhpcy5zaXplOyBpKyspIHsKICAgICAgICB2YXIgeCA9IChpIC8gdGhpcy5zaXplKSAtIDAuMjU7CiAgICAgICAgdGhpcy50YWJsZVtpXSA9IDEuMCAtIDQuMCAqIE1hdGguYWJzKE1hdGgucm91bmQoeCkgLSB4KTsKICAgICAgfQogICAgICBicmVhazsKCiAgICBjYXNlICdzcXInOgogICAgICB2YXIgaGFsZiA9IHRoaXMuc2l6ZSAvIDI7CiAgICAgIGZvciAodmFyIGkgPSAwOyBpIDwgdGhpcy5zaXplOyBpKyspIHsKICAgICAgICB0aGlzLnRhYmxlW2ldID0gaSA8IGhhbGYgPyArMSA6IC0xOwogICAgICB9CiAgICAgIGJyZWFrOwogIH0KfTsKCk9zY2lsbGF0b3IucHJvdG90eXBlLnBsYXkgPSBmdW5jdGlvbihmcmVxKXsKICB0aGlzLnBvcyArPSBmcmVxICogdGhpcy5jb2VmZjsKICBpZiAodGhpcy5wb3MgPj0gdGhpcy5zaXplKSB0aGlzLnBvcyAtPSB0aGlzLnNpemU7CiAgdGhpcy5pbmRleCA9IHRoaXMucG9zIHwgMDsKICBpZiAoIXRoaXMuYWxpYXMpIHJldHVybiB0aGlzLnRhYmxlW3RoaXMuaW5kZXhdOwogIHRoaXMuYWxwaGEgPSB0aGlzLnBvcyAtIHRoaXMuaW5kZXg7CiAgdGhpcy5uZXh0ID0gdGhpcy50YWJsZVt0aGlzLmluZGV4ID09IHRoaXMuc2l6ZSAtIDEgPyAwIDogdGhpcy5pbmRleCArIDFdOwogIHRoaXMuY3VyciA9IHRoaXMudGFibGVbdGhpcy5pbmRleF07CiAgcmV0dXJuIHRoaXMuY3VyciArICh0aGlzLm5leHQgLSB0aGlzLmN1cnIpICogdGhpcy5hbHBoYTsKfTsKCmZ1bmN0aW9uIGNsb2NrKF90KXsKICB0ID0gX3Q7CiAgdCAqPSBicG0gLyAxMjA7CiAgdHQgPSB0YXUgKiB0Owp9CgpmdW5jdGlvbiBvY3RhdmUobyl7CiAgcmV0dXJuIGZ1bmN0aW9uKG4pewogICAgcmV0dXJuIG4gKiBvOwogIH07Cn0KCmZ1bmN0aW9uIHNsaWRlKG1lYXN1cmUsIHNlcSwgc3BlZWQpewogIHZhciBwb3MgPSAodCAvIG1lYXN1cmUgLyAyKSAlIHNlcS5sZW5ndGg7CiAgdmFyIG5vdyA9IHBvcyB8IDA7CiAgdmFyIG5leHQgPSBub3cgKyAxOwogIHZhciBhbHBoYSA9IHBvcyAtIG5vdzsKICBpZiAobmV4dCA9PSBzZXEubGVuZ3RoKSBuZXh0ID0gMDsKICByZXR1cm4gc2VxW25vd10gKyAoKHNlcVtuZXh0XSAtIHNlcVtub3ddKSAqIE1hdGgucG93KGFscGhhLCBzcGVlZCkpOwp9CgpmdW5jdGlvbiBzZXF1ZW5jZShtZWFzdXJlLCBzZXEpewogIHJldHVybiBzZXFbKHQgLyBtZWFzdXJlIC8gMiB8IDApICUgc2VxLmxlbmd0aF07Cn0KCmZ1bmN0aW9uIGFycChtZWFzdXJlLCB4LCB5LCB6KXsKICB2YXIgdHMgPSB0IC8gMiAlIG1lYXN1cmU7CiAgcmV0dXJuIE1hdGguc2luKHggKiAoTWF0aC5leHAoLXRzICogeSkpKSAqIE1hdGguZXhwKC10cyAqIHopOwp9CgpmdW5jdGlvbiBzaW4oZnJlcSwgcGhhc2UpewogIHJldHVybiBNYXRoLnNpbigodCAqIGZyZXEgKyAoMiAtIChwaGFzZSB8fCAwKSAvIDIpKSAqIHRhdSk7Cn0KCmZ1bmN0aW9uIHNhdyhmcmVxKXsKICByZXR1cm4gMS0yICogKHQgJSAoMSAvIGZyZXEpKSAqIGZyZXE7Cn0KCmZ1bmN0aW9uIHRyaShmcmVxKXsKICByZXR1cm4gTWF0aC5hYnMoMSAtICgyICogdCAqIGZyZXEpICUgMikgKiAyIC0gMTsKfQoKZnVuY3Rpb24gc3FyKGZyZXEpewogIHJldHVybiBzaW4oZnJlcSwgdCkgPiAwID8gMSA6IC0xOwp9CgpmdW5jdGlvbiBOb2lzZSgpewogIHJldHVybiBNYXRoLnJhbmRvbSgpICogMiAtIDE7Cn0KCmZ1bmN0aW9uIG5vdGUobiwgb2N0YXZlKXsKICByZXR1cm4gTWF0aC5wb3coMiwgKAogICAgbiArIHRyYW5zcG9zZSAtIDMzICsgKDEyICogKG9jdGF2ZSB8fCAwKSkKICApIC8gMTIpICogdHVuaW5nOyAvLyBBNCB0dW5pbmcKfQoKZnVuY3Rpb24gY2xpcCh4KXsKICByZXR1cm4geCAvICgxICsgTWF0aC5hYnMoeCkpOwp9CgpmdW5jdGlvbiBEaW9kZUZpbHRlcigpewogIHRoaXMuayA9IDA7CiAgdGhpcy5BID0gMDsKICB0aGlzLnogPSBbMCwwLDAsMCwwXTsKICB0aGlzLmFoOwogIHRoaXMuYmg7CiAgdGhpcy5mYzsKICB0aGlzLnNldF9xKDApOwogIHRoaXMuc2V0X2hwZigwLjUpOwogIHRoaXMuc2V0X2ZjKC41KTsKfQoKRGlvZGVGaWx0ZXIucHJvdG90eXBlLnNldF9ocGYgPSBmdW5jdGlvbihmYyl7CiAgdmFyIEsgPSBmYyAqIE1hdGguUEk7CiAgdGhpcy5haCA9IChLIC0gMikgLyAoSyArIDIpOwogIHRoaXMuYmggPSAyIC8gKEsgKyAyKTsKfTsKCkRpb2RlRmlsdGVyLnByb3RvdHlwZS5yZXNldCA9IGZ1bmN0aW9uKCl7CiAgaWYgKHRoaXMuayA8IDE3KSB0aGlzLnogPSBbMCwwLDAsMCwwXTsKfTsKCkRpb2RlRmlsdGVyLnByb3RvdHlwZS5zZXRfcSA9IGZ1bmN0aW9uKHEpewogIHRoaXMuayA9IDIwICogcTsKICB0aGlzLkEgPSAxICsgMC41ICogdGhpcy5rOwp9OwoKRGlvZGVGaWx0ZXIucHJvdG90eXBlLnNldF9mYyA9IGZ1bmN0aW9uKGN1dG9mZil7CiAgY3V0b2ZmID0gKGN1dG9mZiAqIGN1dG9mZik7CiAgdGhpcy5mYyA9IGN1dG9mZiA8PSAwCiAgICA/IC4wMgogICAgOiAoY3V0b2ZmID49IDEuMCA/IC45OTkgOiBjdXRvZmYpOwp9OwoKRGlvZGVGaWx0ZXIucHJvdG90eXBlLnJ1biA9IGZ1bmN0aW9uKHgpewogIHZhciBhID0gTWF0aC5QSSAqIHRoaXMuZmM7CiAgYSA9IDIgKiBNYXRoLnRhbigwLjUqYSk7IC8vIGRld2FycGluZywgbm90IHJlcXVpcmVkIHdpdGggMnggb3ZlcnNhbXBsaW5nCiAgdmFyIGFpbnYgPSAxIC8gYTsKICB2YXIgYTIgPSBhKmE7CiAgdmFyIGIgPSAyKmEgKyAxOwogIHZhciBiMiA9IGIqYjsKICB2YXIgYyA9IDEgLyAoMiphMiphMiAtIDQqYTIqYjIgKyBiMipiMik7CiAgdmFyIGcwID0gMiphMiphMipjOwogIHZhciBnID0gZzAgKiB0aGlzLmJoOwoKICAvLyBjdXJyZW50IHN0YXRlCiAgdmFyIHMwID0gKGEyKmEqdGhpcy56WzBdICsgYTIqYip0aGlzLnpbMV0gKyB0aGlzLnpbMl0qKGIyIC0gMiphMikqYSArIHRoaXMuelszXSooYjIgLSAzKmEyKSpiKSAqIGM7CiAgdmFyIHMgPSB0aGlzLmJoKnMwIC0gdGhpcy56WzRdOwoKICAvLyBzb2x2ZSBmZWVkYmFjayBsb29wIChsaW5lYXIpCiAgdmFyIHk1ID0gKGcqeCArIHMpIC8gKDEgKyBnKnRoaXMuayk7CgogIC8vIGlucHV0IGNsaXBwaW5nCiAgdmFyIHkwID0gY2xpcCh4IC0gdGhpcy5rKnk1KTsKICB5NSA9IGcqeTAgKyBzOwoKICAvLyBjb21wdXRlIGludGVncmF0b3Igb3V0cHV0cwogIHZhciB5NCA9IGcwKnkwICsgczA7CiAgdmFyIHkzID0gKGIqeTQgLSB0aGlzLnpbM10pICogYWludjsKICB2YXIgeTIgPSAoYip5MyAtIGEqeTQgLSB0aGlzLnpbMl0pICogYWludjsKICB2YXIgeTEgPSAoYip5MiAtIGEqeTMgLSB0aGlzLnpbMV0pICogYWludjsKCiAgLy8gdXBkYXRlIGZpbHRlciBzdGF0ZQogIHRoaXMuelswXSArPSA0KmEqKHkwIC0geTEgKyB5Mik7CiAgdGhpcy56WzFdICs9IDIqYSooeTEgLSAyKnkyICsgeTMpOwogIHRoaXMuelsyXSArPSAyKmEqKHkyIC0gMip5MyArIHk0KTsKICB0aGlzLnpbM10gKz0gMiphKih5MyAtIDIqeTQpOwogIHRoaXMuels0XSA9IHRoaXMuYmgqeTQgKyB0aGlzLmFoKnk1OwoKICByZXR1cm4gdGhpcy5BKnk0Owp9OwoKLy8gcGF0dGVybnMKdmFyIGhhdF9wYXR0ZXJuID0gWwogIDAuNiwgMC4zLCAwLjIsIDAuMSwgIDAuMywgMC4xLCAxLjEsIDAuNCwKICAwLjYsIDAuNCwgMC4xLCAwLjEsICAwLjMsIDAuMiwgMS4yLCAwLjQsCl07Cgp2YXIgbWVsb2R5ID0gWzIsIDksIDUsIDhdLm1hcChmdW5jdGlvbihuKXsKICByZXR1cm4gbm90ZShuLCAxKTsKfSk7CgptZWxvZHkgPSBtZWxvZHkuY29uY2F0KG1lbG9keS5zbGljZSgpLnJldmVyc2UoKSk7Cgp2YXIgaGF0X25vdGUgPSBub3RlKDEyLCA1KTsKCnZhciBiYXNzX29zYyA9IE9zY2lsbGF0b3IoJ3NhdycsIDUxMik7CnZhciBvc2MgPSBPc2NpbGxhdG9yKCd0cmknLCA1MTIpOwp2YXIgaGF0X29zYyA9IE9zY2lsbGF0b3IoJ3JhbXAnLCA1MTIpOwoKdmFyIGZpbHRlciA9IG5ldyBEaW9kZUZpbHRlcigpOwoKZmlsdGVyLnNldF9xKDAuNzgpOwpmaWx0ZXIuc2V0X2hwZiguMDAxMSk7CgpmdW5jdGlvbiBkc3AodCl7CiAgY2xvY2sodCk7CgogIHZhciBub2lzZSA9IE5vaXNlKCk7CgogIHZhciBuID0gc2xpZGUoMS84LCBtZWxvZHksIDEyKTsKCiAgdmFyIHN5bnRoX29zYyA9IG9zYy5wbGF5KG4gKyB0cmkoMjApICogMTkpICsgdHJpKG4gLyAxMDAwMCk7CiAgdmFyIHN5bnRoID0gYXJwKDEvMTYsIHN5bnRoX29zYywgMjAsIDEwKTsKCiAgZmlsdGVyLnNldF9mYygwLjE0ICsgKHRyaSgxLzgpICogMC4wOCkpOwogIHZhciBiID0gc2xpZGUoMS8yLCBtZWxvZHksIDMpOwogIHZhciBiYXNzID0gYmFzc19vc2MucGxheShiIC8gNCk7CiAgYmFzcyA9IGZpbHRlci5ydW4oYmFzcyAqIDAuNCk7CiAgYmFzcyA9IGNsaXAoYmFzcyAqIDkpOwogIGJhc3MgPSBiYXNzICogKDAuNyAtICgoc2F3KDIpICogMC45NSkpKTsKCiAgdmFyIGtpY2sgPSBhcnAoMS80LCA2MCwgODAsIDMpOwoKICB2YXIgaGF0ID0gc2VxdWVuY2UoMS8xNiwgaGF0X3BhdHRlcm4pCiAgICAqIGFycCgxLzE2LCBoYXRfb3NjLnBsYXkoaGF0X25vdGUpICsgbm9pc2UgKiAxLjQsIDE4LCA3MCk7CgogIHJldHVybiAwLjggKiAoCiAgICAwLjY3ICogc3ludGgKICArIGtpY2sKICArIDAuMTIgKiBoYXQKICArIDAuMjUgKiBiYXNzCiAgKTsKfQo=)
- [stagas - mind swift seutje mix](https://felixroos.github.io/doughbeat/#Ci8qIQogKgogKiBzdGFnYXMgLSBtaW5kIHN3aWZ0IChzZXV0amUgbWl4KQogKgogKi8KCnZhciBicG0gPSAxMzA7CnZhciB0dW5pbmcgPSA0NDA7CnZhciB0cmFuc3Bvc2UgPSAxMTsKCi8vIGNvbnN0YW50cwp2YXIgdGF1ID0gMiAqIE1hdGguUEk7CgovLyB0aW1lIGNvZWZmaWNpZW50cwp2YXIgdCwgdHQ7CgpmdW5jdGlvbiBPc2NpbGxhdG9yKHR5cGUsIHNpemUsIGFsaWFzKXsKICBpZiAoISh0aGlzIGluc3RhbmNlb2YgT3NjaWxsYXRvcikpIHJldHVybiBuZXcgT3NjaWxsYXRvcih0eXBlLCBzaXplLCBhbGlhcyk7CiAgdGhpcy5wb3MgPSAwOwogIHRoaXMuc2l6ZSA9IHNpemUgfHwgc2FtcGxlUmF0ZTsKICB0aGlzLmNvZWZmID0gdGhpcy5zaXplIC8gc2FtcGxlUmF0ZTsKICB0aGlzLnRhYmxlID0gbmV3IEZsb2F0MzJBcnJheSh0aGlzLnNpemUpOwogIHRoaXMuYWxpYXMgPSBhbGlhcyA9PT0gZmFsc2UgPyBmYWxzZSA6IHRydWU7CiAgdGhpcy5idWlsZCh0eXBlKTsKfQoKT3NjaWxsYXRvci5wcm90b3R5cGUuYnVpbGQgPSBmdW5jdGlvbih0eXBlKXsKICBzd2l0Y2ggKHR5cGUpIHsKICAgIGNhc2UgJ3Npbic6CiAgICAgIHZhciBzY2FsZSA9IDIgKiBNYXRoLlBJIC8gdGhpcy5zaXplOwogICAgICBmb3IgKHZhciBpID0gMDsgaSA8IHRoaXMuc2l6ZTsgaSsrKSB7CiAgICAgICAgdGhpcy50YWJsZVtpXSA9IE1hdGguc2luKGkgKiBzY2FsZSk7CiAgICAgIH0KICAgICAgYnJlYWs7CgogICAgY2FzZSAnc2F3JzoKICAgICAgZm9yICh2YXIgaSA9IDA7IGkgPCB0aGlzLnNpemU7IGkrKykgewogICAgICAgIHZhciB4ID0gKGkgLyB0aGlzLnNpemUpOwogICAgICAgIHRoaXMudGFibGVbaV0gPSArMi4wICogKHggLSBNYXRoLnJvdW5kKHgpKTsKICAgICAgfQogICAgICBicmVhazsKCiAgICBjYXNlICdyYW1wJzoKICAgICAgZm9yICh2YXIgaSA9IDA7IGkgPCB0aGlzLnNpemU7IGkrKykgewogICAgICAgIHZhciB4ID0gKGkgLyB0aGlzLnNpemUpOwogICAgICAgIHRoaXMudGFibGVbaV0gPSAtMi4wICogKHggLSBNYXRoLnJvdW5kKHgpKTsKICAgICAgfQogICAgICBicmVhazsKCiAgICBjYXNlICd0cmknOgogICAgICBmb3IgKHZhciBpID0gMDsgaSA8IHRoaXMuc2l6ZTsgaSsrKSB7CiAgICAgICAgdmFyIHggPSAoaSAvIHRoaXMuc2l6ZSkgLSAwLjI1OwogICAgICAgIHRoaXMudGFibGVbaV0gPSAxLjAgLSA0LjAgKiBNYXRoLmFicyhNYXRoLnJvdW5kKHgpIC0geCk7CiAgICAgIH0KICAgICAgYnJlYWs7CgogICAgY2FzZSAnc3FyJzoKICAgICAgdmFyIGhhbGYgPSB0aGlzLnNpemUgLyAyOwogICAgICBmb3IgKHZhciBpID0gMDsgaSA8IHRoaXMuc2l6ZTsgaSsrKSB7CiAgICAgICAgdGhpcy50YWJsZVtpXSA9IGkgPCBoYWxmID8gKzEgOiAtMTsKICAgICAgfQogICAgICBicmVhazsKICB9Cn07CgpPc2NpbGxhdG9yLnByb3RvdHlwZS5wbGF5ID0gZnVuY3Rpb24oZnJlcSl7CiAgdGhpcy5wb3MgKz0gZnJlcSAqIHRoaXMuY29lZmY7CiAgaWYgKHRoaXMucG9zID49IHRoaXMuc2l6ZSkgdGhpcy5wb3MgLT0gdGhpcy5zaXplOwogIHRoaXMuaW5kZXggPSB0aGlzLnBvcyB8IDA7CiAgaWYgKCF0aGlzLmFsaWFzKSByZXR1cm4gdGhpcy50YWJsZVt0aGlzLmluZGV4XTsKICB0aGlzLmFscGhhID0gdGhpcy5wb3MgLSB0aGlzLmluZGV4OwogIHRoaXMubmV4dCA9IHRoaXMudGFibGVbdGhpcy5pbmRleCA9PSB0aGlzLnNpemUgLSAxID8gMCA6IHRoaXMuaW5kZXggKyAxXTsKICB0aGlzLmN1cnIgPSB0aGlzLnRhYmxlW3RoaXMuaW5kZXhdOwogIHJldHVybiB0aGlzLmN1cnIgKyAodGhpcy5uZXh0IC0gdGhpcy5jdXJyKSAqIHRoaXMuYWxwaGE7Cn07CgpmdW5jdGlvbiBjbG9jayhfdCl7CiAgdCA9IF90OwogIHQgKj0gYnBtIC8gMTIwOwogIHR0ID0gdGF1ICogdDsKfQoKZnVuY3Rpb24gb2N0YXZlKG8pewogIHJldHVybiBmdW5jdGlvbihuKXsKICAgIHJldHVybiBuICogbzsKICB9Owp9CgpmdW5jdGlvbiBzbGlkZShtZWFzdXJlLCBzZXEsIHNwZWVkKXsKICB2YXIgcG9zID0gKHQgLyBtZWFzdXJlIC8gMikgJSBzZXEubGVuZ3RoOwogIHZhciBub3cgPSBwb3MgfCAwOwogIHZhciBuZXh0ID0gbm93ICsgMTsKICB2YXIgYWxwaGEgPSBwb3MgLSBub3c7CiAgaWYgKG5leHQgPT0gc2VxLmxlbmd0aCkgbmV4dCA9IDA7CiAgcmV0dXJuIHNlcVtub3ddICsgKChzZXFbbmV4dF0gLSBzZXFbbm93XSkgKiBNYXRoLnBvdyhhbHBoYSwgc3BlZWQpKTsKfQoKZnVuY3Rpb24gc2VxdWVuY2UobWVhc3VyZSwgc2VxKXsKICByZXR1cm4gc2VxWyh0IC8gbWVhc3VyZSAvIDIgfCAwKSAlIHNlcS5sZW5ndGhdOwp9CgpmdW5jdGlvbiBhcnAobWVhc3VyZSwgeCwgeSwgeil7CiAgdmFyIHRzID0gdCAvIDIgJSBtZWFzdXJlOwogIHJldHVybiBNYXRoLnNpbih4ICogKE1hdGguZXhwKC10cyAqIHkpKSkgKiBNYXRoLmV4cCgtdHMgKiB6KTsKfQoKZnVuY3Rpb24gc2luKGZyZXEsIHBoYXNlKXsKICByZXR1cm4gTWF0aC5zaW4oKHQgKiBmcmVxICsgKDIgLSAocGhhc2UgfHwgMCkgLyAyKSkgKiB0YXUpOwp9CgpmdW5jdGlvbiBzYXcoZnJlcSl7CiAgcmV0dXJuIDEtMiAqICh0ICUgKDEgLyBmcmVxKSkgKiBmcmVxOwp9CgpmdW5jdGlvbiB0cmkoZnJlcSl7CiAgcmV0dXJuIE1hdGguYWJzKDEgLSAoMiAqIHQgKiBmcmVxKSAlIDIpICogMiAtIDE7Cn0KCmZ1bmN0aW9uIHNxcihmcmVxKXsKICByZXR1cm4gc2luKGZyZXEsIHQpID4gMCA/IDEgOiAtMTsKfQoKZnVuY3Rpb24gTm9pc2UoKXsKICByZXR1cm4gTWF0aC5yYW5kb20oKSAqIDIgLSAxOwp9CgpmdW5jdGlvbiBub3RlKG4sIG9jdGF2ZSl7CiAgcmV0dXJuIE1hdGgucG93KDIsICgKICAgIG4gKyB0cmFuc3Bvc2UgLSAzMyArICgxMiAqIChvY3RhdmUgfHwgMCkpCiAgKSAvIDEyKSAqIHR1bmluZzsgLy8gQTQgdHVuaW5nCn0KCmZ1bmN0aW9uIGNsaXAoeCl7CiAgcmV0dXJuIHggLyAoMSArIE1hdGguYWJzKHgpKTsKfQoKZnVuY3Rpb24gRGlvZGVGaWx0ZXIoKXsKICB0aGlzLmsgPSAwOwogIHRoaXMuQSA9IDA7CiAgdGhpcy56ID0gWzAsMCwwLDAsMF07CiAgdGhpcy5haDsKICB0aGlzLmJoOwogIHRoaXMuZmM7CiAgdGhpcy5zZXRfcSgwKTsKICB0aGlzLnNldF9ocGYoMC41KTsKICB0aGlzLnNldF9mYyguNSk7Cn0KCkRpb2RlRmlsdGVyLnByb3RvdHlwZS5zZXRfaHBmID0gZnVuY3Rpb24oZmMpewogIHZhciBLID0gZmMgKiBNYXRoLlBJOwogIHRoaXMuYWggPSAoSyAtIDIpIC8gKEsgKyAyKTsKICB0aGlzLmJoID0gMiAvIChLICsgMik7Cn07CgpEaW9kZUZpbHRlci5wcm90b3R5cGUucmVzZXQgPSBmdW5jdGlvbigpewogIGlmICh0aGlzLmsgPCAxNykgdGhpcy56ID0gWzAsMCwwLDAsMF07Cn07CgpEaW9kZUZpbHRlci5wcm90b3R5cGUuc2V0X3EgPSBmdW5jdGlvbihxKXsKICB0aGlzLmsgPSAyMCAqIHE7CiAgdGhpcy5BID0gMSArIDAuNSAqIHRoaXMuazsKfTsKCkRpb2RlRmlsdGVyLnByb3RvdHlwZS5zZXRfZmMgPSBmdW5jdGlvbihjdXRvZmYpewogIGN1dG9mZiA9IChjdXRvZmYgKiBjdXRvZmYpOwogIHRoaXMuZmMgPSBjdXRvZmYgPD0gMAogICAgPyAuMDIKICAgIDogKGN1dG9mZiA+PSAxLjAgPyAuOTk5IDogY3V0b2ZmKTsKfTsKCkRpb2RlRmlsdGVyLnByb3RvdHlwZS5ydW4gPSBmdW5jdGlvbih4KXsKICB2YXIgYSA9IE1hdGguUEkgKiB0aGlzLmZjOwogIGEgPSAyICogTWF0aC50YW4oMC41KmEpOyAvLyBkZXdhcnBpbmcsIG5vdCByZXF1aXJlZCB3aXRoIDJ4IG92ZXJzYW1wbGluZwogIHZhciBhaW52ID0gMSAvIGE7CiAgdmFyIGEyID0gYSphOwogIHZhciBiID0gMiphICsgMTsKICB2YXIgYjIgPSBiKmI7CiAgdmFyIGMgPSAxIC8gKDIqYTIqYTIgLSA0KmEyKmIyICsgYjIqYjIpOwogIHZhciBnMCA9IDIqYTIqYTIqYzsKICB2YXIgZyA9IGcwICogdGhpcy5iaDsKCiAgLy8gY3VycmVudCBzdGF0ZQogIHZhciBzMCA9IChhMiphKnRoaXMuelswXSArIGEyKmIqdGhpcy56WzFdICsgdGhpcy56WzJdKihiMiAtIDIqYTIpKmEgKyB0aGlzLnpbM10qKGIyIC0gMyphMikqYikgKiBjOwogIHZhciBzID0gdGhpcy5iaCpzMCAtIHRoaXMuels0XTsKCiAgLy8gc29sdmUgZmVlZGJhY2sgbG9vcCAobGluZWFyKQogIHZhciB5NSA9IChnKnggKyBzKSAvICgxICsgZyp0aGlzLmspOwoKICAvLyBpbnB1dCBjbGlwcGluZwogIHZhciB5MCA9IGNsaXAoeCAtIHRoaXMuayp5NSk7CiAgeTUgPSBnKnkwICsgczsKCiAgLy8gY29tcHV0ZSBpbnRlZ3JhdG9yIG91dHB1dHMKICB2YXIgeTQgPSBnMCp5MCArIHMwOwogIHZhciB5MyA9IChiKnk0IC0gdGhpcy56WzNdKSAqIGFpbnY7CiAgdmFyIHkyID0gKGIqeTMgLSBhKnk0IC0gdGhpcy56WzJdKSAqIGFpbnY7CiAgdmFyIHkxID0gKGIqeTIgLSBhKnkzIC0gdGhpcy56WzFdKSAqIGFpbnY7CgogIC8vIHVwZGF0ZSBmaWx0ZXIgc3RhdGUKICB0aGlzLnpbMF0gKz0gNCphKih5MCAtIHkxICsgeTIpOwogIHRoaXMuelsxXSArPSAyKmEqKHkxIC0gMip5MiArIHkzKTsKICB0aGlzLnpbMl0gKz0gMiphKih5MiAtIDIqeTMgKyB5NCk7CiAgdGhpcy56WzNdICs9IDIqYSooeTMgLSAyKnk0KTsKICB0aGlzLnpbNF0gPSB0aGlzLmJoKnk0ICsgdGhpcy5haCp5NTsKCiAgcmV0dXJuIHRoaXMuQSp5NDsKfTsKCi8vIHBhdHRlcm5zCnZhciBoYXRfcGF0dGVybiA9IFsKICAwLjgsIDAuMywgMC4yLCAwLjEsICAwLjMsIDAuMSwgMS4xLCAwLjEsCiAgMC44LCAwLjQsIDAuMSwgMC4xLCAgMC4zLCAwLjIsIDEuMiwgMC4xLApdOwoKdmFyIG1lbG9keSA9IFsyLCA5LCA1LCA4LCAyLCA5LCA1LCAyXS5tYXAoZnVuY3Rpb24obil7CiAgcmV0dXJuIG5vdGUobiwgMik7Cn0pOwoKbWVsb2R5ID0gbWVsb2R5LmNvbmNhdChtZWxvZHkuc2xpY2UoKS5yZXZlcnNlKCkpOwoKdmFyIGhhdF9ub3RlID0gbm90ZSgxNiwgNik7Cgp2YXIgYmFzc19vc2MgPSBPc2NpbGxhdG9yKCdzYXcnLCA1MTIpOwp2YXIgb3NjID0gT3NjaWxsYXRvcigndHJpJywgNTEyKTsKdmFyIGhhdF9vc2MgPSBPc2NpbGxhdG9yKCdyYW1wJywgNTEyKTsKCnZhciBmaWx0ZXIgPSBuZXcgRGlvZGVGaWx0ZXIoKTsKCmZpbHRlci5zZXRfcSgwLjIzKTsKZmlsdGVyLnNldF9ocGYoLjAwMTEpOwoKZnVuY3Rpb24gZHNwKHQpewogIGNsb2NrKHQpOwoKICB2YXIgbm9pc2UgPSBOb2lzZSgpOwoKICB2YXIgbiA9IHNsaWRlKDEvOCwgbWVsb2R5LCAyMCk7CgogIHZhciBzeW50aF9vc2MgPSBvc2MucGxheShuICsgdHJpKDEwKSAqIDEpICsgdHJpKG4gLyAxMDAwMCk7CiAgdmFyIHN5bnRoID0gYXJwKDEvOCwgc3ludGhfb3NjLCAyMCwgMCk7CgogIGZpbHRlci5zZXRfZmMoMC41ICsgKHRyaSgxLzQpICogMC4wMikpOwogIHZhciBiID0gc2xpZGUoMS80LCBtZWxvZHksIDE2KTsKICB2YXIgYmFzcyA9IGJhc3Nfb3NjLnBsYXkoYiAvIDMpOwogIGJhc3MgPSBmaWx0ZXIucnVuKGJhc3MgKiAwLjcpOwogIGJhc3MgPSBjbGlwKGJhc3MgKiA4KTsKICBiYXNzID0gYmFzcyAqICgwLjggLSAoKHNhdygyKSAqIDAuNSkpKTsKCiAgdmFyIGtpY2sgPSBhcnAoMS80LCA1MCwgNDAsIDApOwoKICB2YXIgaGF0ID0gc2VxdWVuY2UoMS8xNiwgaGF0X3BhdHRlcm4pCiAgICAqIGFycCgxLzE2LCBoYXRfb3NjLnBsYXkoaGF0X25vdGUpICsgbm9pc2UgKiAxLjgsIDIsIDcwKTsKCiAgcmV0dXJuIDAuOCAqICgKICAgIDEuMSAqIHN5bnRoCiAgKyAxLjUgKiBraWNrCiAgKyAwLjM1ICogaGF0CiAgKyAwLjI1ICogYmFzcwogICk7Cn0K)
- [stagas - morning](https://felixroos.github.io/doughbeat/#Ci8qIQogKgogKiBzdGFnYXMgLSBtb3JuaW5nCiAqCiAqLwoKdmFyIGJwbSA9IDEyMDsKdmFyIHR1bmluZyA9IDQ0MDsKdmFyIHRyYW5zcG9zZSA9IDEyOwoKLy8gY29uc3RhbnRzCnZhciB0YXUgPSAyICogTWF0aC5QSTsKCi8vIHRpbWUgY29lZmZpY2llbnRzCnZhciB0LCB0dDsKCi8vIGFkanVzdCB0dW5pbmcgdG8gYnBtCnR1bmluZyAqPSAxMjAgLyBicG07CgovLyBwYXR0ZXJucwp2YXIgY2hvcmRzID0gWwogIFs3LCA5LCAxMiwgMTZdLAogIFsyLCA1LCA5LCAxMl0sCiAgWzQsIDcsIDExLCAxNF0sCiAgWzIsIDUsIDksIDEyXSwKXS5tYXAoZnVuY3Rpb24oY2hvcmQpewogIHJldHVybiBjaG9yZC5tYXAoZnVuY3Rpb24obil7CiAgICByZXR1cm4gbm90ZShuKTsKICB9KTsKfSkucmV2ZXJzZSgpOwoKdmFyIGhhdF9wYXR0ZXJuID0gWwogIDAuMCwgMC4wLCAwLjUsIDAuMCwgIDAuMCwgMC4wLCAwLjUsIDAuMCwKICAwLjAsIDAuMCwgMC41LCAwLjAsICAwLjAsIDAuMCwgMC41LCAwLjAsCl07Cgp2YXIgcGx1Y2tlZCA9IFBsdWNrKDYwLCAwLjksIDAuOTMsIDEuMCwgMC45KTsKCnZhciBraWNrX25vdGUgPSBub3RlKDIsIC0xKTsKCnZhciBiYXNzX2xwID0gTFAyKDYyMDApOwoKZnVuY3Rpb24gZHNwKHQpewogIGNsb2NrKHQpOwoKICAvLyBub2lzZQogIHZhciBub2lzZSA9IE5vaXNlKCk7CgogIC8vIGNob3JkCiAgdmFyIGMgPSBzZXF1ZW5jZSgxLzgsIGNob3Jkcyk7CgogIC8vIGJhc3MKICB2YXIgYmFzc19vc2MgPQogICAgMC4xICogc2luKGNbMiArIChNYXRoLmZsb29yKHNpbigoMS84KSAqIDIsIHQpKSldICogKDIgKyAoTWF0aC5mbG9vcih0cmkoMS8yLCB0KSAqIDEpKSkgLyA1KQogICsgMC4xICogdHJpKGNbMiArIChNYXRoLmZsb29yKHNpbigoMS80KSAqIDIsIHQpKSldICogKDIgKyAoTWF0aC5mbG9vcih0cmkoMS80LCB0KSAqIDEpKSkgKiAzKQogIDsKCiAgYmFzc19vc2MgPSBiYXNzX2xwKGJhc3Nfb3NjLCA2MCArIHRyaSg0KSAqIDMpOwoKICB2YXIgYmFzcyA9IGFycCgxLzE2LCBiYXNzX29zYywgMiwgMTAgKyAodHJpKDEvNCkgKiAyMCkpOwoKICAvLyBzeW50aAogIHZhciBzeW50aF9vc2MgPQogICAgdHJpKGNbMV0vMSkKICArIHRyaShjWzJdLzEpCiAgOwoKICB2YXIgc3ludGggPSBwbHVja2VkKGFycCgxLzE2LCBzeW50aF9vc2MsIHNlcXVlbmNlKDEvMiwgWzEsIDEsIDEsIDBdKSAqIDQ1ICsgKHNpbigwLjUpICogMTApLCAwLjMpKTsKCiAgLy8gZHJ1bXMKICB2YXIgaGF0X25vdGUgPSBub3RlKDksIDEgKyB0cmkoMS82KSAqIDIgfCAwKTsKCiAgdmFyIGhhdF9vc2MgPQogICAgMC42ICogdHJpKGhhdF9ub3RlKQogICsgMC4xICogbm9pc2UKICA7CgogIHZhciBoYXQgPQogICAgc2VxdWVuY2UoMS8xNiwgaGF0X3BhdHRlcm4pCiAgKiBhcnAoMS84LCBoYXRfb3NjLCA0MCArIHRyaSgxLzQpICogMjAsIDMxKQogIDsKCiAgdmFyIGtpY2tfb3NjID0KICAgIDEuMCAqIHNpbihraWNrX25vdGUpCiAgOwoKICB2YXIga2ljayA9IGFycCgxLzQsIDUxLCA0NSwgMyk7CgogIC8vIG1peGVyCiAgcmV0dXJuIDEgKiAoCiAgICAwLjAyMiAqIHN5bnRoCiAgKyAwLjQgKiBoYXQKICArIDAuNSAqIGtpY2sKICArIDAuMiAqIGJhc3MKICApOwp9CgpmdW5jdGlvbiBjbG9jayhfdCl7CiAgdCA9IF90OwogIHQgKj0gYnBtIC8gMTIwOwogIHR0ID0gdGF1ICogdDsKfQoKZnVuY3Rpb24gUGx1Y2sobGVuZ3RoLCBkcnksIHdldCwgdGFpbCwgY3V0b2ZmKXsKICBsZW5ndGggPSBsZW5ndGggfHwgNDA7CiAgdmFyIGxwID0gTFAoKTsKICB2YXIgcmIgPSBuZXcgUmluZ0J1ZmZlcihsZW5ndGgpOwogIHZhciBzdW07CiAgcmV0dXJuIGZ1bmN0aW9uKHNhbXBsZSl7CiAgICBzdW0gPSByYi5yZWR1Y2UoYXZlcmFnZSwgc2FtcGxlKTsKICAgIHNhbXBsZSA9CiAgICAgIGRyeSAqIHNhbXBsZQogICAgKyB3ZXQgKiBscChzdW0sIGN1dG9mZikKICAgIDsKICAgIHJiLnB1c2goc2FtcGxlICogdGFpbCk7CiAgICByZXR1cm4gc2FtcGxlOwogIH07Cn0KCmZ1bmN0aW9uIGF2ZXJhZ2UocCwgbil7CiAgcmV0dXJuIChwICsgbikgLyAyOwp9CgpmdW5jdGlvbiBzZXF1ZW5jZShtZWFzdXJlLCBzZXEpewogIHJldHVybiBzZXFbKHQgLyBtZWFzdXJlIC8gMiB8IDApICUgc2VxLmxlbmd0aF07Cn0KCmZ1bmN0aW9uIGFycChtZWFzdXJlLCB4LCB5LCB6KXsKICB2YXIgdHMgPSB0IC8gMiAlIG1lYXN1cmU7CiAgcmV0dXJuIE1hdGguc2luKHggKiAoTWF0aC5leHAoLXRzICogeSkpKSAqIE1hdGguZXhwKC10cyAqIHopOwp9CgpmdW5jdGlvbiBzaW4oZnJlcSwgcGhhc2UpewogIHJldHVybiBNYXRoLnNpbigodCAqIGZyZXEgKyAoMiAtIChwaGFzZSB8fCAwKSAvIDIpKSAqIHRhdSk7Cn0KCmZ1bmN0aW9uIHNhdyhmcmVxKXsKICByZXR1cm4gMS0yICogKHQgJSAoMSAvIGZyZXEpKSAqIGZyZXE7Cn0KCmZ1bmN0aW9uIHRyaShmcmVxKSB7CiAgcmV0dXJuIE1hdGguYWJzKDEgLSAoMiAqIHQgKiBmcmVxKSAlIDIpICogMiAtIDE7Cn0KCmZ1bmN0aW9uIHNxcihmcmVxKXsKICByZXR1cm4gc2luKGZyZXEsIHQpID4gMCA/IDEgOiAtMTsKfQoKZnVuY3Rpb24gTm9pc2UoKXsKICByZXR1cm4gTWF0aC5yYW5kb20oKSAqIDIgLSAxOwp9CgpmdW5jdGlvbiBMUCgpewogIHZhciB2YWx1ZSA9IDA7CiAgcmV0dXJuIGZ1bmN0aW9uKHgsIG4pewogICAgcmV0dXJuIHZhbHVlICs9ICh4IC0gdmFsdWUpIC8gbjsKICB9Owp9CgpmdW5jdGlvbiBub3RlKG4sIG9jdGF2ZSl7CiAgcmV0dXJuIE1hdGgucG93KDIsICgKICAgIG4gKyB0cmFuc3Bvc2UgLSAzMyArICgxMiAqIChvY3RhdmUgfHwgMCkpCiAgKSAvIDEyKSAqIHR1bmluZzsgLy8gQTQgdHVuaW5nCn0KCmZ1bmN0aW9uIFJpbmdCdWZmZXIobGVuZ3RoKXsKICB0aGlzLmFycmF5ID0gbmV3IEZsb2F0MzJBcnJheShsZW5ndGgpOwogIHRoaXMubGVuZ3RoID0gbGVuZ3RoOwogIHRoaXMucG9zID0gMDsKfQoKUmluZ0J1ZmZlci5wcm90b3R5cGUucHVzaCA9IGZ1bmN0aW9uKGVsKXsKICB0aGlzLmFycmF5W3RoaXMucG9zKytdID0gZWw7CiAgaWYgKHRoaXMucG9zID09PSB0aGlzLmxlbmd0aCkgewogICAgdGhpcy5wb3MgPSAwOwogIH0KfTsKClJpbmdCdWZmZXIucHJvdG90eXBlLmZvckVhY2ggPSBmdW5jdGlvbihmbil7CiAgdmFyIGkgPSB0aGlzLnBvczsKICBmb3IgKDsgaSA8IHRoaXMubGVuZ3RoOyBpKyspIHsKICAgIGZuKHRoaXMuYXJyYXlbaV0pOwogIH0KICBpZiAodGhpcy5wb3MgPiAwKSB7CiAgICBmb3IgKGkgPSAwOyBpIDwgdGhpcy5wb3M7IGkrKykgewogICAgICBmbih0aGlzLmFycmF5W2ldKTsKICAgIH0KICB9Cn07CgpSaW5nQnVmZmVyLnByb3RvdHlwZS5yZWR1Y2UgPSBmdW5jdGlvbihmbiwgdmFsKXsKICB2YWwgPSB2YWwgfHwgMDsKICB0aGlzLmZvckVhY2goZnVuY3Rpb24oZWwpewogICAgdmFsID0gZm4odmFsLCBlbCk7CiAgfSk7CiAgcmV0dXJuIHZhbDsKfTsKCmZ1bmN0aW9uIExQMihjdXRvZmYpewogIHZhciBSQyA9IDEgLyAoY3V0b2ZmICogMiAqIE1hdGguUEkpOwogIHZhciBkdCA9IDEgLyAyMDQ4OwogIHZhciBhbHBoYSA9IGR0IC8gKFJDICsgZHQpOwogIHZhciBwcmV2ID0gMDsKICB2YXIgY3VyciA9IDA7CiAgcmV0dXJuIGZ1bmN0aW9uKGZyZXEsIHgpewogICAgY3VyciA9IHByZXYgKyAoIChkdCAvICggKDEvIChmcmVxICogMiAqIE1hdGguUEkpKSArIGR0KSApICogKHggLSBwcmV2KSk7CiAgICBwcmV2ID0gY3VycjsKICAgIHJldHVybiBjdXJyOwogIH07Cn0K)
- [stagas - need more 303](https://felixroos.github.io/doughbeat/#Ci8qIQogKgogKiBzdGFnYXMgLSBuZWVkIG1vcmUgMzAzCiAqCiAqLwoKdmFyIGJwbSA9IDEyNTsKdmFyIHR1bmluZyA9IDQ0MDsKdmFyIHRyYW5zcG9zZSA9IC0xOwoKLy8gY29uc3RhbnRzCnZhciB0YXUgPSAyICogTWF0aC5QSTsKCi8vIHRpbWUgY29lZmZpY2llbnRzCnZhciB0LCB0dDsKCmZ1bmN0aW9uIE9zY2lsbGF0b3IodHlwZSwgc2l6ZSl7CiAgaWYgKCEodGhpcyBpbnN0YW5jZW9mIE9zY2lsbGF0b3IpKSByZXR1cm4gbmV3IE9zY2lsbGF0b3IodHlwZSwgc2l6ZSk7CiAgdGhpcy5wb3MgPSAwOwogIHRoaXMuc2l6ZSA9IHNpemUgfHwgc2FtcGxlUmF0ZTsKICB0aGlzLmNvZWZmID0gdGhpcy5zaXplIC8gc2FtcGxlUmF0ZTsKICB0aGlzLnRhYmxlID0gbmV3IEZsb2F0MzJBcnJheSh0aGlzLnNpemUpOwogIHRoaXMuYnVpbGQodHlwZSk7Cn0KCk9zY2lsbGF0b3IucHJvdG90eXBlLmJ1aWxkID0gZnVuY3Rpb24odHlwZSl7CiAgc3dpdGNoICh0eXBlKSB7CiAgICBjYXNlICdzaW4nOgogICAgICB2YXIgc2NhbGUgPSAyICogTWF0aC5QSSAvIHRoaXMuc2l6ZTsKICAgICAgZm9yICh2YXIgaSA9IDA7IGkgPCB0aGlzLnNpemU7IGkrKykgewogICAgICAgIHRoaXMudGFibGVbaV0gPSBNYXRoLnNpbihpICogc2NhbGUpOwogICAgICB9CiAgICAgIGJyZWFrOwoKICAgIGNhc2UgJ2Nvcyc6CiAgICAgIHZhciBzY2FsZSA9IDIgKiBNYXRoLlBJIC8gdGhpcy5zaXplOwogICAgICBmb3IgKHZhciBpID0gMDsgaSA8IHRoaXMuc2l6ZTsgaSsrKSB7CiAgICAgICAgdGhpcy50YWJsZVtpXSA9IE1hdGguY29zKGkgKiBzY2FsZSk7CiAgICAgIH0KICAgICAgYnJlYWs7CgogICAgY2FzZSAnc2F3JzoKICAgICAgZm9yICh2YXIgaSA9IDA7IGkgPCB0aGlzLnNpemU7IGkrKykgewogICAgICAgIHZhciB4ID0gKGkgLyB0aGlzLnNpemUpOwogICAgICAgIHRoaXMudGFibGVbaV0gPSArMi4wICogKHggLSBNYXRoLnJvdW5kKHgpKTsKICAgICAgfQogICAgICBicmVhazsKCiAgICBjYXNlICdyYW1wJzoKICAgICAgZm9yICh2YXIgaSA9IDA7IGkgPCB0aGlzLnNpemU7IGkrKykgewogICAgICAgIHZhciB4ID0gKGkgLyB0aGlzLnNpemUpOwogICAgICAgIHRoaXMudGFibGVbaV0gPSAtMi4wICogKHggLSBNYXRoLnJvdW5kKHgpKTsKICAgICAgfQogICAgICBicmVhazsKCiAgICBjYXNlICd0cmknOgogICAgICBmb3IgKHZhciBpID0gMDsgaSA8IHRoaXMuc2l6ZTsgaSsrKSB7CiAgICAgICAgdmFyIHggPSAoaSAvIHRoaXMuc2l6ZSkgLSAwLjI1OwogICAgICAgIHRoaXMudGFibGVbaV0gPSAxLjAgLSA0LjAgKiBNYXRoLmFicyhNYXRoLnJvdW5kKHgpIC0geCk7CiAgICAgIH0KICAgICAgYnJlYWs7CgogICAgY2FzZSAnc3FyJzoKICAgICAgdmFyIGhhbGYgPSB0aGlzLnNpemUgLyAyOwogICAgICBmb3IgKHZhciBpID0gMDsgaSA8IHRoaXMuc2l6ZTsgaSsrKSB7CiAgICAgICAgdGhpcy50YWJsZVtpXSA9IGkgPCBoYWxmID8gKzEgOiAtMTsKICAgICAgfQogICAgICBicmVhazsKICB9Cn07CgpPc2NpbGxhdG9yLnByb3RvdHlwZS5wbGF5ID0gZnVuY3Rpb24oZnJlcSl7CiAgdGhpcy5wb3MgKz0gZnJlcSAqIHRoaXMuY29lZmY7CiAgaWYgKHRoaXMucG9zID49IHRoaXMuc2l6ZSkgdGhpcy5wb3MgLT0gdGhpcy5zaXplOwogIHRoaXMuaW5kZXggPSB0aGlzLnBvcyB8IDA7CiAgdGhpcy5hbHBoYSA9IHRoaXMucG9zIC0gdGhpcy5pbmRleDsKICB0aGlzLm5leHQgPSB0aGlzLnRhYmxlW3RoaXMuaW5kZXggPT0gdGhpcy5zaXplIC0gMSA/IDAgOiB0aGlzLmluZGV4ICsgMV07CiAgdGhpcy5jdXJyID0gdGhpcy50YWJsZVt0aGlzLmluZGV4XTsKICByZXR1cm4gdGhpcy5jdXJyICsgKHRoaXMubmV4dCAtIHRoaXMuY3VycikgKiB0aGlzLmFscGhhOwp9OwoKZnVuY3Rpb24gY2xvY2soX3QpewogIHQgPSBfdDsKICB0ICo9IGJwbSAvIDEyMDsKICB0dCA9IHRhdSAqIHQ7Cn0KCmZ1bmN0aW9uIGNsaXAoeCl7CiAgcmV0dXJuIHggLyAoMSArIE1hdGguYWJzKHgpKTsKfQoKZnVuY3Rpb24gc2VxdWVuY2UobWVhc3VyZSwgc2VxKXsKICByZXR1cm4gc2VxWyh0IC8gbWVhc3VyZSAvIDIgfCAwKSAlIHNlcS5sZW5ndGhdOwp9CgpmdW5jdGlvbiBzbGlkZShtZWFzdXJlLCBzZXEsIHNwZWVkKXsKICB2YXIgcG9zID0gKHQgLyBtZWFzdXJlIC8gMikgJSBzZXEubGVuZ3RoOwogIHZhciBub3cgPSBwb3MgfCAwOwogIHZhciBuZXh0ID0gbm93ICsgMTsKICB2YXIgYWxwaGEgPSBwb3MgLSBub3c7CiAgaWYgKG5leHQgPT0gc2VxLmxlbmd0aCkgbmV4dCA9IDA7CiAgcmV0dXJuIHNlcVtub3ddICsgKChzZXFbbmV4dF0gLSBzZXFbbm93XSkgKiBNYXRoLnBvdyhhbHBoYSwgc3BlZWQpKTsKfQoKZnVuY3Rpb24gYXJwKG1lYXN1cmUsIHgsIHksIHopewogIHZhciB0cyA9IHQgLyAyICUgbWVhc3VyZTsKICByZXR1cm4gTWF0aC5zaW4oeCAqIChNYXRoLmV4cCgtdHMgKiB5KSkpICogTWF0aC5leHAoLXRzICogeik7Cn0KCmZ1bmN0aW9uIE5vaXNlKCl7CiAgcmV0dXJuIE1hdGgucmFuZG9tKCkgKiAyIC0gMTsKfQoKZnVuY3Rpb24gbm90ZShuLCBvY3RhdmUpewogIHJldHVybiBNYXRoLnBvdygyLCAoCiAgICBuICsgdHJhbnNwb3NlIC0gMzMgKyAoMTIgKiAob2N0YXZlIHx8IDApKQogICkgLyAxMikgKiB0dW5pbmc7IC8vIEE0IHR1bmluZwp9CgpmdW5jdGlvbiBvY3RhdmUobyl7CiAgcmV0dXJuIGZ1bmN0aW9uKG4pewogICAgcmV0dXJuIG4gKiBvOwogIH07Cn0KCmZ1bmN0aW9uIERpb2RlRmlsdGVyKCl7CiAgdGhpcy5rID0gMDsKICB0aGlzLkEgPSAwOwogIHRoaXMueiA9IFswLDAsMCwwLDBdOwogIHRoaXMuYWg7CiAgdGhpcy5iaDsKICB0aGlzLmZjOwogIHRoaXMuc2V0X3EoMCk7CiAgdGhpcy5zZXRfaHBmKDAuNSk7CiAgdGhpcy5zZXRfZmMoLjUpOwp9CgpEaW9kZUZpbHRlci5wcm90b3R5cGUuc2V0X2hwZiA9IGZ1bmN0aW9uKGZjKXsKICB2YXIgSyA9IGZjICogTWF0aC5QSTsKICB0aGlzLmFoID0gKEsgLSAyKSAvIChLICsgMik7CiAgdGhpcy5iaCA9IDIgLyAoSyArIDIpOwp9OwoKRGlvZGVGaWx0ZXIucHJvdG90eXBlLnJlc2V0ID0gZnVuY3Rpb24oKXsKICBpZiAodGhpcy5rIDwgMTcpIHRoaXMueiA9IFswLDAsMCwwLDBdOwp9OwoKRGlvZGVGaWx0ZXIucHJvdG90eXBlLnNldF9xID0gZnVuY3Rpb24ocSl7CiAgdGhpcy5rID0gMjAgKiBxOwogIHRoaXMuQSA9IDEgKyAwLjUgKiB0aGlzLms7Cn07CgpEaW9kZUZpbHRlci5wcm90b3R5cGUuc2V0X2ZjID0gZnVuY3Rpb24oY3V0b2ZmKXsKICBjdXRvZmYgPSAoY3V0b2ZmICogY3V0b2ZmKTsKICB0aGlzLmZjID0gY3V0b2ZmIDw9IDAKICAgID8gLjAyCiAgICA6IChjdXRvZmYgPj0gMS4wID8gLjk5OSA6IGN1dG9mZik7Cn07CgpEaW9kZUZpbHRlci5wcm90b3R5cGUucnVuID0gZnVuY3Rpb24oeCl7CiAgdmFyIGEgPSBNYXRoLlBJICogdGhpcy5mYzsKICBhID0gMiAqIE1hdGgudGFuKDAuNSphKTsgLy8gZGV3YXJwaW5nLCBub3QgcmVxdWlyZWQgd2l0aCAyeCBvdmVyc2FtcGxpbmcKICB2YXIgYWludiA9IDEgLyBhOwogIHZhciBhMiA9IGEqYTsKICB2YXIgYiA9IDIqYSArIDE7CiAgdmFyIGIyID0gYipiOwogIHZhciBjID0gMSAvICgyKmEyKmEyIC0gNCphMipiMiArIGIyKmIyKTsKICB2YXIgZzAgPSAyKmEyKmEyKmM7CiAgdmFyIGcgPSBnMCAqIHRoaXMuYmg7CgogIC8vIGN1cnJlbnQgc3RhdGUKICB2YXIgczAgPSAoYTIqYSp0aGlzLnpbMF0gKyBhMipiKnRoaXMuelsxXSArIHRoaXMuelsyXSooYjIgLSAyKmEyKSphICsgdGhpcy56WzNdKihiMiAtIDMqYTIpKmIpICogYzsKICB2YXIgcyA9IHRoaXMuYmgqczAgLSB0aGlzLnpbNF07CgogIC8vIHNvbHZlIGZlZWRiYWNrIGxvb3AgKGxpbmVhcikKICB2YXIgeTUgPSAoZyp4ICsgcykgLyAoMSArIGcqdGhpcy5rKTsKCiAgLy8gaW5wdXQgY2xpcHBpbmcKICB2YXIgeTAgPSBjbGlwKHggLSB0aGlzLmsqeTUpOwogIHk1ID0gZyp5MCArIHM7CgogIC8vIGNvbXB1dGUgaW50ZWdyYXRvciBvdXRwdXRzCiAgdmFyIHk0ID0gZzAqeTAgKyBzMDsKICB2YXIgeTMgPSAoYip5NCAtIHRoaXMuelszXSkgKiBhaW52OwogIHZhciB5MiA9IChiKnkzIC0gYSp5NCAtIHRoaXMuelsyXSkgKiBhaW52OwogIHZhciB5MSA9IChiKnkyIC0gYSp5MyAtIHRoaXMuelsxXSkgKiBhaW52OwoKICAvLyB1cGRhdGUgZmlsdGVyIHN0YXRlCiAgdGhpcy56WzBdICs9IDQqYSooeTAgLSB5MSArIHkyKTsKICB0aGlzLnpbMV0gKz0gMiphKih5MSAtIDIqeTIgKyB5Myk7CiAgdGhpcy56WzJdICs9IDIqYSooeTIgLSAyKnkzICsgeTQpOwogIHRoaXMuelszXSArPSAyKmEqKHkzIC0gMip5NCk7CiAgdGhpcy56WzRdID0gdGhpcy5iaCp5NCArIHRoaXMuYWgqeTU7CgogIHJldHVybiB0aGlzLkEqeTQ7Cn07Cgp2YXIgb3NjID0gT3NjaWxsYXRvcignc2F3JywgMTAyNCk7CnZhciBsZm8gPSBPc2NpbGxhdG9yKCdzaW4nLCA1MTIpOwp2YXIgbGZvMiA9IE9zY2lsbGF0b3IoJ2NvcycsIDUxMik7Cgp2YXIgbXByb2dyZXNzaW9uID0gWzEyOCwgNjQsIDMyXTsKCnZhciBwcm9ncmVzc2lvbiA9IFsKICAwLCAwLCAwLCAyLCAgMCwgMCwgMCwgMiwKICAwLCAwLCAwLCAyLCAgMCwgMCwgNSwgMywKXTsKCnZhciBmaWx0ZXIgPSBuZXcgRGlvZGVGaWx0ZXIoKTsKCmZpbHRlci5zZXRfcSgwLjcyKTsKZmlsdGVyLnNldF9ocGYoLjAwMTEpOwoKZnVuY3Rpb24gZHNwKHQpewogIGNsb2NrKHQpOwoKICB2YXIgcCA9IHNlcXVlbmNlKDEvMiwgcHJvZ3Jlc3Npb24pOwoKICB2YXIgbWVsb2R5ID0gWzUsIDE3LCA1LCAxNywgOCwgMjAsIDgsIDIwXS5tYXAoZnVuY3Rpb24obil7CiAgICByZXR1cm4gbm90ZShuICsgcCwgMCk7CiAgfSk7CgogIGZpbHRlci5zZXRfZmMoIDAuMDAxICsgKChsZm8ucGxheSgyLjY2KSAqIDAuMTYgKyAxKSAvIDIpICogKDAuMjkgKyBsZm8yLnBsYXkoLjAxKSAqIDAuMTcpICkgOwoKICB2YXIgbiA9IHNsaWRlKDEvMTYsIG1lbG9keSwgMTQpOwoKICB2YXIgc3ludGhfb3NjID0gb3NjLnBsYXkobik7CiAgdmFyIHN5bnRoID0gYXJwKDEvMTYsIHN5bnRoX29zYywgNTAsIDUwKTsKCiAgc3ludGggPSBmaWx0ZXIucnVuKHN5bnRoICogMC42KTsKICBzeW50aCA9IGNsaXAoc3ludGggKiAxMik7CgogIHZhciBraWNrID0gYXJwKDEvNCwgNjUsIDYzLCA1KTsKCiAgLy8gbWl4ZXIKICByZXR1cm4gMC43ICogKAogICAgMC41NSAqIHN5bnRoCiAgKyBraWNrCiAgKTsKfQo=)
- [stagas - on the verge](https://felixroos.github.io/doughbeat/#Ci8qIQogKgogKiBzdGFnYXMgLSBvbiB0aGUgdmVyZ2UKICoKICovCgp2YXIgYnBtID0gMTI1Owp2YXIgdHVuaW5nID0gNDQwOwp2YXIgdHJhbnNwb3NlID0gMTI7CgovLyBjb25zdGFudHMKdmFyIHRhdSA9IDIgKiBNYXRoLlBJOwoKLy8gYWRqdXN0IHR1bmluZyB0byBicG0KdHVuaW5nICo9IDEyMCAvIGJwbTsKCi8vIHBhdHRlcm5zCnZhciBjaG9yZHMgPSBbCiAgWzcsIDksIDEyLCAxNl0sCiAgWzIsIDUsIDksIDEyXSwKICBbNCwgNywgMTEsIDE0XSwKICBbMiwgNSwgOSwgMTJdLApdLm1hcChmdW5jdGlvbihjaG9yZCl7CiAgcmV0dXJuIGNob3JkLm1hcChmdW5jdGlvbihuKXsKICAgIHJldHVybiBub3RlKG4pOwogIH0pOwp9KTsKCnZhciBoYXRfcGF0dGVybiA9IFsKICAwLjQsIDAuMCwgMS4yLCAwLCAgMC4zLCAwLjAsIDEuMCwgMC41LAogIDAuNCwgMC4yLCAxLjEsIDAsICAwLjMsIDAuMiwgMS4yLCAwLjUsCl07Cgp2YXIgcGx1Y2tlZCA9IFBsdWNrKDYwLCAwLjQsIDAuNywgMS4xNSwgMC44KTsKCnZhciBoYXRfbm90ZSA9IG5vdGUoNywgNik7CnZhciBraWNrX25vdGUgPSBub3RlKDIsIC0xKTsKCnZhciBiYXNzX2xwID0gTFAyKDE1MDApOwoKZnVuY3Rpb24gZHNwKHQsIGYpIHsKICB0ICo9IGJwbSAvIDEyMDsKCiAgdmFyIGMgPSBzZXF1ZW5jZSgxLCBjaG9yZHMsIHQpOwoKICB2YXIgbm9pc2UgPSBOb2lzZSgpOwoKICB2YXIgYSA9IDAuOSAqIHRyaSguMDEsIHQgLyAyICUgKDEpKTsKICB2YXIgYiA9IDAuOCAqIE1hdGguc2luKGEgKiB0YXUgKiB0KTsKCiAgdmFyIGJhc3Nfb3NjID0KICAgIDAuMyAqIHRyaShjWzIgKyAoTWF0aC5mbG9vcihzaW4oKDkvNikgKiAyLCB0KSkpXSAqICg0ICsgKE1hdGguZmxvb3IodHJpKDEvMiwgdCkgKiAzKSkpLCB0KQogIDsKCiAgYmFzc19vc2MgPSBiYXNzX2xwKGJhc3Nfb3NjLCA3MCk7CgogIHZhciBiYXNzID0gZW52KDEvOCwgYmFzc19vc2MsIDIsIDEsIHQpOwoKICAvLyBjaG9yZCBzeW50aAogIHZhciBzeW50aF9vc2MgPQogICAgdHJpKGNbMF0qMywgdCkKICArIHRyaShjWzFdKjIsIHQpCiAgKyB0cmkoY1syXSwgdCkKICArIHRyaShjWzNdKjIsIHQpCiAgOwoKICB2YXIgc3ludGggPSBwbHVja2VkKGVudigxLzE2LCBzeW50aF9vc2MsIHNpbigwLjIsIHQpICogMTAsIDIsIHQpKTsKCiAgLy8gZHJ1bXMKICB2YXIgaGF0X29zYyA9CiAgICAwLjIgKiB0cmkoaGF0X25vdGUsIHQpCiAgKyAwLjQgKiBub2lzZQogIDsKCiAgdmFyIGhhdCA9CiAgICBzZXF1ZW5jZSgxLzE2LCBoYXRfcGF0dGVybiwgdCkKICAqIGVudigxLzE2LCBoYXRfb3NjLCA4NywgMTgsIHQpCiAgOwoKICB2YXIga2lja19vc2MgPQogICAgMS4wICogc2luKGtpY2tfbm90ZSwgdCkKICA7CgogIHZhciBraWNrID0gZW52KDEvNCwga2lja19vc2MsIDEwLCAxMCwgdCk7CgogIHJldHVybiAxICogKAogICAgMC4wNSAqIHN5bnRoCiAgKyAwLjI2ICogaGF0CiAgKyAwLjYgKiBraWNrCiAgKyAwLjIyICogYmFzcwogICk7Cn0KCmZ1bmN0aW9uIFBsdWNrKGxlbmd0aCwgZHJ5LCB3ZXQsIHRhaWwsIGN1dG9mZil7CiAgbGVuZ3RoID0gbGVuZ3RoIHx8IDQwOwogIHZhciBscCA9IExQKCk7CiAgdmFyIHJiID0gbmV3IFJpbmdCdWZmZXIobGVuZ3RoKTsKICB2YXIgc3VtOwogIHJldHVybiBmdW5jdGlvbihzYW1wbGUpewogICAgc3VtID0gcmIucmVkdWNlKGF2ZXJhZ2UsIHNhbXBsZSk7CiAgICBzYW1wbGUgPQogICAgICBkcnkgKiBzYW1wbGUKICAgICsgd2V0ICogbHAoc3VtLCBjdXRvZmYpCiAgICA7CiAgICByYi5wdXNoKHNhbXBsZSAqIHRhaWwpOwogICAgcmV0dXJuIHNhbXBsZTsKICB9Owp9CgpmdW5jdGlvbiBhdmVyYWdlKHAsIG4pewogIHJldHVybiAocCArIG4pIC8gMjsKfQoKZnVuY3Rpb24gc2VxdWVuY2UobWVhc3VyZSwgc2VxLCB0KXsKICByZXR1cm4gc2VxWyh0IC8gbWVhc3VyZSAvIDIgfCAwKSAlIHNlcS5sZW5ndGhdOwp9CgpmdW5jdGlvbiBlbnYobWVhc3VyZSwgeCwgeSwgeiwgdCl7CiAgdmFyIHRzID0gdCAvIDIgJSBtZWFzdXJlOwogIHJldHVybiBNYXRoLnNpbih4ICogKE1hdGguZXhwKC10cyAqIHkpKSkgKiBNYXRoLmV4cCgtdHMgKiB6KTsKfQoKZnVuY3Rpb24gc2luKHgsIHQpewogIHJldHVybiBNYXRoLnNpbih0YXUgKiB0ICogeCk7Cn0KCmZ1bmN0aW9uIHNhdyh4LCB0KXsKICByZXR1cm4gMS0yICogKHQgJSAoMS94KSkgKiB4Owp9CgpmdW5jdGlvbiB0cmkoeCwgdCkgewogIHJldHVybiBNYXRoLmFicygxIC0gKDIgKiB0ICogeCkgJSAyKSAqIDIgLSAxOwp9CgpmdW5jdGlvbiBOb2lzZSgpIHsKICByZXR1cm4gTWF0aC5yYW5kb20oKSAqIDIgLSAxOwp9CgpmdW5jdGlvbiBzcXIoeCwgdCkgewogIHJldHVybiBzaW4oeCwgdCkgPiAwID8gMSA6IC0xOwp9CgpmdW5jdGlvbiBMUCgpewogIHZhciB2YWx1ZSA9IDA7CiAgcmV0dXJuIGZ1bmN0aW9uKHgsIG4pewogICAgcmV0dXJuIHZhbHVlICs9ICh4IC0gdmFsdWUpIC8gbjsKICB9Owp9CgpmdW5jdGlvbiBub3RlKG4sIG9jdGF2ZSkgewogIHJldHVybiBNYXRoLnBvdygyLCAoCiAgICBuICsgdHJhbnNwb3NlIC0gMzMgKyAoMTIgKiAob2N0YXZlIHx8IDApKQogICkgLyAxMikgKiB0dW5pbmc7IC8vIEE0IHR1bmluZwp9CgpmdW5jdGlvbiBSaW5nQnVmZmVyKGxlbmd0aCl7CiAgdGhpcy5hcnJheSA9IG5ldyBGbG9hdDMyQXJyYXkobGVuZ3RoKTsKICB0aGlzLmxlbmd0aCA9IGxlbmd0aDsKICB0aGlzLnBvcyA9IDA7Cn0KClJpbmdCdWZmZXIucHJvdG90eXBlLnB1c2ggPSBmdW5jdGlvbihlbCl7CiAgdGhpcy5hcnJheVt0aGlzLnBvcysrXSA9IGVsOwogIGlmICh0aGlzLnBvcyA9PT0gdGhpcy5sZW5ndGgpIHsKICAgIHRoaXMucG9zID0gMDsKICB9Cn07CgpSaW5nQnVmZmVyLnByb3RvdHlwZS5mb3JFYWNoID0gZnVuY3Rpb24oZm4pewogIHZhciBpID0gdGhpcy5wb3M7CiAgZm9yICg7IGkgPCB0aGlzLmxlbmd0aDsgaSsrKSB7CiAgICBmbih0aGlzLmFycmF5W2ldKTsKICB9CiAgaWYgKHRoaXMucG9zID4gMCkgewogICAgZm9yIChpID0gMDsgaSA8IHRoaXMucG9zOyBpKyspIHsKICAgICAgZm4odGhpcy5hcnJheVtpXSk7CiAgICB9CiAgfQp9OwoKUmluZ0J1ZmZlci5wcm90b3R5cGUucmVkdWNlID0gZnVuY3Rpb24oZm4sIHZhbCl7CiAgdmFsID0gdmFsIHx8IDA7CiAgdGhpcy5mb3JFYWNoKGZ1bmN0aW9uKGVsKXsKICAgIHZhbCA9IGZuKHZhbCwgZWwpOwogIH0pOwogIHJldHVybiB2YWw7Cn07CgpmdW5jdGlvbiBMUDIoY3V0b2ZmKXsKICB2YXIgUkMgPSAxIC8gKGN1dG9mZiAqIDIgKiBNYXRoLlBJKTsKICB2YXIgZHQgPSAxIC8gMjA0ODsKICB2YXIgYWxwaGEgPSBkdCAvIChSQyArIGR0KTsKICB2YXIgcHJldiA9IDA7CiAgdmFyIGN1cnIgPSAwOwogIHJldHVybiBmdW5jdGlvbihmcmVxLCB4KXsKICAgIGN1cnIgPSBwcmV2ICsgKCAoZHQgLyAoICgxLyAoZnJlcSAqIDIgKiBNYXRoLlBJKSkgKyBkdCkgKSAqICh4IC0gcHJldikpOwogICAgcHJldiA9IGN1cnI7CiAgICByZXR1cm4gY3VycjsKICB9Owp9Cg==)
- [stagas - on the verge tech mix](https://felixroos.github.io/doughbeat/#Ci8qIQogKgogKiBzdGFnYXMgLSBvbiB0aGUgdmVyZ2UgKHRlY2ggbWl4KQogKgogKi8KCnZhciBicG0gPSAxMjU7CnZhciB0dW5pbmcgPSA0NDA7CnZhciB0cmFuc3Bvc2UgPSAxMjsKCi8vIGNvbnN0YW50cwp2YXIgdGF1ID0gMiAqIE1hdGguUEk7CgovLyB0aW1lIGNvZWZmaWNpZW50cwp2YXIgdCwgdHQ7CgovLyBhZGp1c3QgdHVuaW5nIHRvIGJwbQp0dW5pbmcgKj0gMTIwIC8gYnBtOwoKLy8gcGF0dGVybnMKdmFyIGNob3JkcyA9IFsKICBbNywgOSwgMTIsIDE2XSwKICBbMiwgNSwgOSwgMTJdLAogIFs0LCA3LCAxMSwgMTRdLAogIFsyLCA1LCA5LCAxMl0sCl0ubWFwKGZ1bmN0aW9uKGNob3JkKXsKICByZXR1cm4gY2hvcmQubWFwKGZ1bmN0aW9uKG4pewogICAgcmV0dXJuIG5vdGUobik7CiAgfSk7Cn0pOwoKdmFyIGhhdF9wYXR0ZXJuID0gWwogIDAuNCwgMC4wLCAxLjIsIDAsICAwLjMsIDAuMCwgMS4wLCAwLjUsCiAgMC40LCAwLjIsIDEuMSwgMCwgIDAuMywgMC4yLCAxLjIsIDAuNSwKXTsKCnZhciBwbHVja2VkID0gUGx1Y2soMTIwLCAwLjYsIDAuODcsIDEuMCwgMC45KTsKCnZhciBoYXRfbm90ZSA9IG5vdGUoNywgNik7CnZhciBraWNrX25vdGUgPSBub3RlKDIsIC0xKTsKCnZhciBiYXNzX2xwID0gTFAyKDY1MDApOwoKZnVuY3Rpb24gZHNwKHQpIHsKICBjbG9jayh0KTsKCiAgdmFyIGMgPSBzZXF1ZW5jZSgxLCBjaG9yZHMpOwoKICB2YXIgbm9pc2UgPSBOb2lzZSgpOwoKICB2YXIgYSA9IDAuOSAqIHRyaSgwLjAxLCB0IC8gMiAlICgxKSk7CiAgdmFyIGIgPSAwLjggKiBNYXRoLnNpbihhICogdGF1ICogdCk7CgogIHZhciBiYXNzX29zYyA9CiAgICAwLjMgKiB0cmkoY1syICsgKE1hdGguZmxvb3Ioc2luKCg5LzYpICogMiwgdCkpKV0gKiAoMyArIChNYXRoLmZsb29yKHRyaSgxLzIsIHQpICogMikpKSAvIDMpCiAgOwoKICBiYXNzX29zYyA9IGJhc3NfbHAoYmFzc19vc2MsIDQyKTsKCiAgdmFyIGJhc3MgPSBhcnAoMS84LCBiYXNzX29zYywgMiwgMSk7CgogIC8vIGNob3JkIHN5bnRoCiAgdmFyIHN5bnRoX29zYyA9CiAgICB0cmkoY1swXSozKQogICsgdHJpKGNbMV0qMikKICArIHRyaShjWzJdKjQpCiAgKyB0cmkoY1szXSoxKQogIDsKCiAgdmFyIHN5bnRoID0gcGx1Y2tlZChhcnAoMS8xMiwgc3ludGhfb3NjLCBzZXF1ZW5jZSgxLzEyLCBbMSwgMSwgMSwgMSwgMSwgMF0pICogODUgKyAoc2luKDAuNCkgKiAxMCksIDAuMykpOwoKICAvLyBoYXQKICB2YXIgaGF0X29zYyA9CiAgICAwLjIgKiB0cmkoaGF0X25vdGUpCiAgKyAwLjQgKiBub2lzZQogIDsKCiAgdmFyIGhhdCA9CiAgICBzZXF1ZW5jZSgxLzE2LCBoYXRfcGF0dGVybikKICAqIGFycCgxLzE2LCBoYXRfb3NjLCA4NywgMTgpCiAgOwoKICB2YXIga2lja19vc2MgPQogICAgMS4wICogc2luKGtpY2tfbm90ZSkKICA7CgogIHZhciBraWNrID0gYXJwKDEvNCwgNzAsIDM1LCAzKTsKCiAgcmV0dXJuIDAuOCAqICgKICAgIDAuMDcgKiBzeW50aAogICsgMC4yNiAqIGhhdAogICsgMC42ICoga2ljawogICsgMC4xOSAqIGJhc3MKICApOwp9CgpmdW5jdGlvbiBjbG9jayhfdCl7CiAgdCA9IF90OwogIHQgKj0gYnBtIC8gMTIwOwogIHR0ID0gdGF1ICogdDsKfQoKZnVuY3Rpb24gUGx1Y2sobGVuZ3RoLCBkcnksIHdldCwgdGFpbCwgY3V0b2ZmKXsKICBsZW5ndGggPSBsZW5ndGggfHwgNDA7CiAgdmFyIGxwID0gTFAoKTsKICB2YXIgcmIgPSBuZXcgUmluZ0J1ZmZlcihsZW5ndGgpOwogIHZhciBzdW07CiAgcmV0dXJuIGZ1bmN0aW9uKHNhbXBsZSl7CiAgICBzdW0gPSByYi5yZWR1Y2UoYXZlcmFnZSwgc2FtcGxlKTsKICAgIHNhbXBsZSA9CiAgICAgIGRyeSAqIHNhbXBsZQogICAgKyB3ZXQgKiBscChzdW0sIGN1dG9mZikKICAgIDsKICAgIHJiLnB1c2goc2FtcGxlICogdGFpbCk7CiAgICByZXR1cm4gc2FtcGxlOwogIH07Cn0KCmZ1bmN0aW9uIGF2ZXJhZ2UocCwgbil7CiAgcmV0dXJuIChwICsgbikgLyAyOwp9CgpmdW5jdGlvbiBzZXF1ZW5jZShtZWFzdXJlLCBzZXEpewogIHJldHVybiBzZXFbKHQgLyBtZWFzdXJlIC8gMiB8IDApICUgc2VxLmxlbmd0aF07Cn0KCmZ1bmN0aW9uIGFycChtZWFzdXJlLCB4LCB5LCB6KXsKICB2YXIgdHMgPSB0IC8gMiAlIG1lYXN1cmU7CiAgcmV0dXJuIE1hdGguc2luKHggKiAoTWF0aC5leHAoLXRzICogeSkpKSAqIE1hdGguZXhwKC10cyAqIHopOwp9CgpmdW5jdGlvbiBzaW4oZnJlcSwgcGhhc2UpewogIHJldHVybiBNYXRoLnNpbigodCAqIGZyZXEgKyAoMiAtIChwaGFzZSB8fCAwKSAvIDIpKSAqIHRhdSk7Cn0KCmZ1bmN0aW9uIHNhdyhmcmVxKXsKICByZXR1cm4gMS0yICogKHQgJSAoMSAvIGZyZXEpKSAqIGZyZXE7Cn0KCmZ1bmN0aW9uIHRyaShmcmVxKXsKICByZXR1cm4gTWF0aC5hYnMoMSAtICgyICogdCAqIGZyZXEpICUgMikgKiAyIC0gMTsKfQoKZnVuY3Rpb24gTm9pc2UoKXsKICByZXR1cm4gTWF0aC5yYW5kb20oKSAqIDIgLSAxOwp9CgpmdW5jdGlvbiBzcXIoZnJlcSl7CiAgcmV0dXJuIHNpbihmcmVxLCB0KSA+IDAgPyAxIDogLTE7Cn0KCmZ1bmN0aW9uIExQKCl7CiAgdmFyIHZhbHVlID0gMDsKICByZXR1cm4gZnVuY3Rpb24oeCwgbil7CiAgICByZXR1cm4gdmFsdWUgKz0gKHggLSB2YWx1ZSkgLyBuOwogIH07Cn0KCmZ1bmN0aW9uIG5vdGUobiwgb2N0YXZlKXsKICByZXR1cm4gTWF0aC5wb3coMiwgKAogICAgbiArIHRyYW5zcG9zZSAtIDMzICsgKDEyICogKG9jdGF2ZSB8fCAwKSkKICApIC8gMTIpICogdHVuaW5nOyAvLyBBNCB0dW5pbmcKfQoKZnVuY3Rpb24gUmluZ0J1ZmZlcihsZW5ndGgpewogIHRoaXMuYXJyYXkgPSBuZXcgRmxvYXQzMkFycmF5KGxlbmd0aCk7CiAgdGhpcy5sZW5ndGggPSBsZW5ndGg7CiAgdGhpcy5wb3MgPSAwOwp9CgpSaW5nQnVmZmVyLnByb3RvdHlwZS5wdXNoID0gZnVuY3Rpb24oZWwpewogIHRoaXMuYXJyYXlbdGhpcy5wb3MrK10gPSBlbDsKICBpZiAodGhpcy5wb3MgPT09IHRoaXMubGVuZ3RoKSB7CiAgICB0aGlzLnBvcyA9IDA7CiAgfQp9OwoKUmluZ0J1ZmZlci5wcm90b3R5cGUuZm9yRWFjaCA9IGZ1bmN0aW9uKGZuKXsKICB2YXIgaSA9IHRoaXMucG9zOwogIGZvciAoOyBpIDwgdGhpcy5sZW5ndGg7IGkrKykgewogICAgZm4odGhpcy5hcnJheVtpXSk7CiAgfQogIGlmICh0aGlzLnBvcyA+IDApIHsKICAgIGZvciAoaSA9IDA7IGkgPCB0aGlzLnBvczsgaSsrKSB7CiAgICAgIGZuKHRoaXMuYXJyYXlbaV0pOwogICAgfQogIH0KfTsKClJpbmdCdWZmZXIucHJvdG90eXBlLnJlZHVjZSA9IGZ1bmN0aW9uKGZuLCB2YWwpewogIHZhbCA9IHZhbCB8fCAwOwogIHRoaXMuZm9yRWFjaChmdW5jdGlvbihlbCl7CiAgICB2YWwgPSBmbih2YWwsIGVsKTsKICB9KTsKICByZXR1cm4gdmFsOwp9OwoKZnVuY3Rpb24gTFAyKGN1dG9mZil7CiAgdmFyIFJDID0gMSAvIChjdXRvZmYgKiAyICogTWF0aC5QSSk7CiAgdmFyIGR0ID0gMSAvIDIwNDg7CiAgdmFyIGFscGhhID0gZHQgLyAoUkMgKyBkdCk7CiAgdmFyIHByZXYgPSAwOwogIHZhciBjdXJyID0gMDsKICByZXR1cm4gZnVuY3Rpb24oZnJlcSwgeCl7CiAgICBjdXJyID0gcHJldiArICggKGR0IC8gKCAoMS8gKGZyZXEgKiAyICogTWF0aC5QSSkpICsgZHQpICkgKiAoeCAtIHByZXYpKTsKICAgIHByZXYgPSBjdXJyOwogICAgcmV0dXJuIGN1cnI7CiAgfTsKfQo=)
- [stagas - polytropon](https://felixroos.github.io/doughbeat/#Ci8qIQogKgogKiBzdGFnYXMgLSBwb2x5dHJvcG9uCiAqCiAqLwoKdmFyIHRyYW5zcG9zZSA9IDA7CgovLyBwYXR0ZXJucwp2YXIgYmFzc2xpbmUgPSBbIDYsIDYsIDYsIDksIDEyLCAxMiwgMTIsIDE5IF07CnZhciBtZWxvZHkgPSBbIDYsIDksIDYsIDksIDEyLCAxOSwgMTIsIDE5IF07CgovLyBmaWx0ZXJzCnZhciBscF9hID0gTW9vZygpOwp2YXIgbHBfYiA9IE1vb2coKTsKdmFyIGxwX2MgPSBNb29nKCk7CnZhciBmYXN0bHBfYSA9IEZhc3RMUCg0MDApOwp2YXIgZmFzdGxwX2IgPSBGYXN0TFAoMzUpOwp2YXIgZmFzdGhwX2EgPSBGYXN0SFAoMS44KTsKdmFyIGZhc3RocF9iID0gRmFzdEhQKDEuMik7CgpmdW5jdGlvbiBkc3AodCl7CiAgLy8gbGZvCiAgdmFyIGxmb19hID0gc2luKDIsIHQpOwogIHZhciBsZm9fYiA9IHNpbigxLzMyLCB0KTsKICB2YXIgbGZvX2MgPSBzaW4oMS8xMjgsIHQpOwoKICB2YXIgY3V0b2ZmID0KICAgIDcwMAogICsgKGxmb19hICogNjApCiAgKyAobGZvX2IgKiAzMDApCiAgKyAobGZvX2MgKiAyNTApCiAgOwoKICAvLyBiYXNzCiAgdmFyIGJuID0gbm90ZShiYXNzbGluZVtNYXRoLmZsb29yKHQgKiA0KSAlIGJhc3NsaW5lLmxlbmd0aF0sIDApOwoKICB2YXIgYmFzc19vc2MgPQogICAgc2F3KGJuLCB0KQogICsgc2F3KGJuLzIsIHQrMC42KSAqIDIKICArIHNpbihibi8yLCB0LTAuOSkgKiA0CiAgOwoKICB2YXIgYmFzcyA9CiAgICBzaW4oMiwgdCkgKiAvLyB2Y2EKICAgICggLy8gdmNmCiAgICAgIGxwX2EoY3V0b2ZmLCAwLjIgKyAoc2luKDEvMiwgdCArIDMvNCkgKiAwLjgpLCBiYXNzX29zYykKICAgICkKICA7CgogIC8vIHN5bnRoCiAgdmFyIG1uID0gbm90ZSgKICAgIG1lbG9keVtNYXRoLmZsb29yKHQgKiBNYXRoLnBvdyhNYXRoLmZsb29yKHQgKiA0KSAlIDgsIDIpKSAlIG1lbG9keS5sZW5ndGhdLAogICAgMCArIChNYXRoLmZsb29yKHQgKiAyKSAlIDQpCiAgKTsKCiAgdmFyIHN5bnRoX29zYyA9CiAgICBzYXcobW4sIHQtNCkKICArIHNpbihtbiwgdCswLjUpCiAgOwoKICB2YXIgc3ludGggPQogICAgc2luKDQsIHQpICogLy8gdmNhCiAgICAoIC8vIHZjZgogICAgICBscF9iKDkwMCwgMC4zICsgKHNpbigxLzgsIHQgKyAoMS8zKSkgKiAwLjMpLCBzeW50aF9vc2MpCiAgICApCiAgOwoKICAvLyBwYWQKICB2YXIgcGFkX29zYyA9CiAgICBzcXIobm90ZSg2ICsgMC4wOCwgMiksIHQpICogMC45CiAgKyBzYXcobm90ZSg5IC0gMC4wNSwgMSksIHQpICogMi45CiAgKyBzaW4obm90ZSg2ICsgMC4xNCwgMyksIHQpICogMS4yCiAgKyBzcXIobm90ZSgxMyArIDAuMDUsIDIgLSAoTWF0aC5mbG9vcih0ICogMikgJSAyKSksIHQpICogMC41CiAgKyBub2lzZSgpICogMS4xCiAgOwoKICB2YXIgcGFkID0KICAgICggMC44IC0gKChzYXcoMiwgdCkgKiAwLjUpICsgMC41KSApICogLy8gdmNhIGJlbm5hc3NpCiAgICBmYXN0aHBfYihscF9jKDExMDAsIDAuNDUsIHBhZF9vc2MgKiAwLjA3KSkKICA7CgogIC8vIGRydW1zCiAgdmFyIGtpY2tfb3NjID0gKAogICAgc2F3KG5vdGUoNiwtMSksIHQpICogMC4yNAogICsgc2luKG5vdGUoNiwtMSksIHQpCiAgKTsKCiAgdmFyIGtpY2sgPQogICAgc2F3KDIsIHQpICogMC4wOTggLy8gY2xpY2sKICArIGZhc3RscF9hKCAvLyB2Y2YKICAgICAgcGVyYyhraWNrX29zYywgNzgsIHQgJSAoMS8yKSwgdCkKICAgICkgKiAzCiAgOwoKICB2YXIgc25hcmVfb3NjID0KICAgIHNpbihub3RlKDksIDApLCB0KSAqIDAuMQogICsgbm9pc2UoKSAqIDAuNwogIDsKCiAgdmFyIHNuYXJlID0gLy8gdmNmCiAgICBmYXN0bHBfYihwZXJjKHNuYXJlX29zYywgODAgLSAodCAlIDQgPiAzID8gMjAgOiAwKSwgKHQgKyAxLzIpICUgKDEpLCB0KSkKICA7CgogIHZhciBoaWhhdF9vc2MgPQogICAgc2F3KG5vdGUoOSw3KSwgdCkgKiAwLjQKICArIG5vaXNlKCkKICA7CgogIHZhciBoaWhhdCA9CiAgICBmYXN0aHBfYShwZXJjKGhpaGF0X29zYywgMjcwIC0gKCAodCArIDIvNCkgJSAoMS8yKSA+IDEvNCA/IDIwMCA6IDApLCB0ICUgKDEvNCksIHQpKQogIDsKCiAgLy8gbWl4ZXIKICByZXR1cm4gMC40ICogKCAvLyBnYWluCiAgICAwLjM0ICogY2xpcCgwLjY5LCBiYXNzKQogICsgMC4zNCAqIHN5bnRoCiAgKyAwLjggKiBwYWQKICArIDMuOCAqIGtpY2sKICArIDEwLjQgKiBjbGlwKDAuMDUsIHNuYXJlKQogICsgMC4yNCAqIGhpaGF0CiAgKTsKfQoKZnVuY3Rpb24gY2xpcChuLCB4KXsKICByZXR1cm4geCA+IG4KICAgID8gbgogICAgOiB4IDwgLW4KICAgID8gLW4KICAgIDogeAogIDsKfQoKZnVuY3Rpb24gc2luKHgsIHQpewogIHJldHVybiBNYXRoLnNpbigyICogTWF0aC5QSSAqIHQgKiB4KTsKfQoKZnVuY3Rpb24gc2F3KHgsIHQpewogIHJldHVybiAxLTIgKiAodCAlICgxL3gpKSAqIHg7Cn0KCmZ1bmN0aW9uIHNxcih4LCB0KXsKICByZXR1cm4gc2luKHgsIHQpID4gMCA/IDEgOiAtMTsKfQoKZnVuY3Rpb24gbm9pc2UoKXsKICByZXR1cm4gTWF0aC5yYW5kb20oKSAqIDIgLSAxOwp9CgpmdW5jdGlvbiBwZXJjKHdhdmUsIGRlY2F5LCBvLCB0KXsKICB2YXIgZW52ID0gTWF0aC5tYXgoMCwgMC45NSAtIChvICogZGVjYXkpIC8gKChvICogZGVjYXkpICsgMSkpOwogIHJldHVybiB3YXZlICogZW52Owp9CgpmdW5jdGlvbiBGYXN0TFAobil7CiAgdmFyIHZhbHVlID0gMDsKICByZXR1cm4gZnVuY3Rpb24oeCl7CiAgICByZXR1cm4gdmFsdWUgKz0gKHggLSB2YWx1ZSkgLyBuOwogIH07Cn0KCmZ1bmN0aW9uIEZhc3RIUChuKXsKICB2YXIgdmFsdWUgPSAwOwogIHJldHVybiBmdW5jdGlvbih4KXsKICAgIHJldHVybiB2YWx1ZSArPSB4IC0gdmFsdWUgKiBuOwogIH07Cn0KCmZ1bmN0aW9uIE1vb2coKXsKICB2YXIgeTEsIHkyLCB5MywgeTQsIG9sZHgsIG9sZHkxLCBvbGR5Miwgb2xkeTM7CgogIHkxID0geTIgPSB5MyA9IHk0ID0gb2xkeCA9IG9sZHkxID0gb2xkeTIgPSBvbGR5MyA9IDA7CgogIHZhciBwLCBrLCB0MSwgdDIsIHIsIHg7CgogIHJldHVybiBmdW5jdGlvbihjdXRvZmYsIHJlcywgaW5wdXQpewogICAgY3V0b2ZmID0gMiAqIGN1dG9mZiAvIHNhbXBsZVJhdGU7CiAgICBwID0gY3V0b2ZmICogKDEuOCAtICgwLjggKiBjdXRvZmYpKTsKICAgIGsgPSAyICogTWF0aC5zaW4oY3V0b2ZmICogTWF0aC5QSSAqIDAuNSkgLSAxOwogICAgdDEgPSAoMSAtIHApICogMS4zODYyNDk7CiAgICB0MiA9IDEyICsgdDEgKiB0MTsKICAgIHIgPSByZXMgKiAodDIgKyA2ICogdDEpIC8gKHQyIC0gNiAqIHQxKTsKCiAgICB4ID0gaW5wdXQgLSByICogeTQ7CgogICAgLy8gZm91ciBjYXNjYWRlZCBvbmUtcG9sZSBmaWx0ZXJzIChiaWxpbmVhciB0cmFuc2Zvcm0pCiAgICB5MSA9ICB4ICogcCArIG9sZHggICogcCAtIGsgKiB5MTsKICAgIHkyID0geTEgKiBwICsgb2xkeTEgKiBwIC0gayAqIHkyOwogICAgeTMgPSB5MiAqIHAgKyBvbGR5MiAqIHAgLSBrICogeTM7CiAgICB5NCA9IHkzICogcCArIG9sZHkzICogcCAtIGsgKiB5NDsKCiAgICAvLyBjbGlwcGVyIGJhbmQgbGltaXRlZCBzaWdtb2lkCiAgICB5NCAtPSAoeTQgKiB5NCAqIHk0KSAvIDY7CgogICAgb2xkeCA9IHg7IG9sZHkxID0geTE7IG9sZHkyID0geTI7IG9sZHkzID0geTM7CgogICAgcmV0dXJuIHk0OwogIH07Cn0KCi8vIGdldHMgbm90ZSBgbmAgZnJlcXVlbmN5IG9mIGBvY3RhdmVgCmZ1bmN0aW9uIG5vdGUobiwgb2N0YXZlKXsKICByZXR1cm4gTWF0aC5wb3coCiAgICAyLAogICAgKG4gKyB0cmFuc3Bvc2UgLSAzMyArICgxMiAqIChvY3RhdmUgfHwgMCkpKSAvIDEyCiAgKSAqIDQ0MDsgLy8gQTQgdHVuZQp9Cg==)
- [stagas - polytropon astral mix](https://felixroos.github.io/doughbeat/#Ci8qIQogKgogKiBzdGFnYXMgLSBwb2x5dHJvcG9uIChhc3RyYWwgbWl4KQogKgogKi8KCnZhciB0cmFuc3Bvc2UgPSAwOwoKLy8gcGF0dGVybnMKdmFyIGJhc3NsaW5lID0gWyA2LCA2LCA2LCA5LCAxMiwgMTIsIDEyLCAxOSBdOwp2YXIgbWVsb2R5ID0gWyA2LCA5LCA2LCA5LCAxMiwgMTksIDEyLCAxOSBdOwoKLy8gZmlsdGVycwp2YXIgbHBfYSA9IE1vb2coKTsKdmFyIGxwX2IgPSBNb29nKCk7CnZhciBscF9jID0gTW9vZygpOwp2YXIgZmFzdGxwX2EgPSBGYXN0TFAoNDAwKTsKdmFyIGZhc3RscF9iID0gRmFzdExQKDM1KTsKdmFyIGZhc3RocF9hID0gRmFzdEhQKDEuOCk7CnZhciBmYXN0aHBfYiA9IEZhc3RIUCgxLjIpOwoKZnVuY3Rpb24gZHNwKHQpewogIC8vIGxmbwogIHZhciBsZm9fYSA9IHNpbigyLCB0KTsKICB2YXIgbGZvX2IgPSBzaW4oMS8zMiwgdCk7CiAgdmFyIGxmb19jID0gc2luKDEvMTI4LCB0KTsKCiAgdmFyIGN1dG9mZiA9CiAgICA3MDAKICArIChsZm9fYSAqIDYwKQogICsgKGxmb19iICogMzAwKQogICsgKGxmb19jICogMjUwKQogIDsKCiAgLy8gYmFzcwogIHZhciBibiA9IG5vdGUoYmFzc2xpbmVbTWF0aC5mbG9vcih0ICogNCkgJSBiYXNzbGluZS5sZW5ndGhdLCAwKTsKCiAgdmFyIGJhc3Nfb3NjID0KICAgIHNhdyhibiwgdCkKICArIHNhdyhibi8yLCB0KzAuNikgKiAyCiAgKyBzaW4oYm4vMiwgdC0wLjkpICogNAogIDsKCiAgdmFyIGJhc3MgPQogICAgc2luKDQsIHQpICogLy8gdmNhCiAgICAoIC8vIHZjZgogICAgICBscF9hKGN1dG9mZiwgMC4yICsgKHNpbigxLzIsIHQgKyAzLzQpICogMC44KSwgYmFzc19vc2MpCiAgICApCiAgOwoKICAvLyBzeW50aAogIHZhciBtbiA9IG5vdGUoCiAgICBtZWxvZHlbTWF0aC5mbG9vcih0ICogTWF0aC5wb3coTWF0aC5mbG9vcih0ICogOCkgJSAzLCAyKSkgJSBtZWxvZHkubGVuZ3RoXSwKICAgIC0xICsgKE1hdGguZmxvb3IodCAqIDQpICUgNSkKICApOwoKICB2YXIgc3ludGhfb3NjID0KICAgIHNxcihtbiwgdC00KQogICsgc2F3KG1uLCB0KzAuNSkKICA7CgogIHZhciBzeW50aCA9CiAgICBzaW4oNCwgdCkgKiAvLyB2Y2EKICAgICggLy8gdmNmCiAgICAgIGxwX2IoOTAwLCAwLjMgKyAoc2luKDEvOCwgdCArICgxLzMpKSAqIDAuMyksIHN5bnRoX29zYykKICAgICkKICA7CgogIC8vIHBhZAogIHZhciBwYWRfb3NjID0KICAgIHNxcihub3RlKDYgKyAwLjA4LCAxKSwgdCkgKiAwLjkKICArIHNhdyhub3RlKDkgLSAwLjA1LCAwKSwgdCkgKiAyLjkKICArIHNpbihub3RlKDYgKyAwLjE0LCAyKSwgdCkgKiAxLjIKICArIHNxcihub3RlKDEzICsgMC4wNSwgMiAtIChNYXRoLmZsb29yKHQgKiAyKSAlIDIpKSwgdCkgKiAwLjUKICArIG5vaXNlKCkgKiAxLjEKICA7CgogIHZhciBwYWQgPQogICAgKCAwLjggLSAoKHNhdygyLCB0KSAqIDAuNSkgKyAwLjUpICkgKiAvLyB2Y2EgYmVubmFzc2kKICAgIGZhc3RocF9iKGxwX2MoMTYwMCwgMC40NSwgcGFkX29zYyAqIDAuMDcpKQogIDsKCiAgLy8gZHJ1bXMKICB2YXIga2lja19vc2MgPSAoCiAgICBzYXcobm90ZSg2LC0xKSwgdCkgKiAwLjI0CiAgKyBzaW4obm90ZSg2LC0xKSwgdCkKICApOwoKICB2YXIga2ljayA9CiAgICBzYXcoMiwgdCkgKiAwLjA5OCAvLyBjbGljawogICsgZmFzdGxwX2EoIC8vIHZjZgogICAgICBwZXJjKGtpY2tfb3NjLCA3OCwgdCAlICgxLzIpLCB0KQogICAgKSAqIDMKICA7CgogIHZhciBzbmFyZV9vc2MgPQogICAgc2luKG5vdGUoOSwgMCksIHQpICogMC4xCiAgKyBub2lzZSgpICogMC43CiAgOwoKICB2YXIgc25hcmUgPSAvLyB2Y2YKICAgIGZhc3RscF9iKHBlcmMoc25hcmVfb3NjLCA4MCAtICh0ICUgNCA+IDMgPyAyMCA6IDApLCAodCArIDEvMikgJSAoMSksIHQpKQogIDsKCiAgdmFyIGhpaGF0X29zYyA9CiAgICBzYXcobm90ZSg5LDcpLCB0KSAqIDAuNAogICsgbm9pc2UoKQogIDsKCiAgdmFyIGhpaGF0ID0KICAgIGZhc3RocF9hKHBlcmMoaGloYXRfb3NjLCAyNzAgLSAoICh0ICsgMi80KSAlICgxLzIpID4gMS80ID8gMjAwIDogMCksIHQgJSAoMS84KSwgdCkpCiAgOwoKICAvLyBtaXhlcgogIHJldHVybiAwLjQgKiAoIC8vIGdhaW4KICAgIDAuODQgKiBjbGlwKDAuNjksIGJhc3MpCiAgKyAwLjM0ICogc3ludGgKICArIDEuOCAqIHBhZAogICsgMy44ICoga2ljawogICsgMTAuNCAqIGNsaXAoMC4wNSwgc25hcmUpCiAgKyAwLjI0ICogaGloYXQKICApOwp9CgpmdW5jdGlvbiBjbGlwKG4sIHgpewogIHJldHVybiB4ID4gbgogICAgPyBuCiAgICA6IHggPCAtbgogICAgPyAtbgogICAgOiB4CiAgOwp9CgpmdW5jdGlvbiBzaW4oeCwgdCl7CiAgcmV0dXJuIE1hdGguc2luKDIgKiBNYXRoLlBJICogdCAqIHgpOwp9CgpmdW5jdGlvbiBzYXcoeCwgdCl7CiAgcmV0dXJuIDEtMiAqICh0ICUgKDEveCkpICogeDsKfQoKZnVuY3Rpb24gc3FyKHgsIHQpewogIHJldHVybiBzaW4oeCwgdCkgPiAwID8gMSA6IC0xOwp9CgpmdW5jdGlvbiBub2lzZSgpewogIHJldHVybiBNYXRoLnJhbmRvbSgpICogMiAtIDE7Cn0KCmZ1bmN0aW9uIHBlcmMod2F2ZSwgZGVjYXksIG8sIHQpewogIHZhciBlbnYgPSBNYXRoLm1heCgwLCAwLjk1IC0gKG8gKiBkZWNheSkgLyAoKG8gKiBkZWNheSkgKyAxKSk7CiAgcmV0dXJuIHdhdmUgKiBlbnY7Cn0KCmZ1bmN0aW9uIEZhc3RMUChuKXsKICB2YXIgdmFsdWUgPSAwOwogIHJldHVybiBmdW5jdGlvbih4KXsKICAgIHJldHVybiB2YWx1ZSArPSAoeCAtIHZhbHVlKSAvIG47CiAgfTsKfQoKZnVuY3Rpb24gRmFzdEhQKG4pewogIHZhciB2YWx1ZSA9IDA7CiAgcmV0dXJuIGZ1bmN0aW9uKHgpewogICAgcmV0dXJuIHZhbHVlICs9IHggLSB2YWx1ZSAqIG47CiAgfTsKfQoKZnVuY3Rpb24gTW9vZygpewogIHZhciB5MSwgeTIsIHkzLCB5NCwgb2xkeCwgb2xkeTEsIG9sZHkyLCBvbGR5MzsKCiAgeTEgPSB5MiA9IHkzID0geTQgPSBvbGR4ID0gb2xkeTEgPSBvbGR5MiA9IG9sZHkzID0gMDsKCiAgdmFyIHAsIGssIHQxLCB0MiwgciwgeDsKCiAgcmV0dXJuIGZ1bmN0aW9uKGN1dG9mZiwgcmVzLCBpbnB1dCl7CiAgICBjdXRvZmYgPSAyICogY3V0b2ZmIC8gNDgwMDA7CiAgICBwID0gY3V0b2ZmICogKDEuOCAtICgwLjggKiBjdXRvZmYpKTsKICAgIGsgPSAyICogTWF0aC5zaW4oY3V0b2ZmICogTWF0aC5QSSAqIDAuNSkgLSAxOwogICAgdDEgPSAoMSAtIHApICogMS4zODYyNDk7CiAgICB0MiA9IDEyICsgdDEgKiB0MTsKICAgIHIgPSByZXMgKiAodDIgKyA2ICogdDEpIC8gKHQyIC0gNiAqIHQxKTsKCiAgICB4ID0gaW5wdXQgLSByICogeTQ7CgogICAgLy8gZm91ciBjYXNjYWRlZCBvbmUtcG9sZSBmaWx0ZXJzIChiaWxpbmVhciB0cmFuc2Zvcm0pCiAgICB5MSA9ICB4ICogcCArIG9sZHggICogcCAtIGsgKiB5MTsKICAgIHkyID0geTEgKiBwICsgb2xkeTEgKiBwIC0gayAqIHkyOwogICAgeTMgPSB5MiAqIHAgKyBvbGR5MiAqIHAgLSBrICogeTM7CiAgICB5NCA9IHkzICogcCArIG9sZHkzICogcCAtIGsgKiB5NDsKCiAgICAvLyBjbGlwcGVyIGJhbmQgbGltaXRlZCBzaWdtb2lkCiAgICB5NCAtPSAoeTQgKiB5NCAqIHk0KSAvIDY7CgogICAgb2xkeCA9IHg7IG9sZHkxID0geTE7IG9sZHkyID0geTI7IG9sZHkzID0geTM7CgogICAgcmV0dXJuIHk0OwogIH07Cn0KCi8vIGdldHMgbm90ZSBgbmAgZnJlcXVlbmN5IG9mIGBvY3RhdmVgCmZ1bmN0aW9uIG5vdGUobiwgb2N0YXZlKXsKICByZXR1cm4gTWF0aC5wb3coCiAgICAyLAogICAgKG4gKyB0cmFuc3Bvc2UgLSAzMyArICgxMiAqIChvY3RhdmUgfHwgMCkpKSAvIDEyCiAgKSAqIDQ0MDsgLy8gQTQgdHVuZQp9Cg==)
- [stagas - rooftop unvisited](https://felixroos.github.io/doughbeat/#Ci8qIQogKgogKiBzdGFnYXMgLSByb29mdG9wIHVudmlzaXRlZAogKgogKi8KCnZhciBicG0gPSAxMjk7CnZhciB0dW5pbmcgPSA0NDA7CnZhciB0cmFuc3Bvc2UgPSAxMTsKCi8vIGNvbnN0YW50cwp2YXIgdGF1ID0gMiAqIE1hdGguUEk7CgovLyB0aW1lIGNvZWZmaWNpZW50cwp2YXIgdCwgdHQ7CgpmdW5jdGlvbiBzaW4oZnJlcSwgcGhhc2UpewogIHJldHVybiBNYXRoLnNpbigodCAqIGZyZXEgKyAoMiAtIChwaGFzZSB8fCAwKSAvIDIpKSAqIHRhdSk7Cn0KCmZ1bmN0aW9uIHNhdyhmcmVxKXsKICByZXR1cm4gMS0yICogKHQgJSAoMSAvIGZyZXEpKSAqIGZyZXE7Cn0KCmZ1bmN0aW9uIHRyaShmcmVxKXsKICByZXR1cm4gTWF0aC5hYnMoMSAtICgyICogdCAqIGZyZXEpICUgMikgKiAyIC0gMTsKfQoKZnVuY3Rpb24gc3FyKGZyZXEpewogIHJldHVybiBzaW4oZnJlcSwgdCkgPiAwID8gMSA6IC0xOwp9CgpmdW5jdGlvbiBOb2lzZSgpewogIHJldHVybiBNYXRoLnJhbmRvbSgpICogMiAtIDE7Cn0KCmZ1bmN0aW9uIE9zY2lsbGF0b3IodHlwZSwgc2l6ZSwgYWxpYXMpewogIGlmICghKHRoaXMgaW5zdGFuY2VvZiBPc2NpbGxhdG9yKSkgcmV0dXJuIG5ldyBPc2NpbGxhdG9yKHR5cGUsIHNpemUsIGFsaWFzKTsKICB0aGlzLnBvcyA9IDA7CiAgdGhpcy5zaXplID0gc2l6ZSB8fCBzYW1wbGVSYXRlOwogIHRoaXMuY29lZmYgPSB0aGlzLnNpemUgLyBzYW1wbGVSYXRlOwogIHRoaXMudGFibGUgPSBuZXcgRmxvYXQzMkFycmF5KHRoaXMuc2l6ZSk7CiAgdGhpcy5hbGlhcyA9IGFsaWFzID09PSBmYWxzZSA/IGZhbHNlIDogdHJ1ZTsKICB0aGlzLmJ1aWxkKHR5cGUpOwp9CgpPc2NpbGxhdG9yLnByb3RvdHlwZS5idWlsZCA9IGZ1bmN0aW9uKHR5cGUpewogIHN3aXRjaCAodHlwZSkgewogICAgY2FzZSAnc2luJzoKICAgICAgdmFyIHNjYWxlID0gMiAqIE1hdGguUEkgLyB0aGlzLnNpemU7CiAgICAgIGZvciAodmFyIGkgPSAwOyBpIDwgdGhpcy5zaXplOyBpKyspIHsKICAgICAgICB0aGlzLnRhYmxlW2ldID0gTWF0aC5zaW4oaSAqIHNjYWxlKTsKICAgICAgfQogICAgICBicmVhazsKCiAgICBjYXNlICdzYXcnOgogICAgICBmb3IgKHZhciBpID0gMDsgaSA8IHRoaXMuc2l6ZTsgaSsrKSB7CiAgICAgICAgdmFyIHggPSAoaSAvIHRoaXMuc2l6ZSk7CiAgICAgICAgdGhpcy50YWJsZVtpXSA9ICsyLjAgKiAoeCAtIE1hdGgucm91bmQoeCkpOwogICAgICB9CiAgICAgIGJyZWFrOwoKICAgIGNhc2UgJ3JhbXAnOgogICAgICBmb3IgKHZhciBpID0gMDsgaSA8IHRoaXMuc2l6ZTsgaSsrKSB7CiAgICAgICAgdmFyIHggPSAoaSAvIHRoaXMuc2l6ZSk7CiAgICAgICAgdGhpcy50YWJsZVtpXSA9IC0yLjAgKiAoeCAtIE1hdGgucm91bmQoeCkpOwogICAgICB9CiAgICAgIGJyZWFrOwoKICAgIGNhc2UgJ3RyaSc6CiAgICAgIGZvciAodmFyIGkgPSAwOyBpIDwgdGhpcy5zaXplOyBpKyspIHsKICAgICAgICB2YXIgeCA9IChpIC8gdGhpcy5zaXplKSAtIDAuMjU7CiAgICAgICAgdGhpcy50YWJsZVtpXSA9IDEuMCAtIDQuMCAqIE1hdGguYWJzKE1hdGgucm91bmQoeCkgLSB4KTsKICAgICAgfQogICAgICBicmVhazsKCiAgICBjYXNlICdzcXInOgogICAgICB2YXIgaGFsZiA9IHRoaXMuc2l6ZSAvIDI7CiAgICAgIGZvciAodmFyIGkgPSAwOyBpIDwgdGhpcy5zaXplOyBpKyspIHsKICAgICAgICB0aGlzLnRhYmxlW2ldID0gaSA8IGhhbGYgPyArMSA6IC0xOwogICAgICB9CiAgICAgIGJyZWFrOwogIH0KfTsKCk9zY2lsbGF0b3IucHJvdG90eXBlLnBsYXkgPSBmdW5jdGlvbihmcmVxKXsKICB0aGlzLnBvcyArPSBmcmVxICogdGhpcy5jb2VmZjsKICBpZiAodGhpcy5wb3MgPj0gdGhpcy5zaXplKSB0aGlzLnBvcyAtPSB0aGlzLnNpemU7CiAgdGhpcy5pbmRleCA9IHRoaXMucG9zIHwgMDsKICBpZiAoIXRoaXMuYWxpYXMpIHJldHVybiB0aGlzLnRhYmxlW3RoaXMuaW5kZXhdOwogIHRoaXMuYWxwaGEgPSB0aGlzLnBvcyAtIHRoaXMuaW5kZXg7CiAgdGhpcy5uZXh0ID0gdGhpcy50YWJsZVt0aGlzLmluZGV4ID09IHRoaXMuc2l6ZSAtIDEgPyAwIDogdGhpcy5pbmRleCArIDFdOwogIHRoaXMuY3VyciA9IHRoaXMudGFibGVbdGhpcy5pbmRleF07CiAgcmV0dXJuIHRoaXMuY3VyciArICh0aGlzLm5leHQgLSB0aGlzLmN1cnIpICogdGhpcy5hbHBoYTsKfTsKCmZ1bmN0aW9uIGNsb2NrKF90KXsKICB0ID0gX3Q7CiAgdCAqPSBicG0gLyAxMjA7CiAgdHQgPSB0YXUgKiB0Owp9CgpmdW5jdGlvbiBvY3RhdmUobyl7CiAgcmV0dXJuIGZ1bmN0aW9uKG4pewogICAgcmV0dXJuIG4gKiBvOwogIH07Cn0KCmZ1bmN0aW9uIHNsaWRlKG1lYXN1cmUsIHNlcSwgc3BlZWQpewogIHZhciBwb3MgPSAodCAvIG1lYXN1cmUgLyAyKSAlIHNlcS5sZW5ndGg7CiAgdmFyIG5vdyA9IHBvcyB8IDA7CiAgdmFyIG5leHQgPSBub3cgKyAxOwogIHZhciBhbHBoYSA9IHBvcyAtIG5vdzsKICBpZiAobmV4dCA9PSBzZXEubGVuZ3RoKSBuZXh0ID0gMDsKICByZXR1cm4gc2VxW25vd10gKyAoKHNlcVtuZXh0XSAtIHNlcVtub3ddKSAqIE1hdGgucG93KGFscGhhLCBzcGVlZCkpOwp9CgpmdW5jdGlvbiBzZXF1ZW5jZShtZWFzdXJlLCBzZXEpewogIHJldHVybiBzZXFbKHQgLyBtZWFzdXJlIC8gMiB8IDApICUgc2VxLmxlbmd0aF07Cn0KCmZ1bmN0aW9uIGFycChtZWFzdXJlLCB4LCB5LCB6KXsKICB2YXIgdHMgPSB0IC8gMiAlIG1lYXN1cmU7CiAgcmV0dXJuIE1hdGguc2luKHggKiAoTWF0aC5leHAoLXRzICogeSkpKSAqIE1hdGguZXhwKC10cyAqIHopOwp9CgoKZnVuY3Rpb24gRGlvZGVGaWx0ZXIoKXsKICB0aGlzLmsgPSAwOwogIHRoaXMuQSA9IDA7CiAgdGhpcy56ID0gWzAsMCwwLDAsMF07CiAgdGhpcy5haDsKICB0aGlzLmJoOwogIHRoaXMuZmM7CiAgdGhpcy5zZXRfcSgwKTsKICB0aGlzLnNldF9ocGYoMC41KTsKICB0aGlzLnNldF9mYyguNSk7Cn0KCkRpb2RlRmlsdGVyLnByb3RvdHlwZS5zZXRfaHBmID0gZnVuY3Rpb24oZmMpewogIHZhciBLID0gZmMgKiBNYXRoLlBJOwogIHRoaXMuYWggPSAoSyAtIDIpIC8gKEsgKyAyKTsKICB0aGlzLmJoID0gMiAvIChLICsgMik7Cn07CgpEaW9kZUZpbHRlci5wcm90b3R5cGUucmVzZXQgPSBmdW5jdGlvbigpewogIGlmICh0aGlzLmsgPCAxNykgdGhpcy56ID0gWzAsMCwwLDAsMF07Cn07CgpEaW9kZUZpbHRlci5wcm90b3R5cGUuc2V0X3EgPSBmdW5jdGlvbihxKXsKICB0aGlzLmsgPSAyMCAqIHE7CiAgdGhpcy5BID0gMSArIDAuNSAqIHRoaXMuazsKfTsKCkRpb2RlRmlsdGVyLnByb3RvdHlwZS5zZXRfZmMgPSBmdW5jdGlvbihjdXRvZmYpewogIGN1dG9mZiA9IChjdXRvZmYgKiBjdXRvZmYpOwogIHRoaXMuZmMgPSBjdXRvZmYgPD0gMAogICAgPyAuMDIKICAgIDogKGN1dG9mZiA+PSAxLjAgPyAuOTk5IDogY3V0b2ZmKTsKfTsKCkRpb2RlRmlsdGVyLnByb3RvdHlwZS5ydW4gPSBmdW5jdGlvbih4KXsKICB2YXIgYSA9IE1hdGguUEkgKiB0aGlzLmZjOwogIGEgPSAyICogTWF0aC50YW4oMC41KmEpOyAvLyBkZXdhcnBpbmcsIG5vdCByZXF1aXJlZCB3aXRoIDJ4IG92ZXJzYW1wbGluZwogIHZhciBhaW52ID0gMSAvIGE7CiAgdmFyIGEyID0gYSphOwogIHZhciBiID0gMiphICsgMTsKICB2YXIgYjIgPSBiKmI7CiAgdmFyIGMgPSAxIC8gKDIqYTIqYTIgLSA0KmEyKmIyICsgYjIqYjIpOwogIHZhciBnMCA9IDIqYTIqYTIqYzsKICB2YXIgZyA9IGcwICogdGhpcy5iaDsKCiAgLy8gY3VycmVudCBzdGF0ZQogIHZhciBzMCA9IChhMiphKnRoaXMuelswXSArIGEyKmIqdGhpcy56WzFdICsgdGhpcy56WzJdKihiMiAtIDIqYTIpKmEgKyB0aGlzLnpbM10qKGIyIC0gMyphMikqYikgKiBjOwogIHZhciBzID0gdGhpcy5iaCpzMCAtIHRoaXMuels0XTsKCiAgLy8gc29sdmUgZmVlZGJhY2sgbG9vcCAobGluZWFyKQogIHZhciB5NSA9IChnKnggKyBzKSAvICgxICsgZyp0aGlzLmspOwoKICAvLyBpbnB1dCBjbGlwcGluZwogIHZhciB5MCA9IGNsaXAoeCAtIHRoaXMuayp5NSk7CiAgeTUgPSBnKnkwICsgczsKCiAgLy8gY29tcHV0ZSBpbnRlZ3JhdG9yIG91dHB1dHMKICB2YXIgeTQgPSBnMCp5MCArIHMwOwogIHZhciB5MyA9IChiKnk0IC0gdGhpcy56WzNdKSAqIGFpbnY7CiAgdmFyIHkyID0gKGIqeTMgLSBhKnk0IC0gdGhpcy56WzJdKSAqIGFpbnY7CiAgdmFyIHkxID0gKGIqeTIgLSBhKnkzIC0gdGhpcy56WzFdKSAqIGFpbnY7CgogIC8vIHVwZGF0ZSBmaWx0ZXIgc3RhdGUKICB0aGlzLnpbMF0gKz0gNCphKih5MCAtIHkxICsgeTIpOwogIHRoaXMuelsxXSArPSAyKmEqKHkxIC0gMip5MiArIHkzKTsKICB0aGlzLnpbMl0gKz0gMiphKih5MiAtIDIqeTMgKyB5NCk7CiAgdGhpcy56WzNdICs9IDIqYSooeTMgLSAyKnk0KTsKICB0aGlzLnpbNF0gPSB0aGlzLmJoKnk0ICsgdGhpcy5haCp5NTsKCiAgcmV0dXJuIHRoaXMuQSp5NDsKfTsKCgoKLyoKICAgIGNvbnZlcnRzIGJpcG9sYXIgKC0xLCArMSkgc2lnbmFsIHRvIHVuaXBvbGFyICgrMCwgKzEpIHNpZ25hbC4KICovCmZ1bmN0aW9uIHVuaXBvbGFyKHYpIHsKICByZXR1cm4gdiAqIDAuNSArIDAuNTsKfQoKZnVuY3Rpb24gYmlwb2xhcih2KSB7CiAgcmV0dXJuIHYgKiAyLjAgLSAxLjA7Cn0KCi8qCiAgICBjb252ZXJ0cyBtaWRpIG5vdGUgdG8gZnJlcXVlbmN5CiovCmZ1bmN0aW9uIG1pZGkoaW5wKSB7CiAgcmV0dXJuIE1hdGgucG93KDIsIChpbnAgLSA2OSkvMTIpICogNDQwOwp9CgovKgogICAgbGluZWFyIGludGVycG9sYXRpb24gYmV0d2VlbiBzYW1wbGVzCiAqLwpmdW5jdGlvbiBtaXgoYSwgYiwgdCkgewogIHQgPSBjbGFtcCh0LCAwLjAsIDEuMCk7CiAgdmFyIHUgPSAxIC0gdDsKICByZXR1cm4gYSp1ICsgYip0Owp9CgovKgogICAgY2xpcCB0aGUgdmFsdWUgYmV0d2VlbiBtaW5pbWEgYW5kIG1heGltYS4KICovCmZ1bmN0aW9uIGNsYW1wKHgsIG1pLCBtYSkgewogIHJldHVybiBNYXRoLm1heChtaSwgTWF0aC5taW4obWEsIHgpKTsKfQoKLyoKICAgIHN1cHBvc2VkIHRvIHJlc2V0IHRoZSBwaGFzZSB3aXRoIGFuIGFub3RoZXIgc2lnbmFsCiAqLwpmdW5jdGlvbiBTeW5jKCkgewogIHZhciBwcmV2aW91cyA9IDA7CiAgdmFyIHN0YXJ0ID0gMDsKICByZXR1cm4gZnVuY3Rpb24oc2lnbmFsLCB0KSB7CiAgICBpZiAoKHByZXZpb3VzIDwgMCkgJiYgKHNpZ25hbCA+PSAwKSkgewogICAgICBzdGFydCA9IHQ7CiAgICB9CiAgICBwcmV2aW91cyA9IHNpZ25hbDsKICAgIHJldHVybiB0IC0gc3RhcnQ7CiAgfTsKfQoKLyoKICAgIGJ1dHRlcndvcnRoIGZpbHRlcnMsIGNvcGllZCBmcm9tIGh0dHA6Ly9iYXNpY3N5bnRoLmNvbQogKi8KdmFyIHNxcjIgPSAxLjQxNDIxMzU2MjsKCmZ1bmN0aW9uIExvd1Bhc3MoKSB7CiAgdmFyIGRseU91dDIgPSAwLCBkbHlPdXQxID0gMDsKICB2YXIgZGx5SW4yICA9IDAsIGRseUluMSAgPSAwOwogIHJldHVybiBmdW5jdGlvbiAoeCwgY3V0b2ZmX2ZyZXEpIHsKICAgIHZhciBjICA9IDEuMCAvIE1hdGgudGFuKChNYXRoLlBJIC8gc2FtcGxlUmF0ZSkgKiBjdXRvZmZfZnJlcSk7CiAgICB2YXIgYzIgPSBjKmM7CiAgICB2YXIgY3NxcjIgPSBzcXIyICogYzsKICAgIHZhciBkID0gYzIgKyBjc3FyMiArIDE7CiAgICB2YXIgSW4wID0gMSAvIGQ7CiAgICB2YXIgSW4xID0gSW4wICsgSW4wOwogICAgdmFyIEluMiA9IEluMDsKICAgIHZhciBPdXQxID0gKDIgKiAoMSAtIGMyKSkgLyBkOwogICAgdmFyIE91dDIgPSAoYzIgLSBjc3FyMiArIDEpIC8gZDsKICAgIAogICAgdmFyIG91dCA9IChJbjAgKiB4KQogICAgICAgICAgICArIChJbjEgKiBkbHlJbjEpCiAgICAgICAgICAgICsgKEluMiAqIGRseUluMikKICAgICAgICAgICAgLSAoT3V0MSAqIGRseU91dDEpCiAgICAgICAgICAgIC0gKE91dDIgKiBkbHlPdXQyKTsKICAgIGRseU91dDIgPSBkbHlPdXQxOyBkbHlPdXQxID0gb3V0OwogICAgZGx5SW4yICA9IGRseUluMTsgIGRseUluMSAgPSB4OwogICAgcmV0dXJuIG91dDsKICB9Owp9CgpmdW5jdGlvbiBIaWdoUGFzcygpIHsKICB2YXIgZGx5T3V0MiA9IDAsIGRseU91dDEgPSAwOwogIHZhciBkbHlJbjIgID0gMCwgZGx5SW4xICA9IDA7CiAgcmV0dXJuIGZ1bmN0aW9uICh4LCBjdXRvZmZfZnJlcSkgewogICAgdmFyIGMgID0gTWF0aC50YW4oKE1hdGguUEkgLyBzYW1wbGVSYXRlKSAqIGN1dG9mZl9mcmVxKTsKICAgIHZhciBjMiA9IGMqYzsKICAgIHZhciBjc3FyMiA9IHNxcjIgKiBjOwogICAgdmFyIGQgPSBjMiArIGNzcXIyICsgMTsKICAgIHZhciBJbjAgPSAxIC8gZDsKICAgIHZhciBJbjEgPSAtKEluMCArIEluMCk7CiAgICB2YXIgSW4yID0gSW4wOwogICAgdmFyIE91dDEgPSAoMiAqIChjMiAtIDEpKSAvIGQ7CiAgICB2YXIgT3V0MiA9ICgxIC0gY3NxcjIgKyBjMikgLyBkOwogICAgCiAgICB2YXIgb3V0ID0gKEluMCAqIHgpCiAgICAgICAgICAgICsgKEluMSAqIGRseUluMSkKICAgICAgICAgICAgKyAoSW4yICogZGx5SW4yKQogICAgICAgICAgICAtIChPdXQxICogZGx5T3V0MSkKICAgICAgICAgICAgLSAoT3V0MiAqIGRseU91dDIpOwogICAgZGx5T3V0MiA9IGRseU91dDE7IGRseU91dDEgPSBvdXQ7CiAgICBkbHlJbjIgID0gZGx5SW4xOyAgZGx5SW4xICA9IHg7CiAgICByZXR1cm4gb3V0OwogIH07Cn0KCmZ1bmN0aW9uIEJhbmRQYXNzKCkgewogIHZhciBkbHlPdXQyID0gMCwgZGx5T3V0MSA9IDA7CiAgdmFyIGRseUluMiAgPSAwLCBkbHlJbjEgID0gMDsKICByZXR1cm4gZnVuY3Rpb24gKHgsIGN1dG9mZl9mcmVxKSB7CiAgICB2YXIgYyA9IDEgLyBNYXRoLnRhbigoTWF0aC5QSSAvIHNhbXBsZVJhdGUpICogY3V0b2ZmX2ZyZXEpOwogICAgdmFyIGQgPSAxICsgYzsKICAgIHZhciBJbjAgPSAxIC8gZDsKICAgIHZhciBJbjEgPSAwOwogICAgdmFyIEluMiA9IC1JbjA7CiAgICB2YXIgT3V0MSA9ICgtYyoyKk1hdGguY29zKDIqTWF0aC5QSSpjdXRvZmZfZnJlcS9zYW1wbGVSYXRlKSkgLyBkOwogICAgdmFyIE91dDIgPSAoYyAtIDEpIC8gZDsKICAgIAogICAgdmFyIG91dCA9IChJbjAgKiB4KQogICAgICAgICAgICArIChJbjEgKiBkbHlJbjEpCiAgICAgICAgICAgICsgKEluMiAqIGRseUluMikKICAgICAgICAgICAgLSAoT3V0MSAqIGRseU91dDEpCiAgICAgICAgICAgIC0gKE91dDIgKiBkbHlPdXQyKTsKICAgIGRseU91dDIgPSBkbHlPdXQxOyBkbHlPdXQxID0gb3V0OwogICAgZGx5SW4yICA9IGRseUluMTsgIGRseUluMSAgPSB4OwogICAgcmV0dXJuIG91dDsKICB9Owp9CgovKgogICAgdHJpYW5nbGUgd2F2ZXBvcm0gdXNlZCB0byBiZSBtb2R1bGF0ZWQgd2l0aCBzcXVhcmUgc2lnbmFsIGluIGM2NAogICAgdGhpcyB0aGluZyByZWR1Y2UgdGhlIHByZWNpc2lvbiBvZiB0aGUgc2FtcGxlcyBhbmQgaW52ZXJ0IHRoZSBiaXRzIGlmCiAgICB0aGUgbW9kdWxhdG9yIHNpZ25hbCBpcyBwb3NpdGl2ZSAoZmlndXJlZCBpdCdzIHNhbWUgYXMgaWYgbW9zdCBzaWduaWZpY2FudCBiaXQgc2V0KQogKi8KZnVuY3Rpb24gYml0OChzaWduYWwsIG1vZHVsYXRvcikgewogIG1vZHVsYXRvciA9IG1vZHVsYXRvciB8fCAtMTsKICBpZiAobW9kdWxhdG9yID49IDApIHsKICAgIHJldHVybiBiaXBvbGFyKCh+TWF0aC5mbG9vcih1bmlwb2xhcihzaWduYWwpKjI1NSkpIC8gMjU1KTsKICB9IGVsc2UgewogICAgcmV0dXJuIGJpcG9sYXIoTWF0aC5mbG9vcih1bmlwb2xhcihzaWduYWwpKjI1NSkgLyAyNTUpOyAgICAKICB9Cn0KCi8qCiAgICBhbiBlbnZlbG9wZSBnZW5lcmF0b3IsIGNvbnZlcnRzIHRoZSBhbXBsaXR1ZGVzIGFuZCBkdXJhdGlvbnMgaW50byBsaW5lIGZ1bmN0aW9ucy4KICovCmZ1bmN0aW9uIEVudmVsb3BlKGFtcHMsIGR1cnMpIHsKICB2YXIgeHMgPSBbXTsKICB2YXIga3MgPSBbXTsKICB2YXIgY3MgPSBbXTsKICB2YXIgeCAgPSAwOwogIHZhciBhICA9IDA7CiAgZm9yICh2YXIgaSA9IDA7IGkgPCBkdXJzLmxlbmd0aDsgaSsrKQogIHsKICAgIHZhciBhMSwgYTIsIGQsIGs7CiAgICBkID0gZHVyc1tpXTsKICAgIGExID0gYW1wc1tpXTsKICAgIGEyID0gYW1wc1tpKzFdIHx8IDA7CiAgICAKICAgIGlmIChkID4gMC4wKQogICAgewogICAgICBrID0gKGEyIC0gYTEpIC8gZDsKICAgICAgY3MucHVzaChhMSAtIGsqeCk7CiAgICAgIGtzLnB1c2goayk7CiAgICAgIHhzLnB1c2goeCtkKTsKICAgIH0KICAgIHggKz0gZDsKICAgIGEgID0gYTI7CiAgfQogIHZhciBlbnZlbG9wZSA9IGZ1bmN0aW9uKHQpIHsKICAgIHZhciBpOwogICAgZm9yIChpID0gMDsgaSA8IHhzLmxlbmd0aDsgaSsrKQogICAgewogICAgICBpZiAodCA8IHhzW2ldKSByZXR1cm4ga3NbaV0qdCArIGNzW2ldOwogICAgfQogICAgcmV0dXJuIGE7CiAgfTsKICBlbnZlbG9wZS5kdXJhdGlvbiA9IHg7CiAgcmV0dXJuIGVudmVsb3BlOwp9CgovKgogIENhbGxzIHNldmVyYWwgJ21pbmknLWRzcCBmdW5jdGlvbnMgaW4gcmlzaW5nIHRpbWUgc2VxdWVuY2UuICJyZXN0YXJ0cyIgdGhlIHNlcXVlbmNlIGlmIGNhbGxlZCB3aXRoIGxvd2VyIGEuCiovCmZ1bmN0aW9uIFNlcXVlbmNlcihzZXEpIHsKICB2YXIgYiA9IDA7CiAgdmFyIGsgPSAwOwogIHZhciBsaXZlID0gW107CiAgcmV0dXJuIGZ1bmN0aW9uICh0LCBhKSB7CiAgICB2YXIgc3VtID0gMC4wOwogICAgaWYgKGEgPCBiKSB7CiAgICAgIGZvciAoayA9IDA7IGsgPCBzZXEubGVuZ3RoOyBrKyspIHsKICAgICAgICBpZiAoYSA8PSBzZXFba11bMF0pIGJyZWFrOwogICAgICB9CiAgICB9CiAgICBiID0gYTsKICAgIHZhciBwb3MsIGZ1bmMsIGR1ciwgYXJnczsKICAgIHdoaWxlKChrIDwgc2VxLmxlbmd0aCkgJiYgKHNlcVtrXVswXSA8IGEpKSB7CiAgICAgIHBvcyA9IHNlcVtrXVswXTsKICAgICAgZnVuYyA9IHNlcVtrXVsxXTsKICAgICAgZHVyID0gMS4wIC8gc2VxW2tdWzJdOwogICAgICBhcmdzID0gW3BvcyAtIGEgKyB0LCBkdXJdLmNvbmNhdChzZXFba10uc2xpY2UoMykpOwogICAgICBsaXZlLnB1c2goZnVuYy5hcHBseShudWxsLCBhcmdzKSk7CiAgICAgIGsrKzsKICAgIH0KICAgIHZhciByZXNwLCBzdXJ2ID0gW107CiAgICBmb3IodmFyIGkgPSAwOyBpIDwgbGl2ZS5sZW5ndGg7IGkrKykgewogICAgICBmdW5jID0gbGl2ZVtpXTsKICAgICAgcmVzcCA9IGZ1bmModCk7CiAgICAgIGlmIChyZXNwID09PSB1bmRlZmluZWQpIGNvbnRpbnVlOwogICAgICBzdW0gKz0gcmVzcDsKICAgICAgc3Vydi5wdXNoKGZ1bmMpOwogICAgfQogICAgbGl2ZSA9IHN1cnY7CiAgICByZXR1cm4gc3VtOwogIH07Cn0KCmZ1bmN0aW9uIG5vdGUobiwgb2N0YXZlKXsKICByZXR1cm4gTWF0aC5wb3coMiwgKAogICAgbiArIHRyYW5zcG9zZSAtIDMzICsgKDEyICogKG9jdGF2ZSB8fCAwKSkKICApIC8gMTIpICogdHVuaW5nOyAvLyBBNCB0dW5pbmcKfQoKZnVuY3Rpb24gY2xpcCh4KXsKICByZXR1cm4geCAvICgxICsgTWF0aC5hYnMoeCkpOwp9CgovLyBwYXR0ZXJucwoKdmFyIGhhdF9wYXR0ZXJuID0gWwogIDAuMSwgMC40LCAwLjgsIDAuNywKXTsKCnZhciBtZWxvZHkgPSBbCiAgMSwgMSsxMiwgMiwgMisxMiwKICA1LCA0KzEyLCA3KzEyLCA0LApdLm1hcChmdW5jdGlvbihuKXsKICByZXR1cm4gbm90ZShuLCAyKTsKfSk7CgptZWxvZHkgPSBtZWxvZHkuY29uY2F0KG1lbG9keS5zbGljZSgpLnJldmVyc2UoKSk7Cgp2YXIgaGF0X25vdGUgPSBub3RlKDE2LCA2KTsKCnZhciBiYXNzX29zYyA9IE9zY2lsbGF0b3IoJ3NhdycsIHNhbXBsZVJhdGUpOwp2YXIgb3NjID0gT3NjaWxsYXRvcignc2luJywgMTQsIGZhbHNlKTsKdmFyIGhhdF9vc2MgPSBPc2NpbGxhdG9yKCdyYW1wJywgMzIsIGZhbHNlKTsKCnZhciBmaWx0ZXIgPSBuZXcgRGlvZGVGaWx0ZXIoKTsKCmZpbHRlci5zZXRfcSgwLjc0KTsKZmlsdGVyLnNldF9ocGYoLjAwMjYpOwoKdmFyIGhwID0gbmV3IEhpZ2hQYXNzKCk7CgpmdW5jdGlvbiBkc3AodCl7CiAgY2xvY2sodCk7CgogIHZhciBub2lzZSA9IE5vaXNlKCk7CgogIHZhciBuID0gc2xpZGUoMS80LCBtZWxvZHksIDUyKTsKCiAgdmFyIHN5bnRoX29zYyA9IG9zYy5wbGF5KG4gLyAzICsgdHJpKDM0KSAqIDgpLy8gKyB0cmkobiAvIDEwMDAwKTsKICB2YXIgc3ludGggPSBzZXF1ZW5jZSgxLzE2LCBbMCwgMSwgMSwgMCwgIDAsIDAsIDEsIDBdKSAqIGFycCgxLzE2LCBzeW50aF9vc2MsIDAsIDApOwoKICBmaWx0ZXIuc2V0X2ZjKDAuNSArICh0cmkoMS80KSAqIDAuNDkpKTsKICB2YXIgYiA9IHNsaWRlKDEvNCwgbWVsb2R5LCAxNik7CiAgdmFyIGJhc3MgPSBiYXNzX29zYy5wbGF5KGIgLyAxMik7CiAgYmFzcyA9IGNsaXAoYmFzcyAqIDcpOwogIGJhc3MgPSBmaWx0ZXIucnVuKGJhc3MgKiAwLjcpOwogIGJhc3MgPSBjbGlwKGJhc3MgKiAzOSk7CiAgYmFzcyA9IGJhc3MgKiAoMC44IC0gKChzYXcoMikgKiAwLjUpKSk7CgogIHZhciBraWNrID0gYXJwKDEvNCwgNDYsIDQ1LCAwKTsKCiAgdmFyIGhhdCA9IHNlcXVlbmNlKDEvMTYsIGhhdF9wYXR0ZXJuKQogICAgKiBhcnAoMS8xNiwgaGF0X29zYy5wbGF5KGhhdF9ub3RlKSArIG5vaXNlICogMS4xLCAyLCAyMDAgKyAoc2F3KDQpID4gMCA/IC0xMjAgOiAwKSk7CgogIGhhdCA9IGhwKGhhdCwgNjUwMCk7CgogIHJldHVybiAwLjggKiAoCiAgICAxLjIgKiBzeW50aAogICsgMS41ICoga2ljawogICsgMi4zICogaGF0CiAgKyAwLjg1ICogYmFzcwogICk7Cn0KCg==)
- [? - subwah](https://felixroos.github.io/doughbeat/#Ci8qIQogKgogKiBzdWJ3YWgKICoKICovCgp2YXIgdGF1ID0gMiAqIE1hdGguUEk7CgpmdW5jdGlvbiBkc3AodCl7CiAgdmFyIG4gPSBzYW1wbGVSYXRlIC8gMzQxLjU7CgogIHZhciBiYXNzX29zYyA9CiAgICAwLjggKiB0cmkobi8zLCB0KQogICsgMC4wNSAqIHNpbihuKjIsIHQpCiAgOwoKICB2YXIgbGZvID0gc2luKDAuMTgsIHQpOwogIHZhciBsZm9fbXVsID0gc2luKDAuMDQsIHQpOwogIHZhciBiYXNzX3N1YiA9CiAgICAwLjggKiBzdWIoYmFzc19vc2MsIDIgKyAoKDEgKyBsZm8pICogKDIgKyAoMSArIGxmb19tdWwpICogMTIpICksIHQpCiAgKyAwLjcgKiBzaW4obiwgdCkKICA7CgogIHJldHVybiAwLjQgKiBiYXNzX3N1YjsKfQoKZnVuY3Rpb24gc3ViKHdhdmUsIG11bCwgdCl7CiAgcmV0dXJuIE1hdGguc2luKHdhdmUgKiBtdWwgKyB0YXUgKiB0KTsKfQoKZnVuY3Rpb24gc2luKHgsIHQpewogIHJldHVybiBNYXRoLnNpbih0YXUgKiB0ICogeCk7Cn0KCmZ1bmN0aW9uIHRyaSh4LCB0KXsKICByZXR1cm4gTWF0aC5hYnMoMSAtICgyICogdCAqIHgpICUgMikgKiAyIC0gMTsKfQo=)
- [unexpected token](https://felixroos.github.io/doughbeat/#Ci8qIQogKgogKiBzdGFnYXMgLSB1bmV4cGVjdGVkIHRva2VuCiAqCiAqLwoKdmFyIHRyYW5zcG9zZSA9IDA7CgovLyBwYXR0ZXJucwp2YXIgYmFzc2xpbmUgPSBbCiAgWyA3LCA3LCA3LCAxMiwgMTAsIDEwLCAxMCwgMTUgXSwKICBbIDcsIDcsIDcsIDE1LCAxNSwgMTcsIDEwLCAyOSBdLAogIFsgNywgNywgNywgMjQsIDEwLCAxMCwgMTAsIDE5IF0sCiAgWyA3LCA3LCA3LCAxNSwgMjksIDI0LCAxNSwgMTAgXQpdOwoKdmFyIG1lbG9keSA9IFsKICA3LCAxNSwgNywgMTUsCiAgNywgMTUsIDEwLCAxNSwKICAxMCwgMTIsIDI0LCAxOSwKICA3LCAxMiwgMTAsIDE5Cl07Cgp2YXIgY2hvcmRzID0gWyBbIDcsIDEyLCAxNywgMTAgXSwgWyAxMCwgMTUsIDE5LCAyNCBdIF07CgovLyBmaWx0ZXJzCnZhciBscF9hID0gTW9vZygpOwp2YXIgbHBfYiA9IE1vb2coKTsKdmFyIGxwX2MgPSBNb29nKCk7CnZhciBmYXN0bHBfYSA9IEZhc3RMUCgyNDApOwp2YXIgZmFzdGxwX2IgPSBGYXN0TFAoMzApOwp2YXIgZmFzdGhwX2EgPSBGYXN0SFAoMS43KTsKdmFyIGZhc3RocF9iID0gRmFzdEhQKDEuNSk7CnZhciBmYXN0aHBfYyA9IEZhc3RIUCgwLjUpOwoKZnVuY3Rpb24gZHNwKHQpewogIC8vIGxmbwogIHZhciBsZm9fYSA9IHNpbigyLCB0KTsKICB2YXIgbGZvX2IgPSBzaW4oMS8zMiwgdCk7CiAgdmFyIGxmb19jID0gc2luKDEvMTI4LCB0KTsKCiAgdmFyIGN1dG9mZiA9CiAgICAzMDAKICArIChsZm9fYSAqIDYwKQogICsgKGxmb19iICogMzAwKQogICsgKGxmb19jICogMjUwKQogIDsKCiAgLy8gYmFzcwogIHZhciBibSA9IGJhc3NsaW5lWyh0IC8gMiB8IDApICUgYmFzc2xpbmUubGVuZ3RoXTsKICB2YXIgYm4gPSBub3RlKGJtWyh0ICogNCB8IDApICUgYm0ubGVuZ3RoXSwgMCk7CgogIHZhciBiYXNzX29zYyA9CiAgICAgIHNhdyhibiwgdCkgKiAxLjkKICAgICsgc3FyKGJuLzIsIHQpICogMQogICAgKyBzaW4oYm4vMiwgdCkgKiAyLjIKICAgICsgc3FyKGJuKjMsIHQpICogMwogIDsKCiAgdmFyIGJhc3MgPQogICAgKCAvLyB2Y2YKICAgICAgbHBfYSgKICAgICAgICAxMDUwICsgKGxmb19iICogMTQwKSwKICAgICAgICAwICsgKHNpbigxLzIsIHQgKyAzLzQpICogMC4yKSwKICAgICAgICBwZXJjKGJhc3Nfb3NjLzMsIDQ4LCB0ICUgKDEvOCksIHQpICogMQogICAgICApCiAgICApCiAgOwoKICAvLyBzeW50aAogIHZhciBtbiA9IG5vdGUoCiAgICBtZWxvZHlbKHQgKiAzIHwgMCkgJSBtZWxvZHkubGVuZ3RoXSwKICAgIDIgLSAodCAqIDMgfCAwKSAlIDQKICApOwoKICB2YXIgc3ludGhfb3NjID0KICAgIHNhdyhtbiwgdCsxKQogICsgc3FyKG1uKjIuMDIsIHQpICogMC40CiAgKyBzcXIobW4qMywgdCsyKQogIDsKCiAgdmFyIHN5bnRoX3dhdmUgPQogICAgKCAvLyB2Y2YKICAgICAgbHBfYigxODAwICsgKGxmb19hICogNDAwKSwgMC4xICsgKHNpbigxLzgsIHQgKyAoMS8zKSkgKiAwLjEpLAogICAgICAgIHBlcmMoc3ludGhfb3NjLCAxLjYsIHQgJSAoNCksIHQpICogMS43CiAgICAgICkKICAgICkgKiAxLjgKICA7CgogIHZhciBzeW50aF9kZWdyYWRlID0gc3ludGhfd2F2ZSAqIHNpbihub3RlKDUsIDIpLCB0KTsKCiAgdmFyIHN5bnRoID0gLy8gZWZmZWN0IGRyeSAvIHdldCBtaXgKICAgIDAuNCAqIHN5bnRoX3dhdmUKICArIDAuMSAqIHN5bnRoX2RlZ3JhZGUKICA7CgogIC8vIHBhZAogIHZhciBwID0gY2hvcmRzWyh0IC8gNCB8IDApICUgY2hvcmRzLmxlbmd0aF07CgogIHZhciBwYWRfb3NjID0KICAgIDUuMSAqIHNhdyhub3RlKHBbMF0sIDEpLCB0KQogICsgMy45ICogc2F3KG5vdGUocFsxXSwgMiksIHQpCiAgKyA0LjAgKiBzYXcobm90ZShwWzJdLCAxKSwgdCkKICArIDMuMCAqIHNxcihub3RlKHBbM10sIDApLCB0KQogICsgbm9pc2UoKSAqIDAuNwogIDsKCiAgdmFyIHBhZCA9CiAgICAoIDEuMCAtICgoc2luKDIsIHQpICogMC4yOCkgKyAwLjUpICkgKiAvLyB2Y2EKICAgIGZhc3RocF9jKGxwX2MoMTEwMCArIChsZm9fYSAqIDE1MCksIDAuMDUsIHBhZF9vc2MgKiAwLjAzKSkKICA7CgogIC8vIGRydW1zCiAgdmFyIGtpY2tfb3NjID0KICAgIGNsaXAoMC4zNywgc2luKG5vdGUoNywtMSksIHQpKSAqIDIKICArIGNsaXAoMC4wNywgc2F3KG5vdGUoNy4wMywtMSksIHQgKiAwLjIpKSAqIDQuMDAKICA7CgogIHZhciBraWNrID0KICAgIHNhdygyLCB0KSAqIDAuMDU0IC8vIGNsaWNrCiAgKyBmYXN0bHBfYSggLy8gdmNmCiAgICAgIHBlcmMoY2xpcCgwLjYsIGtpY2tfb3NjKSwgNTQsIHQgJSAoMS8yKSwgdCkKICAgICkgKiAyCiAgOwoKICB2YXIgc25hcmVfb3NjID0KICAgIHNxcihub3RlKDE3LCAwKSwgdCszKSAqIDAuMTU2CiAgKyBub2lzZSgpICogMC43MwogIDsKCiAgdmFyIHNuYXJlID0gLy8gdmNmCiAgICBmYXN0bHBfYihwZXJjKHNuYXJlX29zYywgMTE5IC0gKHQgJSAyID4gMSA/IDE0IDogMCksICh0ICsgMS8yKSAlICgxKSwgdCkgKiAwLjYpCiAgOwoKICB2YXIgaGloYXRfb3NjID0KICAgIHNhdyhub3RlKDE1LDkpLCB0KSAqIDAuNAogICsgbm9pc2UoKQogIDsKCiAgdmFyIGhpaGF0ID0KICAgIGZhc3RocF9hKHBlcmMoaGloYXRfb3NjLCAyNjYgLSAoICh0ICsgMi80KSAlICgxLzIpID4gMS80ID8gMTYwIDogMCksIHQgJSAoMS80KSwgdCkpCiAgOwoKICB2YXIgc2hha2VyX29zYyA9CiAgICBub2lzZSgpCiAgOwoKICB2YXIgc2hha2VyID0KICAgIGZhc3RocF9iKHBlcmNfYihzaGFrZXJfb3NjLCAyMzAgLSAoICh0ICsgMi80KSAlICgxLzIpID4gMS80ID8gODAgOiAwKSwgdCAlIDEvOCwgdCkpCiAgOwoKICAvLyBtaXhlcgogIHJldHVybiAwLjQgKiAoIC8vIGdhaW4KICAgIDAuNzcgKiBjbGlwKDAuNjUsIGJhc3MpCiAgKyAwLjAxOCAqIHN5bnRoCiAgKyAwLjY2ICogcGFkCiAgKyAzLjYgKiBraWNrCiAgKyAxMi4wICogY2xpcCgwLjE3LCBzbmFyZSkKICArIDAuMjEgKiBoaWhhdAogICsgMC43MiAqIHNoYWtlcgogICk7Cn0KCmZ1bmN0aW9uIGNsaXAobiwgeCl7CiAgcmV0dXJuIHggPiBuCiAgICA/IG4KICAgIDogeCA8IC1uCiAgICA/IC1uCiAgICA6IHgKICA7Cn0KCmZ1bmN0aW9uIHNpbih4LCB0KXsKICByZXR1cm4gTWF0aC5zaW4oMiAqIE1hdGguUEkgKiB0ICogeCk7Cn0KCmZ1bmN0aW9uIHNhdyh4LCB0KXsKICByZXR1cm4gMS0yICogKHQgJSAoMS94KSkgKiB4Owp9CgpmdW5jdGlvbiBzcXIoeCwgdCl7CiAgcmV0dXJuIHNpbih4LCB0KSA+IDAgPyAxIDogLTE7Cn0KCmZ1bmN0aW9uIG5vaXNlKCl7CiAgcmV0dXJuIE1hdGgucmFuZG9tKCkgKiAyIC0gMTsKfQoKZnVuY3Rpb24gcGVyYyh3YXZlLCBkZWNheSwgbywgdCl7CiAgdmFyIGVudiA9IE1hdGgubWF4KDAsIDAuODg5IC0gKG8gKiBkZWNheSkgLyAoKG8gKiBkZWNheSkgKyAxKSk7CiAgcmV0dXJuIHdhdmUgKiBlbnY7Cn0KCmZ1bmN0aW9uIHBlcmNfYih3YXZlLCBkZWNheSwgbywgdCl7CiAgdmFyIGVudiA9IE1hdGgubWluKDAsIDAuOTUwIC0gKG8gKiBkZWNheSkgLyAoKG8gKiBkZWNheSkgKyAxKSk7CiAgcmV0dXJuIHdhdmUgKiBlbnY7Cn0KCmZ1bmN0aW9uIEZhc3RMUChuKXsKICB2YXIgdmFsdWUgPSAwOwogIHJldHVybiBmdW5jdGlvbih4KXsKICAgIHJldHVybiB2YWx1ZSArPSAoeCAtIHZhbHVlKSAvIG47CiAgfTsKfQoKZnVuY3Rpb24gRmFzdEhQKG4pewogIHZhciB2YWx1ZSA9IDA7CiAgcmV0dXJuIGZ1bmN0aW9uKHgpewogICAgcmV0dXJuIHZhbHVlICs9IHggLSB2YWx1ZSAqIG47CiAgfTsKfQoKZnVuY3Rpb24gTW9vZygpewogIHZhciB5MSwgeTIsIHkzLCB5NCwgb2xkeCwgb2xkeTEsIG9sZHkyLCBvbGR5MzsKCiAgeTEgPSB5MiA9IHkzID0geTQgPSBvbGR4ID0gb2xkeTEgPSBvbGR5MiA9IG9sZHkzID0gMDsKCiAgdmFyIHAsIGssIHQxLCB0MiwgciwgeDsKCiAgcmV0dXJuIGZ1bmN0aW9uKGN1dG9mZiwgcmVzLCBpbnB1dCl7CiAgICBjdXRvZmYgPSAyICogY3V0b2ZmIC8gc2FtcGxlUmF0ZTsKICAgIHAgPSBjdXRvZmYgKiAoMS44IC0gKDAuOCAqIGN1dG9mZikpOwogICAgayA9IDIgKiBNYXRoLnNpbihjdXRvZmYgKiBNYXRoLlBJICogMC41KSAtIDE7CiAgICB0MSA9ICgxIC0gcCkgKiAxLjM4NjI0OTsKICAgIHQyID0gMTIgKyB0MSAqIHQxOwogICAgciA9IHJlcyAqICh0MiArIDYgKiB0MSkgLyAodDIgLSA2ICogdDEpOwoKICAgIHggPSBpbnB1dCAtIHIgKiB5NDsKCiAgICAvLyBmb3VyIGNhc2NhZGVkIG9uZS1wb2xlIGZpbHRlcnMgKGJpbGluZWFyIHRyYW5zZm9ybSkKICAgIHkxID0gIHggKiBwICsgb2xkeCAgKiBwIC0gayAqIHkxOwogICAgeTIgPSB5MSAqIHAgKyBvbGR5MSAqIHAgLSBrICogeTI7CiAgICB5MyA9IHkyICogcCArIG9sZHkyICogcCAtIGsgKiB5MzsKICAgIHk0ID0geTMgKiBwICsgb2xkeTMgKiBwIC0gayAqIHk0OwoKICAgIC8vIGNsaXBwZXIgYmFuZCBsaW1pdGVkIHNpZ21vaWQKICAgIHk0IC09ICh5NCAqIHk0ICogeTQpIC8gNjsKCiAgICBvbGR4ID0geDsgb2xkeTEgPSB5MTsgb2xkeTIgPSB5Mjsgb2xkeTMgPSB5MzsKCiAgICByZXR1cm4geTQ7CiAgfTsKfQoKLy8gZ2V0cyBub3RlIGBuYCBmcmVxdWVuY3kgb2YgYG9jdGF2ZWAKZnVuY3Rpb24gbm90ZShuLCBvY3RhdmUpewogIG4gKz0gdHJhbnNwb3NlOwogIHJldHVybiBNYXRoLnBvdygyLCAobiAtIDMzICsgKDEyICogKG9jdGF2ZSB8fCAwKSkpIC8gMTIpICogNDQwOwp9Cg==)
- [justaboutdead - YAY!](https://felixroos.github.io/doughbeat/#Ci8vIGp1c3RhYm91dGRlYWQgLSBZQVkhCgpmdW5jdGlvbiBkc3AodCl7CiAgdmFyIG4gPSBzYW1wbGVSYXRlIC8gNTAwOwoKICB2YXIgYmFzc19vc2MgPQogICAgMC4yNCAqIHRyaShuLCB0KQogICsgMC4wNTIgKiBzaW4obiAqIDMyLCB0KQogIDsKCiAgdmFyIGJhc3Nfc3ViID0KICAgICBzdWIoYmFzc19vc2MsICgxICsgc2luKDEuMTMzNywgdCkpICogKDIgKyAoMSArIHNpbigwLjQyLCB0KSkgKiAxNSksIHQpCiAgOwoKICByZXR1cm4gMC4zICogYmFzc19zdWI7Cgp9CgoKdmFyIHRhdSA9IDIgKiBNYXRoLlBJOwoKZnVuY3Rpb24gc3ViKHdhdmUsIG11bCwgdCl7CiAgcmV0dXJuIE1hdGguc2luKHdhdmUgKiBtdWwgKyB0YXUgKiB0KTsKfQoKZnVuY3Rpb24gc2luKHgsIHQpewogIHJldHVybiBNYXRoLnNpbih0YXUgKiB0ICogeCk7Cn0KCmZ1bmN0aW9uIHRyaSh4LCB0KXsKICByZXR1cm4gTWF0aC5hYnMoMSAtICgyICogdCAqIHgpICUgMikgKiAyIC0gMTsKfQoK)
- [potasmic - afternoon walk](https://felixroos.github.io/doughbeat/#Ci8qIQogKgogKiBwb3Rhc21pYyAtIGFmdGVybm9vbiB3YWxrCiAqCiAqLwoKdmFyIHRyYW5zcG9zZSA9IDI7CnZhciBicG0gPSAyNDA7IC8vIEJlYXRzIHBlciBtaW51dGUKdmFyIHNwYiA9IDYwL2JwbTsgLy8gU2Vjb25kIHBlciBiZWF0CgpmdW5jdGlvbiBub3RlKG4sIG9jdGF2ZSl7CiAgbiArPSB0cmFuc3Bvc2U7CiAgcmV0dXJuIE1hdGgucG93KDIsIChuIC0gMzMgKyAoMTIgKiAob2N0YXZlIHx8IDApKSkgLyAxMikgKiA0NDA7Cn0KCnZhciBtZWxvZGllcyA9IFsKICBbbm90ZSgzLDIpLCBub3RlKDcsMiksIG5vdGUoMTAsMiksIG5vdGUoMiwzKSwgbm90ZSgzLDMpLCBub3RlKDcsMyksIG5vdGUoMywzKSwgbm90ZSgyLDMpXSwKICBbbm90ZSgwLDIpLCBub3RlKDMsMiksIG5vdGUoNywyKSwgbm90ZSgxMCwyKSwgbm90ZSgwLDMpLCBub3RlKDcsMiksIG5vdGUoMywyKSwgbm90ZSg3LDIpXSwKICBbbm90ZSg4LDEpLCBub3RlKDAsMiksIG5vdGUoMywyKSwgbm90ZSg3LDIpLCBub3RlKDgsMiksIG5vdGUoNywyKSwgbm90ZSg4LDIpLCBub3RlKDcsMildLAogIFtub3RlKDUsMSksIG5vdGUoMTAsMiksIG5vdGUoMiwyKSwgbm90ZSg1LDIpLCBub3RlKDEwLDMpLCBub3RlKDIsMyksIG5vdGUoNSwzKSwgbm90ZSgyLDMpXQpdOwoKdmFyIGJhc3NsaW5lID0gWwogIFtub3RlKDMsMSksbm90ZSgzLDEpLG5vdGUoMywxKSxub3RlKDMsMSksbm90ZSgzLDEpLG5vdGUoMywxKSxub3RlKDMsMSksbm90ZSgyLDEpXSwKICBbbm90ZSgwLDEpLG5vdGUoMCwxKSxub3RlKDAsMSksbm90ZSgwLDEpLG5vdGUoMCwxKSxub3RlKDAsMSksbm90ZSgwLDEpLG5vdGUoLTIsMSldLAogIFtub3RlKDgsMCksbm90ZSg4LDApLG5vdGUoOCwwKSxub3RlKDgsMCksbm90ZSg4LDApLG5vdGUoOCwwKSxub3RlKDgsMCksbm90ZSg3LDApXSwKICBbbm90ZSg1LDApLG5vdGUoNSwwKSxub3RlKDUsMCksbm90ZSg1LDApLG5vdGUoOCwwKSxub3RlKDUsMCksbm90ZSg4LDApLG5vdGUoMiwxKV0KXTsKCnZhciBjb3VudGVyOwoKZnVuY3Rpb24gZHNwKHQpIHsKICBjb3VudGVyID0gTWF0aC5mbG9vcih0L3NwYik7IC8vSG93IG1hbnkgYmVhdHMgaGF2ZSBwYXNzZWQKCiAgcmV0dXJuIHNxcih0LG1lbG9kaWVzW01hdGguZmxvb3IoY291bnRlci8xNiklNF1bY291bnRlciU4XSwwLjExKQogICsgICAgICBzcXIodCxiYXNzbGluZVtNYXRoLmZsb29yKGNvdW50ZXIvMTYpJTRdW2NvdW50ZXIlOF0sMC4xMSkgOyAvL0NoYW5nZXMgbm90ZSBldmVyeSA4YmVhdCwgYWx0ZXIgY2hvcmQgZXZlcnkgMTYgYmVhdHMKfQoKZnVuY3Rpb24gc2luKHQsZixhKSB7CiAgcmV0dXJuIGEgKiBNYXRoLnNpbiggMiAqIE1hdGguUEkgKiAgdCAqIGYpOwp9CgpmdW5jdGlvbiBzcXIodCxmLGEpIHsKICByZXR1cm4gICgoc2luKHQsZixhKT4wKSAqMi0xKSAqYTsKfQo=)
- [potasmic - dubstep dawn](https://felixroos.github.io/doughbeat/#LyoqCiAqICBwb3Rhc21pYyAtIGR1YnN0ZXAgZGF3biAKICogIChiZWNhdXNlIGFsbCBvdGhlciB3YXZlcG90IGxvb3BzJyBuYW1lcyBhcmUgcGFydCBvZiB0aGUgZGF5IGhlaGVoZSkKKiovCnZhciBicG0gPSAxNDg7CnZhciB0dW5pbmcgPSA0NDA7CnZhciB0cmFuc3Bvc2UgPSAwOwogCi8vIGNvbnN0YW50cwp2YXIgdGF1ID0gMiAqIE1hdGguUEk7CiAKLy8gdGltZSBjb2VmZmljaWVudHMKdmFyIHQsIHR0OwogCmZ1bmN0aW9uIE9zYyh0eXBlLCBvY3RhdmUsIHNpemUsIGFsaWFzKXsKICBpZiAoISh0aGlzIGluc3RhbmNlb2YgT3NjKSkgcmV0dXJuIG5ldyBPc2ModHlwZSwgc2l6ZSwgYWxpYXMpOwogIHRoaXMucG9zID0gMDsKICB0aGlzLm9jdGF2ZSA9IE1hdGgucG93KDIsb2N0YXZlKSB8fCAxOwogIHRoaXMuc2l6ZSA9IHNpemUgfHwgc2FtcGxlUmF0ZTsKICB0aGlzLmNvZWZmID0gdGhpcy5zaXplIC8gc2FtcGxlUmF0ZTsKICB0aGlzLnRhYmxlID0gbmV3IEZsb2F0MzJBcnJheSh0aGlzLnNpemUpOwogIHRoaXMuYWxpYXMgPSBhbGlhcyA9PT0gZmFsc2UgPyBmYWxzZSA6IHRydWU7CiAgdGhpcy5idWlsZCh0eXBlKTsKfQogCk9zYy5wcm90b3R5cGUuYnVpbGQgPSBmdW5jdGlvbih0eXBlKXsKICBzd2l0Y2ggKHR5cGUpIHsKICAgIGNhc2UgJ3Npbic6CiAgICAgIHZhciBzY2FsZSA9IDIgKiBNYXRoLlBJIC8gdGhpcy5zaXplOwogICAgICBmb3IgKHZhciBpID0gMDsgaSA8IHRoaXMuc2l6ZTsgaSsrKSB7CiAgICAgICAgdGhpcy50YWJsZVtpXSA9IE1hdGguc2luKGkgKiBzY2FsZSk7CiAgICAgIH0KICAgICAgYnJlYWs7CiAKICAgIGNhc2UgJ3Nhdyc6CiAgICAgIGZvciAodmFyIGkgPSAwOyBpIDwgdGhpcy5zaXplOyBpKyspIHsKICAgICAgICB2YXIgeCA9IChpIC8gdGhpcy5zaXplKTsKICAgICAgICB0aGlzLnRhYmxlW2ldID0gKzIuMCAqICh4IC0gTWF0aC5yb3VuZCh4KSk7CiAgICAgIH0KICAgICAgYnJlYWs7CiAKICAgIGNhc2UgJ3JhbXAnOgogICAgICBmb3IgKHZhciBpID0gMDsgaSA8IHRoaXMuc2l6ZTsgaSsrKSB7CiAgICAgICAgdmFyIHggPSAoaSAvIHRoaXMuc2l6ZSk7CiAgICAgICAgdGhpcy50YWJsZVtpXSA9IC0yLjAgKiAoeCAtIE1hdGgucm91bmQoeCkpOwogICAgICB9CiAgICAgIGJyZWFrOwogCiAgICBjYXNlICd0cmknOgogICAgICBmb3IgKHZhciBpID0gMDsgaSA8IHRoaXMuc2l6ZTsgaSsrKSB7CiAgICAgICAgdmFyIHggPSAoaSAvIHRoaXMuc2l6ZSkgLSAwLjI1OwogICAgICAgIHRoaXMudGFibGVbaV0gPSAxLjAgLSA0LjAgKiBNYXRoLmFicyhNYXRoLnJvdW5kKHgpIC0geCk7CiAgICAgIH0KICAgICAgYnJlYWs7CiAKICAgIGNhc2UgJ3Nxcic6CiAgICAgIHZhciBoYWxmID0gdGhpcy5zaXplIC8gMjsKICAgICAgZm9yICh2YXIgaSA9IDA7IGkgPCB0aGlzLnNpemU7IGkrKykgewogICAgICAgIHRoaXMudGFibGVbaV0gPSBpIDwgaGFsZiA/ICsxIDogLTE7CiAgICAgIH0KICAgICAgYnJlYWs7CiAgfQp9OwogCk9zYy5wcm90b3R5cGUucGxheSA9IGZ1bmN0aW9uKGZyZXEsb2N0KXsKICB2YXIgb2N0YSA9IE1hdGgucG93KDIsb2N0KSB8fCB0aGlzLm9jdGF2ZTsKICB0aGlzLnBvcyArPSBmcmVxICogdGhpcy5jb2VmZiAqIG9jdGE7CiAgaWYgKHRoaXMucG9zID49IHRoaXMuc2l6ZSkgdGhpcy5wb3MgLT0gdGhpcy5zaXplOwogIHRoaXMuaW5kZXggPSB0aGlzLnBvcyB8IDA7CiAgaWYgKCF0aGlzLmFsaWFzKSByZXR1cm4gdGhpcy50YWJsZVt0aGlzLmluZGV4XTsKICB0aGlzLmFscGhhID0gdGhpcy5wb3MgLSB0aGlzLmluZGV4OwogIHRoaXMubmV4dCA9IHRoaXMudGFibGVbdGhpcy5pbmRleCA9PSB0aGlzLnNpemUgLSAxID8gMCA6IHRoaXMuaW5kZXggKyAxXTsKICB0aGlzLmN1cnIgPSB0aGlzLnRhYmxlW3RoaXMuaW5kZXhdOwogIHJldHVybiB0aGlzLmN1cnIgKyAodGhpcy5uZXh0IC0gdGhpcy5jdXJyKSAqIHRoaXMuYWxwaGE7Cn07CiAKIApmdW5jdGlvbiBTeW4ob3Njcywgb2N0cykgewogIGlmKCEodGhpcyBpbnN0YW5jZW9mIFN5bikpIHJldHVybiBuZXcgU3luKG9zY3MpOwogIHRoaXMub3NjcyA9IG9zY3M7CiAgdGhpcy5vY3RzID0gb2N0czsKfQogClN5bi5wcm90b3R5cGUuc2V0T2N0cyA9IGZ1bmN0aW9uKGFycikgewogIHRoaXMub2N0cyA9IGFycjsKfQogClN5bi5wcm90b3R5cGUubWl4ID0gZnVuY3Rpb24oZnJlcSkgewogIHZhciBzdW0gPSAwOwogIHZhciBhbGwgPSB0aGlzLm9zY3MubGVuZ3RoOwogIGZvcihpPTA7IGk8IGFsbDsgaSsrICkgewogICAgdmFyIG9jdCA9IHRoaXMub2N0c1tpXTsKICAgIHN1bSArPSB0aGlzLm9zY3NbaV0ucGxheShmcmVxLG9jdCkgKiAxL2FsbDsKICB9CiAgcmV0dXJuIHN1bTsKfQogCmZ1bmN0aW9uIGNsb2NrKF90KXsKICB0ID0gX3Q7CiAgdCAqPSBicG0gLyAxMjA7CiAgdHQgPSB0YXUgKiB0Owp9CiAKIApmdW5jdGlvbiBzZXF1ZW5jZShtZWFzdXJlLCBzZXEpewogIHJldHVybiBzZXFbKHQgLyBtZWFzdXJlIC8gMiB8IDApICUgc2VxLmxlbmd0aF07Cn0KIApmdW5jdGlvbiBtczJmcmVxKG1zKSB7CiAgcmV0dXJuIChtcykqNjAvYnBtOwp9CiAKZnVuY3Rpb24gYXJwKG1lYXN1cmUsIHgsIHksIHopewogIHZhciB0cyA9IHQgLyAyICUgbWVhc3VyZTsKICByZXR1cm4gTWF0aC5zaW4oeCAqIChNYXRoLmV4cCgtdHMgKiB5KSkpICogTWF0aC5leHAoLXRzICogeik7Cn0KIApmdW5jdGlvbiBzaW4oZnJlcSwgcGhhc2UpewogIHJldHVybiBNYXRoLnNpbigodCAqIGZyZXEgKyAoMiAtIChwaGFzZSB8fCAwKSAvIDIpKSAqIHRhdSk7Cn0KIApmdW5jdGlvbiBzYXcoZnJlcSl7CiAgcmV0dXJuIDEtMiAqICh0ICUgKDEgLyBmcmVxKSkgKiBmcmVxOwp9CiAKZnVuY3Rpb24gdHJpKGZyZXEpewogIHJldHVybiBNYXRoLmFicygxIC0gKDIgKiB0ICogZnJlcSkgJSAyKSAqIDIgLSAxOwp9CiAKZnVuY3Rpb24gc3FyKGZyZXEpewogIHJldHVybiBzaW4oZnJlcSwgdCkgPiAwID8gMSA6IC0xOwp9CiAKZnVuY3Rpb24gTm9pc2UoKXsKICByZXR1cm4gTWF0aC5yYW5kb20oKSAqIDIgLSAxOwp9CiAKZnVuY3Rpb24gbm90ZShuLCBvY3RhdmUpewogIHJldHVybiBNYXRoLnBvdygyLCAoCiAgICBuICsgdHJhbnNwb3NlIC0gMzMgKyAoMTIgKiAob2N0YXZlIHx8IDApKQogICkgLyAxMikgKiB0dW5pbmc7IC8vIEE0IHR1bmluZwp9CiAKZnVuY3Rpb24gY2xpcCh4KXsKICByZXR1cm4geCAvICgxICsgTWF0aC5hYnMoeCkpOwp9CiAKZnVuY3Rpb24gRGlvZGVGaWx0ZXIoKXsKICB0aGlzLmsgPSAwOwogIHRoaXMuQSA9IDA7CiAgdGhpcy56ID0gWzAsMCwwLDAsMF07CiAgdGhpcy5haDsKICB0aGlzLmJoOwogIHRoaXMuZmM7CiAgdGhpcy5zZXRfcSgwKTsKICB0aGlzLnNldF9ocGYoMC41KTsKICB0aGlzLnNldF9mYyguNSk7Cn0KIApEaW9kZUZpbHRlci5wcm90b3R5cGUuc2V0X2hwZiA9IGZ1bmN0aW9uKGZjKXsKICB2YXIgSyA9IGZjICogTWF0aC5QSTsKICB0aGlzLmFoID0gKEsgLSAyKSAvIChLICsgMik7CiAgdGhpcy5iaCA9IDIgLyAoSyArIDIpOwp9OwogCkRpb2RlRmlsdGVyLnByb3RvdHlwZS5yZXNldCA9IGZ1bmN0aW9uKCl7CiAgaWYgKHRoaXMuayA8IDE3KSB0aGlzLnogPSBbMCwwLDAsMCwwXTsKfTsKIApEaW9kZUZpbHRlci5wcm90b3R5cGUuc2V0X3EgPSBmdW5jdGlvbihxKXsKICB0aGlzLmsgPSAyMCAqIHE7CiAgdGhpcy5BID0gMSArIDAuNSAqIHRoaXMuazsKfTsKIApEaW9kZUZpbHRlci5wcm90b3R5cGUuc2V0X2ZjID0gZnVuY3Rpb24oY3V0b2ZmKXsKICBjdXRvZmYgPSAoY3V0b2ZmICogY3V0b2ZmKTsKICB0aGlzLmZjID0gY3V0b2ZmIDw9IDAKICAgID8gLjAyCiAgICA6IChjdXRvZmYgPj0gMS4wID8gLjk5OSA6IGN1dG9mZik7Cn07CiAKRGlvZGVGaWx0ZXIucHJvdG90eXBlLnJ1biA9IGZ1bmN0aW9uKHgpewogIHZhciBhID0gTWF0aC5QSSAqIHRoaXMuZmM7CiAgYSA9IDIgKiBNYXRoLnRhbigwLjUqYSk7IC8vIGRld2FycGluZywgbm90IHJlcXVpcmVkIHdpdGggMnggb3ZlcnNhbXBsaW5nCiAgdmFyIGFpbnYgPSAxIC8gYTsKICB2YXIgYTIgPSBhKmE7CiAgdmFyIGIgPSAyKmEgKyAxOwogIHZhciBiMiA9IGIqYjsKICB2YXIgYyA9IDEgLyAoMiphMiphMiAtIDQqYTIqYjIgKyBiMipiMik7CiAgdmFyIGcwID0gMiphMiphMipjOwogIHZhciBnID0gZzAgKiB0aGlzLmJoOwogCiAgLy8gY3VycmVudCBzdGF0ZQogIHZhciBzMCA9IChhMiphKnRoaXMuelswXSArIGEyKmIqdGhpcy56WzFdICsgdGhpcy56WzJdKihiMiAtIDIqYTIpKmEgKyB0aGlzLnpbM10qKGIyIC0gMyphMikqYikgKiBjOwogIHZhciBzID0gdGhpcy5iaCpzMCAtIHRoaXMuels0XTsKIAogIC8vIHNvbHZlIGZlZWRiYWNrIGxvb3AgKGxpbmVhcikKICB2YXIgeTUgPSAoZyp4ICsgcykgLyAoMSArIGcqdGhpcy5rKTsKIAogIC8vIGlucHV0IGNsaXBwaW5nCiAgdmFyIHkwID0gY2xpcCh4IC0gdGhpcy5rKnk1KTsKICB5NSA9IGcqeTAgKyBzOwogCiAgLy8gY29tcHV0ZSBpbnRlZ3JhdG9yIG91dHB1dHMKICB2YXIgeTQgPSBnMCp5MCArIHMwOwogIHZhciB5MyA9IChiKnk0IC0gdGhpcy56WzNdKSAqIGFpbnY7CiAgdmFyIHkyID0gKGIqeTMgLSBhKnk0IC0gdGhpcy56WzJdKSAqIGFpbnY7CiAgdmFyIHkxID0gKGIqeTIgLSBhKnkzIC0gdGhpcy56WzFdKSAqIGFpbnY7CiAKICAvLyB1cGRhdGUgZmlsdGVyIHN0YXRlCiAgdGhpcy56WzBdICs9IDQqYSooeTAgLSB5MSArIHkyKTsKICB0aGlzLnpbMV0gKz0gMiphKih5MSAtIDIqeTIgKyB5Myk7CiAgdGhpcy56WzJdICs9IDIqYSooeTIgLSAyKnkzICsgeTQpOwogIHRoaXMuelszXSArPSAyKmEqKHkzIC0gMip5NCk7CiAgdGhpcy56WzRdID0gdGhpcy5iaCp5NCArIHRoaXMuYWgqeTU7CiAKICByZXR1cm4gdGhpcy5BKnk0Owp9OwogCi8vIC0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tCnZhciBzbmFyZV9wYXR0ID0gWwogIDAsMCwwLDAsMCwwLDAsMCwKICAuMywwLDAsMCwwLDAsMCwwLC8vLQogIDAsMCwwLDAsMCwwLDAsMCwKICAuMywwLDAsMCwwLDAsMCwwLC8vLQogIDAsMCwwLDAsMCwwLDAsMCwKICAuMywwLDAsMCwwLDAsMCwwLC8vLQogIDAsMCwwLDAsMCwwLDAsMCwKICAuMywwLDAsLjMsMCwwLC4zLDAvLy0KICBdOwp2YXIga2lja19wYXR0ID0gWwogIDEsMCwwLDAsMCwwLDAsMCwKICAxLDAsMCwwLDAsMCwwLDAsLy8tCiAgMSwwLDAsMSwwLDAsMSwwLAogIDEsMCwwLDAsMCwwLDAsMCwvLy0KICAxLDAsMCwwLDAsMCwwLDAsCiAgMSwwLDAsMCwwLDAsMCwwLC8vLQogIDEsMCwwLDEsMCwwLDEsMCwKICAxLDAsMSwxLDAsMCwxLDAvLy0KICBdOwp2YXIgaGF0X3BhdHQgPSBbCiAgMC4wMSwwLjEsMC41LDAuMDEKICBdOwogIAp2YXIgd29iX3N0YXRlX2luaXQgPSBbCiAgMCwwLDAsMCwwLDAsMCwwLAogIDAsMCwwLjI1LDAuNSwxLDEsMSwxLC8vLQogIDAsMCwwLDAsMCwwLDAsMCwKICAwLjI1LDAuNSwxLDAuNSwxLDAuNSwxLDAuNSwvLy0KICAwLDAsMCwwLDAsMCwwLDAsCiAgMCwwLDAuMjUsMC41LDEsMSwxLDEsLy8tCiAgMCwwLDAsMCwwLDAsMCwwLAogIDEsMSwxLDEsMSwxLDEsMS8vLQogIF07CnZhciB3b2JfbGZvID0gWwogIDgsOCw4LDgsMTYsMTYsMTYsMTYsOCw4LDgsOCw0LDQsMTYsOAogIF0ubWFwKCBmdW5jdGlvbihuKSB7IHJldHVybiBtczJmcmVxKG4pO30gKTsKdmFyIHdvYl9ub3RlX2luaXQgPSBbCiAwLDAsMCwwLDUsNSw1LDUsMywzLDMsMywxLDEsNSwtMgogXS5tYXAoIGZ1bmN0aW9uKG4pIHsgcmV0dXJuIG5vdGUobiwxKSB9KTsgCnZhciB3b2Jfbm90ZV9kcm9wID0gWwogMCwwLDAsMCw1LDUsNSw1LDMsMywzLDMsMSwxLDUsLTIsCiAwLDAsMCwwLC0yLC0yLC0yLC0yLC0zLC0zLC0zLC0zLC00LC00LC0yLC0yLAogMCwwLDAsMCwtMiwtMiwtMiwtMiwzLDMsMywzLDIsMiwzLDIsCiAwLDAsMCwwLC0yLC0yLC0yLC0yLDcsNyw3LDcsNSw1LDIsMgogXS5tYXAoIGZ1bmN0aW9uKG4pIHsgcmV0dXJuIG5vdGUobiwxKSB9KTsgCiAKdmFyIHBsaW5nX25vdGUgPSBbCiAgMCwzLDcsMTIsMCwzLDcsMTIsMCwzLDcsMTIsMCwzLDcsMTIsCiAgNSw5LDEyLDE3LDUsOSwxMiwxNyw1LDksMTIsMTcsNSw5LDEyLDE3LAogIDMsNywxMCwxNSwzLDcsMTAsMTUsMyw3LDEwLDE1LDMsNywxMCwxNSwKICAxLDUsOCwxMywxLDUsOCwxMywxLDUsOCwxMywxLDUsOCwxMwogIF0ubWFwKCBmdW5jdGlvbihuKSB7cmV0dXJuIG5vdGUobiwxKSB9KTsKICAKdmFyIGZyOF9ub3RlID0gWwogIDAsMCw1LDUsMywzLDEsNQogIF0ubWFwKCBmdW5jdGlvbihuKSB7cmV0dXJuIG5vdGUobiwxKSB9KTsKdmFyIGZyOF9vbiA9IFsKICAwLDAsMSwwCiAgXTsKdmFyIGJ1aWxkX2tpY2sgPSBbCiAgMSwwLDAsMCwwLDAsMCwwLDEsMCwwLDAsMCwwLDAsMCwKICAxLDAsMCwwLDEsMCwwLDAsMSwwLDAsMCwxLDAsMCwwLAogIDEsMCwxLDAsMSwwLDEsMCwxLDAsMSwwLDEsMCwxLDAsCiAgMSwxLDEsMSwxLDEsMSwxLDEsMSwxLDEsMSwxLDEsMQogIF07CiAgCiAgCi8vIC0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0KLy93b2JibGUgc2V0dXAKdmFyIG9zYzEgPSBPc2MoJ3NxcicpOwp2YXIgb3NjMiA9IE9zYygnc2F3Jyk7CnZhciBvc2MzID0gT3NjKCdzYXcnKTsKdmFyIGZpbCA9IG5ldyBEaW9kZUZpbHRlcigpOwpmaWwuc2V0X2hwZigwLjApOwpmaWwuc2V0X3EoMC4wNyk7CnZhciB3b2JibGUgPSBuZXcgU3luKFtvc2MxLG9zYzIsb3NjM10sWy0xLDAsLTFdKTsKIAovL2hhdCBzZXR1cAp2YXIgaGF0X25vdGUgPSBub3RlKDIxLDYpOwp2YXIgaGF0X29zYyA9IE9zYygncmFtcCcpOwogCi8vcGluZ3Bsb25nIHNldHVwCnZhciBhcnAxID0gT3NjKCdzcXInKTsKdmFyIGFycDIgPSBPc2MoJ3NpbicpOwp2YXIgYXJwMyA9IE9zYygnc2F3Jyk7CnZhciBwbGluZyA9IG5ldyBTeW4oW2FycDEsYXJwMixhcnAzXSxbMyw1LDFdKTsKIAovL3Nrd2Vhcgp2YXIgc2t3ID0gT3NjKCdzYXcnLDIpOwogCiAKbGV0IHdvYl9zdGF0ZSx3b2Jfbm90ZSxpOwpmdW5jdGlvbiBkc3AodCkgewogIGNsb2NrKHQpOwogIHZhciBiZWF0ID0gTWF0aC5mbG9vcih0Lyg2MC9icG0pKSUzMzY7CiAgCiAgdmFyIG5vaXNlID0gTm9pc2UoKTsKICAKICAvL2VuZGluZwogIHZhciBlbmRfbXV0ZXIgPSBiZWF0ID49IDI1Nj8gMDoxOwogIAogIC8vd2liYmxlIHdvYmJsZQogIHZhciB3b2Jfb24gPSAoYmVhdCA+PSAxNiAmJiBiZWF0IDwgMzIwKT8gMSA6IDA7CiAgdmFyIHdvYl92b2wgPSAxOwogIGZpbC5zZXRfcSgwLjEzICsgc2luKDAuNSkqMC4xMyk7CiAgZmlsLnNldF9mYygwLjI5ICsgdHJpKHNlcXVlbmNlKDEvNCx3b2JfbGZvKSkqMC4yODkpOwogIGlmKGJlYXQgPiA5NSkgeyAKICAgIHdvYl9zdGF0ZT1bMV07CiAgICB3b2Jfbm90ZSA9IHdvYl9ub3RlX2Ryb3A7CiAgICB3b2Jfdm9sID0gMC43NTsKICAgIHdvYmJsZS5zZXRPY3RzKFstMSwzLDJdKTsKICB9IGVsc2UgeyAvLyBlbHNlIGNsYXVzZSBwcmV2ZW50IHZhcmlhYmxlcyBiZWluZyBzdGlja3kgaWYgeW91IHdhbnQgdG8gcGxheSBpdCBhZ2FpbgogICAgd29iX3N0YXRlID0gd29iX3N0YXRlX2luaXQ7IAogICAgd29iX25vdGUgPSB3b2Jfbm90ZV9pbml0OwogICAgd29iX3ZvbCA9IDE7CiAgICB3b2JibGUuc2V0T2N0cyhbLTEsMCwtMV0pOwogIH0KICB2YXIgd29iID0gIGZpbC5ydW4od29iYmxlLm1peCggc2VxdWVuY2UoMS80LHdvYl9ub3RlKSApKSAqIHNlcXVlbmNlKDEvMTYsd29iX3N0YXRlKSAqIHdvYl9vbjsKICAKICAvL3NwYWNleSBwbGluZ3Bsb25ncwogIHZhciBwbGluZ3MgPSBwbGluZy5taXgoIHNlcXVlbmNlKDEvMTYsIHBsaW5nX25vdGUgKSkgKiBzcXIobXMyZnJlcSgxNikpOwogIAogIC8vNC04LzE2LXNrd3IKICB2YXIgZnI4ID0gc2t3LnBsYXkoc2VxdWVuY2UoMS8yLCBmcjhfbm90ZSksICgyICsgTWF0aC5mbG9vcihiZWF0LzE2KSUyKSkgKiBzZXF1ZW5jZSgxLzgsZnI4X29uKTsKICBmcjggPSAoZnI4ID4gMC44NSk/IDE6MDsKICAKICAvL2FsbCBsZSBkcnVtcwogIHZhciBkcnVtc19vbiA9IChiZWF0ID49IDgwICYmIGJlYXQgPCA5Nik/IDA6MTsKICB2YXIgZHJ1bXMgPSBhcnAoMS8xNiw2MCw0MCwyMCkgKiBzZXF1ZW5jZSgxLzE2LGtpY2tfcGF0dCkgKyBhcnAoMS8xNiw2MCw4MCwzKSAqIG5vaXNlICogc2VxdWVuY2UoMS8xNixzbmFyZV9wYXR0KTsKICB2YXIgZHJ1bXNfYnVpbGQgPSBhcnAoMS8xNiw2MCw0MCArIChiZWF0IC0gODApKjIsMjApICogc2VxdWVuY2UoMS8xNixidWlsZF9raWNrKSAqICggMSAtIGRydW1zX29uKTsKICB2YXIgaGF0c19vbiA9IGJlYXQgPj0gMzI/IDE6IDA7CiAgdmFyIGhhdCA9IGFycCgxLzE2LCBoYXRfb3NjLnBsYXkoaGF0X25vdGUpICsgbm9pc2UgKiAxLjQsIDE4LCA3MCkgKiBzZXF1ZW5jZSgxLzE2LGhhdF9wYXR0KSAqIGhhdHNfb247CiAgCiAgcmV0dXJuICgKICAgICB3b2IgKiB3b2Jfdm9sCiAgICArIGRydW1zICogMC45ICogZHJ1bXNfb24KICAgICsgZHJ1bXNfYnVpbGQgKiAwLjkKICAgICsgaGF0ICogMC43ICogZHJ1bXNfb24gKiBlbmRfbXV0ZXIKICAgICsgcGxpbmdzICogMC4wOSAqIGVuZF9tdXRlcgogICAgKyBmcjggKiAwLjIgKiBkcnVtc19vbiogZW5kX211dGVyCiAgICApOwp9Cgo=)

## Read More

To understand more about making music with maths, read my blog post series:

- <https://loophole-letters.netlify.app/buffers/>
- <https://loophole-letters.netlify.app/real-time-synthesis/>
- <https://loophole-letters.netlify.app/real-time-synthesis2/>

## Credits

- [htmlbytebeat](https://github.com/greggman/html5bytebeat)
- [wavepot](http://wavepot.com/) inspired the `dsp` function (before it was just a `t` expression)
